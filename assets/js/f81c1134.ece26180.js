"use strict";(self.webpackChunkfenrir_d_github_io=self.webpackChunkfenrir_d_github_io||[]).push([[8130],{7735:n=>{n.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"My-First-Npm-Publish","metadata":{"permalink":"/blog/My-First-Npm-Publish","source":"@site/blog/2024-06-15-My-First-Npm-Publish/index.md","title":"NPM \uc800\uc7a5\uc18c\uc5d0 \ub0b4\uac00 \ub9cc\ub4e0 \ucef4\ud3ec\ub10c\ud2b8 \uc5c5\ub85c\ub4dc \ud558\uae30","description":"\ub3c4\uc785","date":"2024-06-15T00:00:00.000Z","tags":[{"inline":true,"label":"VueJS","permalink":"/blog/tags/vue-js"},{"inline":true,"label":"NPM","permalink":"/blog/tags/npm"},{"inline":true,"label":"\uacf5\ud1b5 \ucef4\ud3ec\ub10c\ud2b8","permalink":"/blog/tags/\uacf5\ud1b5-\ucef4\ud3ec\ub10c\ud2b8"}],"readingTime":11.945,"hasTruncateMarker":true,"authors":[{"name":"Fenrir","title":"\ubc14\ubcf4\uc5d0\uc11c \ubc97\uc5b4\ub098\uae38 \ud76c\ub9dd\ud558\ub294 \uc790","url":"https://github.com/FenrirD","imageURL":"https://github.com/fenrirD.png","key":"fenrir"}],"frontMatter":{"slug":"My-First-Npm-Publish","title":"NPM \uc800\uc7a5\uc18c\uc5d0 \ub0b4\uac00 \ub9cc\ub4e0 \ucef4\ud3ec\ub10c\ud2b8 \uc5c5\ub85c\ub4dc \ud558\uae30","authors":["fenrir"],"tags":["VueJS","NPM","\uacf5\ud1b5 \ucef4\ud3ec\ub10c\ud2b8"]},"unlisted":false,"nextItem":{"title":"HOC\ub85c \uacf5\ud1b5 \uc778\uac00 \uc801\uc6a9\ud558\uae30","permalink":"/blog/HOC-And-Authorization"}},"content":"## \ub3c4\uc785\\n\\n![\uace0\ubbfc \uc911.](./package-json.png)\\n\\n\ud604 \ud68c\uc0ac\uc5d0\uc11c FE \uac1c\ubc1c\uc790\ub85c \uac1c\ubc1c\ud558\uba74\uc11c \ub9ce\uc740 \ud398\uc774\uc9c0\ub97c \uac1c\ubc1c\ud558\uace0, \uadf8 \uacfc\uc815\uc5d0\uc11c \uacf5\ud1b5\uc801\uc73c\ub85c \uc0ac\uc6a9\ud558\ub294 \uae30\ub2a5\uc744 \uacf5\ud1b5 \ucef4\ud3ec\ub10c\ud2b8\ub85c \ub9cc\ub4dc\ub294 \uc791\uc5c5\uc744 \ud588\ub2e4.\\n\\n\uc774\ub807\uac8c \uacf5\ud1b5 \ucef4\ud3ec\ub10c\ud2b8\ub4e4\uc744 \ub9cc\ub4e4\ub2e4 \ubcf4\ub2c8 \ubb38\ub4dd NPM\uc5d0 \ub0b4\uac00 \ub9cc\ub4e0 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc62c\ub824\ubcf4\uace0 \uc2f6\uc5b4\uc84c\uace0, \uc774 \ud3ec\uc2a4\ud2b8\ub97c \ud1b5\ud574 \uadf8 \uacfc\uc815\uc744 \uae30\ub85d\ud558\ub824\uace0 \ud55c\ub2e4.\\n\\n\x3c!--truncate--\x3e\\n\\n## \ubcf8\ub860\\n\\n\uba3c\uc800, \ub0b4\uac00 `\uc774\uc288\ub9ac\ud3ec\ud130`\ub77c\ub294 \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud558\uba74\uc11c, \ub9ce\ub4e0 \uacf5\ud1b5 \ucef4\ud3ec\ub10c\ud2b8 \ubaa9\ub85d\uc740 \uc544\ub798\uc640 \uac19\ub2e4.\\n\\n* \uadf8\ub9ac\ub4dc\\n* \ud074\ub9bd\ubcf4\ub4dc\\n* \uc778\uc99d/\uc778\uac00\\n* \uc2a4\ud53c\ub108\\n* \ud2b8\ub9ac \uad6c\uc870\\n\\n\uc774 \ucef4\ud3ec\ub10c\ud2b8 \uc911\uc5d0\uc11c \ub2e4\ub978 \ud328\ud0a4\uc9c0\ub4e4\uacfc \uc758\uc874\uc131\uc774 \uc81c\uc77c \ub0ae\uc740 \ud074\ub9bd\ubcf4\ub4dc\ub97c `NPM \uc800\uc7a5\uc18c`\uc5d0 \uc62c\ub824\ubcf4\ub824\uace0 \ud55c\ub2e4. \\n\\n### So, What is npm?\\n\\n\ud3c9\uc18c \uac1c\ubc1c\ud558\uba74\uc11c \ud504\ub85c\uc81d\ud2b8\uc5d0 \ud328\ud0a4\uc9c0, \ub77c\uc774\ube0c\ub7ec\ub9ac, \uc774\ubbf8\uc9c0 \ub4f1\uc744 \uc0ac\uc6a9\ud558\ub294\ub370 \uc774 \ub54c, \uc774\ub7ec\ud55c \ud328\ud0a4\uc9c0\ub97c \uac00\uc838\uc624\ub294 \uc800\uc7a5\uc18c\uac00 \uc788\ub294\ub370\\njavascript \uc0ac\uc6a9\ud558\ub294 \ud328\ud0a4\uc9c0 \uc800\uc7a5\uc18c\uac00 **NPM**\uc774\ub2e4.\\n\\n![\ud328\ud0a4\uc9c0 \uc800\uc7a5\uc18c\uc758 3\ub300\uc7a5](./img.png)\\n\\n**NPM(Node Package Manager)** \uc740 JavaScript \uc5b8\uc5b4\ub97c \uc704\ud55c \ud328\ud0a4\uc9c0 \uad00\ub9ac \ub3c4\uad6c\ub85c Node.js \ud658\uacbd\uc5d0\uc11c \uc11c\ubc84 \uc0ac\uc774\ub4dc \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uac1c\ubc1c\ud560 \ub54c \\n\uc8fc\ub85c \uc0ac\uc6a9\ud558\uc9c0\ub9cc, \ud504\ub860\ud2b8\uc5d4\ub4dc \uc6f9\uac1c\ubc1c\uc5d0\uc11c\ub3c4 \ub9ce\uc774 \uc0ac\uc6a9\ub41c\ub2e4.\\n\\n**NPM**\uc740 \uc544\ub798\uc640 \uac19\uc740 \uc8fc\uc694 \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4.\\n* \ud328\ud0a4\uc9c0 \uc124\uce58: \ud544\uc694\ud55c \ud328\ud0a4\uc9c0\ub97c \uc27d\uac8c \uc124\uce58\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, npm install lodash \uba85\ub839\uc744 \uc2e4\ud589\ud558\uba74 lodash\ub77c\ub294 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \ud504\ub85c\uc81d\ud2b8\uc5d0 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n* \ud328\ud0a4\uc9c0 \uad00\ub9ac: \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \ubaa8\ub4e0 \ud328\ud0a4\uc9c0\ub97c \ud55c \uacf3\uc5d0\uc11c \uad00\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. package.json \ud30c\uc77c\uc740 \ud504\ub85c\uc81d\ud2b8\uac00 \uc5b4\ub5a4 \ud328\ud0a4\uc9c0\uc5d0 \uc758\uc874\ud558\ub294\uc9c0, \uadf8\ub9ac\uace0 \uc5b4\ub5a4 \ubc84\uc804\uc758 \ud328\ud0a4\uc9c0\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\ub294\uc9c0\uc5d0 \ub300\ud55c \uc815\ubcf4\ub97c \ub2f4\uace0 \uc788\uc2b5\ub2c8\ub2e4.\\n* \ud328\ud0a4\uc9c0 \uac8c\uc2dc: \uc790\uc2e0\uc774 \uc791\uc131\ud55c \ucf54\ub4dc\ub97c \ud328\ud0a4\uc9c0 \ud615\ud0dc\ub85c \ub9cc\ub4e4\uace0, NPM \uacf5\uac1c \uc800\uc7a5\uc18c\uc5d0 \uac8c\uc2dc\ud558\uc5ec \ub2e4\ub978 \uac1c\ubc1c\uc790\uac00 \uc27d\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c \ud558\ub294 \uae30\ub2a5\ub3c4 \uc81c\uacf5\ud569\ub2c8\ub2e4.\\n\\n:::info\\n[NPM(Node Package Manager)](https://docs.npmjs.com/)\\n:::\\n\\n\ud3c9\uc18c\uc5d0 \uc124\uce58, \uad00\ub9ac \ub4f1\uc740 \uc774\uc6a9\ud558\uc9c0\ub9cc \ud55c\ubc88\ub3c4 **NPM**\uc5d0 \ub0b4\uac00 \ub9cc\ub4e0 \ud328\ud0a4\uc9c0\ub97c \uc5c5\ub85c\ub4dc \ud574\ubcf8\uc801\uc774 \uc5c6\uc5b4\uc11c \uc2dc\ub3c4\ud574 \ubcf4\ub824\uace0 \ud55c\ub2e4.\\n\\n### 1. \uae30\uc874 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \ud074\ub9bd\ubcf4\ub4dc \uc18c\uc2a4 \ubd84\ub9ac\ud558\uae30\\n\uba3c\uc800, vue cli\ub85c \ud504\ub85c\uc81d\ud2b8\ub97c \uc0dd\uc131\ud55c\ub2e4.\\n\\n```shell\\n$ npm init vue@latest\\n```\\n\uc0dd\uc131\ub41c \ud504\ub85c\uc81d\ud2b8\uc5d0 \ub0b4\uac00 \uac1c\ubc1c\ud55c \ucef4\ud3ec\ub10c\ud2b8\ub97c \ubd99\uc5b4\ub123\uae30 \ud588\ub2e4. \\n\uadf8\ub9ac\uace0 `npm run dev` \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud558\uc790\ub9c8\uc790 \ub0b4\uac00 \ub9c8\uc8fc\ud55c \uac83\uc740 \uc218 \ub9ce\uc740 \uc5d0\ub7ec\uc600\ub2e4.\\n![CP \ud6c4 \uc5d0\ub7ec](./error.png)\\n\\n\uc5d0\ub7ec \ub0b4\uc6a9\uc73c\ub85c\ub294 \ub0b4\uac00 \uac1c\ubc1c\ud55c \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \ub2e4\ub978 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc0ac\uc6a9\uc911\uc778\ub370 \uc5c6\uace0, \uae30\uc874 \ud504\ub85c\uc81d\ud2b8 \uac1c\ubc1c \ud658\uacbd\uc740 `vue:2.6.14`\uc5d0 \\n`composition-api`\ub97c \ucd94\uac00\ud574\uc11c \uc0ac\uc6a9\uc911\uc774\uc600\uc73c\ub098, `vue cli`\ub85c \uc0dd\uc131\ud55c \ud504\ub85c\uc81d\ud2b8\ub294 `vue:3.x`\ub97c \uc0ac\uc6a9\ud55c\ub2e4. \\n\\n\ub0b4\uac00 \uac1c\ubc1c\ud55c \ucef4\ud3ec\ub10c\ud2b8\ub294 \ucc98\uc74c\ubd80\ud130 \ud574\ub2f9 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc0ac\uc6a9\ud55c\ub2e4\uace0 \uc0dd\uac01\ud558\uace0 \uac1c\ubc1c \ud588\uae30 \ub54c\ubb38\uc5d0 \uae30 \ud504\ub85c\uc81d\ud2b8\uc5d0 \uc5c4\uccad\ub09c \ucee4\ud50c\ub9c1\uc774 \ub418\uc5b4\uc788\uc5c8\ub2e4.\\n\\n\ub0b4 \ubaa9\ud45c\ub294 \uc720\uc5f0\ud558\uace0 \ubc94\uc6a9\uc131 \ub192\uc740 \uc624\ud508\uc18c\uc2a4\ub97c \ub9cc\ub4dc\ub294\uac8c \uc544\ub2cc `NPM`\uc5d0 \uc5c5\ub85c\ub4dc\ud558\uace0 \uc778\uc2a4\ud1a8 \ud574\uc11c \uc0ac\uc6a9\ud574\ubcf4\uc790\uc600\uae30 \ub54c\ubb38\uc5d0 \\n\uc5d0\ub7ec \ub098\ub294 \ubd80\ubd84\ub9cc \uc218\uc815\ud558\ub294 \uc791\uc5c5\uc744 \uc9c4\ud589 \ud588\ub2e4. \\n\\n> [\uc218\uc815\ud55c \uc18c\uc2a4 \ub808\ud30c\uc9c0\ud1a0\ub9ac](https://github.com/fenrirD/vue-clipboard/tree/master)\\n\\n### 2. NPM\uc5d0 \ud328\ud0a4\uc9c0 \uc5c5\ub85c\ub4dc \ud558\uae30\\n\\n**NPM**\uc5d0\uc11c \ud328\ud0a4\uc9c0\ub97c \ub2e4\uc6b4\ub85c\ub4dc\ub9cc \ubc1b\uc544\ubcf4\uace0, \ud328\ud0a4\uc9c0\ub97c \uc62c\ub824\ubcf8\uc801\uc774 \uc5c6\ub358 \ub098\ub294 \uc5b4\ub5bb\uac8c \uc5c5\ub85c\ub4dc \ud574\uc57c\ud558\ub294\uc9c0 \ubd80\ud130 \ucc3e\uc544\ubd24\uace0, \uadf8 \uc21c\uc11c\ub294 \uc544\ub798\uc640 \uac19\ub2e4.\\n\\n\\n\\n#### 1. NPM \uac00\uc785\ud558\uae30\\n\ub0b4\uac00 \uad00\ub9ac\ud558\ub290 \ud328\ud0a4\uc9c0\ub97c \uc5c5\ub85c\ub4dc\ub97c \ud558\ub824\uba74 \ub2f9\uc5f0\ud788 \ub0b4 \uacc4\uc815\uc774 \ud544\uc694\ud558\ub2e4.\\n\ud68c\uc6d0\uac00\uc785\uc740 [NPM SignUp](https://www.npmjs.com/signup)\uc5d0\uc11c \uc9c4\ud589\ud558\uba74 \ub41c\ub2e4.\\n\\n:::info\\nhttps://docs.npmjs.com/creating-a-new-npm-user-account\\n:::\\n\\n#### 2. \ud130\ubbf8\ub110\uc5d0\uc11c \ub85c\uadf8\uc778\ud558\uae30\\n\uba3c\uc800 \ub85c\uceec\uc5d0 \uc788\ub294 \uc18c\uc2a4\ub97c **NPM** \uc800\uc7a5\uc18c\uc5d0 \uc62c\ub824\uc57c \ud558\ubbc0\ub85c \ub85c\uceec \ub85c\uceec \ud130\ubbf8\ub110 \ud658\uacbd\uc5d0\uc11c \ub85c\uadf8\uc778\uc774 \uc798 \ub418\ub294\uc9c0 \ud655\uc778\uc744 \ud574\uc8fc\ub294 \uacfc\uc815\uc774\ub2e4.\\n\\n```shell\\n$ npm login\\n\\nnpm WARN adduser `adduser` will be split into `login` and `register` in a future version. `adduser` will become an alias of `register`. `login` (currently an alias) will become its own command.\\nnpm notice Log in on https://registry.npmjs.org/\\nUsername: fenrir93\\nPassword:\\nEmail: (this IS public) fenrir4504@gmail.com\\nnpm notice Please check your email for a one-time password (OTP)\\nEnter one-time password: \\nLogged in as fenrir93 on https://registry.npmjs.org/.\\n\\n```\\n\ub85c\uadf8\uc778 \uba85\ub839\uc5b4\ub97c \uce58\uac8c \ub418\uba74 \uac00\uc785\ud55c \uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778 \ud560 \uc218 \uc788\ub2e4. \\n\\n> \ub9cc\uc57d \ub85c\uadf8\uc778\uc744 \uc548\ud558\uace0 \uc9c4\ud589\ud558\uac8c \ub418\uba74 403\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud55c\ub2e4.\\n> ![403\uc5d0\ub7ec](img_1.png)\\n\\n#### 3. package.json \uc791\uc131\ud558\uae30\\n\ub098\ub294 \uc55e\uc5d0\uc11c `vue cli`\ub85c \ud504\ub85c\uc81d\ud2b8\ub97c \uc0dd\uc131\ud574\uc11c `npm init` \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 `package.json`\uc744 \ubcc4\ub85c\ub85c \uc0dd\uc131\ud560 \ud544\uc694\ub294 \uc5c6\uc5c8\uc9c0\ub9cc \ud30c\uc77c\uc774 \uc5c6\ub2e4\uba74\\n`npm init`\uc73c\ub85c `package.json`\uc744 \uc0dd\uc131\ud574\uc918\uc57c \ud55c\ub2e4.\\n\\n**npm**\uc5d0 \ud328\ud0a4\uc9c0\ub97c \ubc30\ud3ec\ud558\uae30 \uc704\ud574\uc11c\ub294 \ud544\uc218\uc801\uc73c\ub85c \ub4e4\uc5b4\uac00\uc57c\ud558\ub294 \uac12\ub4e4\uc774 \uc874\uc7ac\ud558\ub294\ub370 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n\\n```json\\n{\\n  \\"name\\": \\"your-package-name\\", // \ud328\ud0a4\uc9c0\uc758 \uc774\ub984. npm \ub808\uc9c0\uc2a4\ud2b8\ub9ac\uc5d0 \uace0\uc720\ud574\uc57c \ud569\ub2c8\ub2e4.\\n  \\"version\\": \\"1.0.0\\", // \ud328\ud0a4\uc9c0\uc758 \ud604\uc7ac \ubc84\uc804. SemVer(\uc720\uc758\uc801 \ubc84\uc804) \ud615\uc2dd\uc744 \ub530\ub985\ub2c8\ub2e4.\\n  \\"description\\": \\"Description of your package\\", // \ud328\ud0a4\uc9c0\uc5d0 \ub300\ud55c \uac04\ub7b5\ud55c \uc124\uba85.\\n  \\"main\\": \\"index.js\\", // \ud328\ud0a4\uc9c0\uac00 \ud638\ucd9c\ub420 \ub54c \uae30\ubcf8\uc73c\ub85c \ub85c\ub4dc\ub418\ub294 \ubaa8\ub4c8\uc758 \uc9c4\uc785\uc810.\\n  \\"scripts\\": { }, // \ud328\ud0a4\uc9c0 \uc2a4\ud06c\ub9bd\ud2b8. \uacf5\ubc31\uc77c \uc218 \uc788\uc9c0\ub9cc \uc8fc\ub85c \\"start\\", \\"test\\" \ub4f1\uc758 \uc2a4\ud06c\ub9bd\ud2b8\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4.\\n  \\"keywords\\": [], // \ud328\ud0a4\uc9c0\uc5d0 \uad00\ub828\ub41c \ud0a4\uc6cc\ub4dc\uc758 \ubc30\uc5f4. \uac80\uc0c9 \uc5d4\uc9c4 \ucd5c\uc801\ud654\uc640 \ud328\ud0a4\uc9c0 \uac80\uc0c9\uc744 \ub3c4\uc640\uc90d\ub2c8\ub2e4.\\n  \\"author\\": \\"Your Name <your.email@example.com> (Your website)\\", // \ud328\ud0a4\uc9c0 \uc791\uc131\uc790\uc758 \uc815\ubcf4.\\n  \\"license\\": \\"ISC\\" // \ud328\ud0a4\uc9c0\uc5d0 \uc801\uc6a9\ub41c \ub77c\uc774\uc120\uc2a4. \uc77c\ubc18\uc801\uc73c\ub85c \\"MIT\\"\ub098 \\"ISC\\" \ub4f1\uc758 \uacf5\uac1c \uc18c\ud504\ud2b8\uc6e8\uc5b4 \ub77c\uc774\uc120\uc2a4\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\\n  \\"repository\\": {\\n    \\"type\\": \\"git\\",\\n    \\"url\\": \\"git+https://github.com/${UserName}/${RepoName}.git\\"\\n  } // \uc18c\uc2a4\uac00 \uad00\ub9ac\ub418\ub294 \uc800\uc7a5\uc18c\\n}\\n``` \\n\uadf8\ub9ac\uace0 \uc704 \uc815\ubcf4\ub97c \ubc14\ud0d5\uc73c\ub85c `package.json`\uc5d0 \uc801\uc6a9\ud588\ub2e4.\\n```json\\n{\\n  \\"name\\": \\"vue-clipboard\\",\\n  \\"version\\": \\"1.0.1\\",\\n  \\"description\\": \\"vue clipboard, thumbnail\\",\\n  \\"private\\": false,\\n  \\"type\\": \\"module\\",\\n  \\"scripts\\": {},\\n  \\"dependencies\\": {},\\n  \\"repository\\": {\\n    \\"type\\": \\"git\\",\\n    \\"url\\": \\"git+https://github.com/fenrirD/vue-clipboard.git\\"\\n  },\\n  \\"keywords\\": [\\n    \\"Vue.js\\"\\n  ],\\n  \\"author\\": \\"fenrir93\\",\\n  \\"devDependencies\\": {}\\n}\\n\\n\\n```\\n\\n#### 3. \ubc30\ud3ec\ud558\uae30\\n\\n`package.json`\uc744 \ub2e4 \uc791\uc131 \ud588\ub2e4\uba74 \uc774\uc81c **NPM**\uc5d0 \ubc30\ud3ec\ub9cc \ub0a8\uc558\ub2e4. \ubc30\ud3ec\ub294 \ubc30\ud3ec\ud560 \ud504\ub85c\uc81d\ud2b8 \uacbd\ub85c\uc5d0\uc11c `npm publish`\ub9cc \ud574\uc8fc\uba74 \ub41c\ub2e4.\\n\\n```shell\\n$ npm publish\\n```\\n\\n\u0f3c \u3064 \u25d5_\u25d5 \u0f3d\u3064(\ub450\uadfc\ub450\uadfc\ub450\uadfc)\\n\\n![403\uc5d0\ub7ec](img_3.png)\\n\\n.... \uc65c \ub610 403\uc5d0\ub7ec \uc77c\uae4c \ud558\uace0 \ubd24\ub354\ub2c8 \ud604\uc7ac \ud130\ubbf8\ub110\uc5d0 \ub85c\uadf8\uc778\ud55c \uc720\uc800\uac00 **\\"vue-clipboard\\"** \uc5d0 \ub300\ud55c \uad8c\ud55c\uc774 \uc5c6\ub2e4\ub294 \uac83\uc774\ub2e4.\\n**(\u256f\xb0\u25a1\xb0\uff09\u256f\ufe35 \u253b\u2501\u253b**\\n\\n![\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ud074\ub9bd\ubcf4\ub4dc](img_2.png)\\n\\n\uadf8\ub798\uc11c \ucc3e\uc544 \ubd24\ub354\ub2c8 \uc774\ubbf8 **\\"vue-clipboard\\"**\ub77c\ub294 \uc774\ub984\uc758 \ud328\ud0a4\uc9c0\uac00 \uc874\uc7ac\ud588\ub2e4. \uadf8\ub798\uc11c **\\"fenrir-vue-clipboard\\"**\ub85c \ub0c5\ub2e4 \ubcc0\uacbd\ud588\ub2e4.\\n\\n\ub2e4\uc2dc `npm publish` \ub97c \uc785\ub825\ud55c \uacb0\uacfc \uc544\ub798\uc640 \uac19\uc774 \uc131\uacf5 \ud588\ub2e4.\\n\\n![\uccab\ubc88\uc9f8 \ubc30\ud3ec](img_4.png)\\n\\n> NPM \ud328\ud0a4\uc9c0\uc5d0 \ub2f9\ub2f9\ud788 \uc62c\ub77c\uac04 \ub0b4 \ud328\ud0a4\uc9c0\\n> ![img_5.png](img_5.png)\\n\\n:::info\\n[\ub0b4\uac00 \ub9cc\ub4e0 Package](https://www.npmjs.com/package/fenrir-vue-clipboard)\\n:::\\n\\n### 4. \uc124\uce58 \ubc0f \uc0ac\uc6a9\\n\\n**NPN** \uc800\uc7a5\uc18c\uc5d0\ub3c4 \ub2f9\ub2f9\ud788 \uc62c\ub77c\uac04 \ub0b4 \ud328\ud0a4\uc9c0\ub97c \uc124\uce58\ud558\uace0, \uc0ac\uc6a9\ud574\ubcf4\uae30 \uc704\ud574\uc11c \uc0c8\ub85c\uc6b4 \ud504\ub85c\uc81d\ud2b8\ub97c \ub9cc\ub4e4\uace0 \uc778\uc2a4\ud1a8\uc744 \ud574\ubd24\ub2e4.\\n\\n```shell\\n$ npm install fenrir-vue-clipboard\\n```\\n> \uc815\uc0c1\uc801\uc73c\ub85c \uc124\uce58\ub41c \ub0b4 \ud328\ud0a4\uc9c0!\\n> ![img_6.png](img_6.png)\\n\\n\ud328\ud0a4\uc9c0\ub3c4 \uc815\uc0c1\uc801\uc73c\ub85c \uc124\uce58\ub418\uace0, \uae30\ubd84\uc774 \uc88b\uc544\uc9c4 \ub098\ub294 \ud798\ucc28\uac8c \ud504\ub85c\uc81d\ud2b8\ub97c \uc2e4\ud589\ud588\ub2e4.\\n\\n\ud558\uc9c0\ub9cc....\\n\\n![img_7.png](img_7.png)\\n\\n\uacbd\ub85c\ub97c \ubabb\ucc3e\ub294 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\ub2e4. \ud750\uc74c. \uadf8\ub798\uc11c \ucc3e\uc544\ubcf4\ub2c8 **NPM**\uc5d0 \ubc30\ud3ec\ud55c \ud328\ud0a4\uc9c0\ub294 `alias` \uc124\uc815\uc744 \ud574\uc8fc\ub824\uba74 \ubcc4\ub3c4 \ud328\ud0a4\uc9c0\ub97c \ub2e4\uc6b4\ub85c\ub4dc \ud574\uc11c\\n\ub530\ub85c \uc124\uc815\uc774 \ud544\uc694\ud55c\uac70 \uac19\ub2e4. \uadf8\ub798\uc11c \ub098\ub294 \uc77c\ub2e8 \uc0c1\ub300 \uacbd\ub85c\ub85c \ubcc0\uacbd\uc744 \ud574\uc8fc\ub294 \uc791\uc5c5\uc744 \ud588\ub2e4.\\n\\n\uadf8\ub9ac\uace0 \ub2e4\ub978 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uba74 \uc548\ub418\ub2c8\uae4c \ubc30\ud3ec\ud558\uae30\uc804\uc5d0 \ud14c\uc2a4\ud2b8\ub97c \uba3c\uc800 \uc9c4\ud589\ud588\ub2e4. \ud14c\uc2a4\ud2b8 \ubc29\ubc95\uc740 \uc544\ub798\uc640 \uac19\ub2e4\\n\\n```shell\\n$ npm install \ud328\ud0a4\uc9c0 \uacbd\ub85c\\n```\\n\uc704 \uba85\ub839\uc5b4\ub97c \ud14c\uc2a4\ud2b8\ud560 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc2e4\ud589\ud558\uba74 `packae.json`\uc774 \uc544\ub798\uc640 \uac19\uc774 \ubcc0\uacbd\ub41c\ub2e4.\\n\\n![\ubcc0\uacbd\ub41c Package.json](img_8.png)\\n\\n\uc774\uc81c \ub2e4\uc2dc \uc2e4\ud589 \ud504\ub85c\uc81d\ud2b8\ub97c \uc2e4\ud589\ud558\uba74 \uc815\uc0c1\uc801\uc73c\ub85c \uc2e4\ud589\uc774 \ub418\uace0, \ub0b4 \ucef4\ud3ec\ub10c\ud2b8\uc758 \uae30\ub2a5\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \ub3d9\uc791\ud558\ub294\uc9c0 \ud14c\uc2a4\ud2b8 \ud560 \uc218 \uc788\ub2e4.\\n\uc2e4\ud589\ud55c \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \ud14c\uc2a4\ud2b8 \uacb0\uacfc \uc815\uc0c1\uc801\uc73c\ub85c \ub3d9\uc791\uc744 \ud558\uc600\uace0, \ubc84\uc804\uc744 \uc62c\ub824\uc11c \ubc30\ud3ec\ub97c \ub2e4\uc2dc \uc9c4\ud589\ud588\ub2e4.\\n\\n\uadf8\ub9ac\uace0 \ub2e4\uc2dc \uc124\uce58\ub97c \ud558\uace0, \ub3d9\uc791 \uacb0\uacfc **(\\\\*/\u03c9\uff3c\\\\*)**\\n\\n![img_9.png](img_9.png)\\n\\n\ub0b4\uac00 \uad6c\ud604\ud55c \uae30\ub2a5\ub4e4\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \ub3d9\uc791\uc774 \ub410\ub2e4.\\n\\n## \uacb0\ub860\\n\\n\ub0b4\uac00 \ub9cc\ub4e0 \ud328\ud0a4\uc9c0\ub294 `vue 3.x.x`\uc5d0\uc11c\ub9cc \ub3d9\uc791\ud558\uace0, `props`\ub3c4 \ub2e4\uc591\ud558\uc9c0 \ubabb\ud574\uc11c \ubc94\uc6a9\uc131, \ud655\uc815\uc131, \uc720\uc5f0\uc131 \ub4f1\uc758 \ubaa8\ub4e0 \uc810\uc5d0\uc11c \uc774\uac78 \uacfc\uc5f0 \ub204\uac00 \uc4f8\uae4c?\\n\ub77c\uace0 \uc0dd\uac01\uc774 \ub4e0\ub2e4. \\n\\n\ud558\uc9c0\ub9cc \ucc98\uc74c \ud328\ud0a4\uc9c0\ub97c \uc62c\ub9b4 \ub54c, \ub0b4 \ubaa9\ud45c\ub294 \uc77c\ub2e8 \uc62c\ub9ac\uace0, \uc0ac\uc6a9\ud574\ubcf4\uc790\uac00 \ubaa9\ud45c \uc600\uc73c\ubbc0\ub85c \ub0b4 \ubaa9\ud45c\ub294 \ub2ec\uc131 \ud588\ub2e4.\\n\\n![img_10.png](img_10.png)\\n\\n\uc55e\uc73c\ub85c\ub294 \ub0b4\uac00 \ud68c\uc0ac\uc5d0\uc11c \ub9cc\ub4e0 \uacf5\ud1b5 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc880 \ub354 \uc720\uc5f0\ud558\uace0 \ud655\uc815\uc131 \ub192\uac8c \uc124\uacc4\ud574\uc11c **NPM**\uc5d0 \uc62c\ub9ac\ub294\uac78 \ubaa9\ud45c\ub85c \uac1c\ubc1c\uc744 \ud574\uc57c\uaca0\ub2e4.\\n\\n![img_end.png](..%2F2024-01-12-HOC-And-Authorization%2Fimg_end.png)"},{"id":"HOC-And-Authorization","metadata":{"permalink":"/blog/HOC-And-Authorization","source":"@site/blog/2024-01-12-HOC-And-Authorization/index.md","title":"HOC\ub85c \uacf5\ud1b5 \uc778\uac00 \uc801\uc6a9\ud558\uae30","description":"\ub3c4\uc785","date":"2024-01-12T00:00:00.000Z","tags":[{"inline":true,"label":"Vue.js","permalink":"/blog/tags/vue-js"},{"inline":true,"label":"Authorization","permalink":"/blog/tags/authorization"},{"inline":true,"label":"HOC","permalink":"/blog/tags/hoc"},{"inline":true,"label":"js","permalink":"/blog/tags/js"}],"readingTime":9.42,"hasTruncateMarker":true,"authors":[{"name":"Fenrir","title":"\ubc14\ubcf4\uc5d0\uc11c \ubc97\uc5b4\ub098\uae38 \ud76c\ub9dd\ud558\ub294 \uc790","url":"https://github.com/FenrirD","imageURL":"https://github.com/fenrirD.png","key":"fenrir"}],"frontMatter":{"slug":"HOC-And-Authorization","title":"HOC\ub85c \uacf5\ud1b5 \uc778\uac00 \uc801\uc6a9\ud558\uae30","authors":["fenrir"],"tags":["Vue.js","Authorization","HOC","js"]},"unlisted":false,"prevItem":{"title":"NPM \uc800\uc7a5\uc18c\uc5d0 \ub0b4\uac00 \ub9cc\ub4e0 \ucef4\ud3ec\ub10c\ud2b8 \uc5c5\ub85c\ub4dc \ud558\uae30","permalink":"/blog/My-First-Npm-Publish"},"nextItem":{"title":"\uc820\ud0a8\uc2a4 \ube4c\ub4dc \ub9ac\ud329\ud1a0\ub9c1","permalink":"/blog/jenkins-build-refactoring"}},"content":"## \ub3c4\uc785\\n\\n![\ub300\ud654\ub0b4\uc6a9](./img_1.png)\\n> \uc81c\uac00 \uc720\ub9ac\ud558\uac8c \ud3b8\uc9d1\ud55c \ub0b4\uc6a9\uc785\ub2c8\ub2e4. \ud83d\ude09\\n\\n\uc774\uc9c1 \ud6c4 n\uac1c\uc6d4 \ucc28. \ub204\uad70\uac00 \ub098\uc5d0\uac8c \ubcf4\ub0b8 \uacbd\uace0\uc7a5\uc774\ub2e4.\\n\\n\x3c!--truncate--\x3e\\n\\n\uc6d0\ub798 \uae30\uc874\uc758 \uc774\uc288\ub9ac\ud3ec\ud130\uc5d0\ub294 \uc77c\ubc18 \uc0ac\uc6a9\uc790, \uc6b4\uc601\uc790\ub85c \ub9cc \ub098\ub258\uace0 url\ub3c4 \ubd84\ub9ac\uac00 \ub418\uc5b4 \uc788\uc5c8\uc9c0\ub9cc, \uc2a4\ud504\ub9b0\ud2b8\ub97c \uc9c4\ud589\ud558\uba74\uc11c \uc77c\ubc18 \uc0ac\uc6a9\uc790 \ubcc4\ub85c \ubcfc \uc218 \uc788\ub294\\n\uba54\ub274\uc640 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uae30\ub2a5\uc774 \ub2e4\ub978 \uad8c\ud55c\uc774\ub77c\ub294 \uae30\ub2a5\uc774 \ucd94\uac00 \ub418\uba74\uc11c, \ud574\ub2f9 \ud398\uc774\uc9c0\uc5d0 \ub300\ud55c \uad8c\ud55c(\uc778\uac00)\uac00 \uc5c6\uc73c\uba74 \uc811\uadfc\uc774 \ubd88\uac00\ub2a5\ud558\uac8c \uac1c\ubc1c\uc744 \ud574\uc57c\ud558\ub294 \uc0c1\ud669\\n\uc774 \ubc1c\uc0dd\ud558\uc600\ub2e4.\\n\\n\uc774\uc288\ub9ac\ud3ec\ud130\uc5d0\ub294 \uc774\ubbf8 \uc218 \ub9ce\uc740 \ud398\uc774\uc9c0\uc640 \ucef4\ud3ec\ub10c\ud2b8\uac00 \uc874\uc7ac \ud588\ub294\ub370 \uc774 \uc791\uc5c5\uc744 \ubaa8\ub4e0 \ucef4\ud3ec\ub10c\ud2b8 \uac01\uac01 API\ub97c \ud638\ucd9c\ud558\uace0, \ud578\ub4e4\ub9c1 \ud574\uc8fc\uae30\uc5d0\ub294 \uc0c1\ub2f9\ud788 \uadc0\ucc2e\uc740 \uc791\uc5c5\uc774\\n\uc608\uc0c1 \ub418\uc5c8\ub2e4. \\n\\n\ud300\uc7a5\ub2d8\uc5d0\uac8c \ub3c4\uc804\uc7a5\uc744 \ubc1b\uc740 \ub098\ub294 \uc774\ub7ec\ud55c \uc0c1\ud669\uc5d0\uc11c \uc5b4\ub5bb\uac8c \ud558\uba74 \uac00\uc7a5 \ud6a8\uc728\uc801\uc77c\uc9c0 \uace0\ubbfc\uc744 \ud588\ub2e4.\\n\\n![\uace0\ubbfc \uc911.](./img_2.png)\\n\\n## \ubcf8\ub860\\n\\n\uba3c\uc800, \uc774\uc288\ub9ac\ud3ec\ud130\uc5d0 \uc5b4\ub5a4 \uc778\uac00\ubc29\ubc95\uc744 \uc801\uc6a9\ud560\uc9c0\uc5d0 \ub300\ud55c \uace0\ubbfc\uc744\ud558\uae30 \uc704\ud574 \ud544\uc694\ud55c \uc774\uc288\ub9ac\ud3ec\ud130\uc758 \ubc84\uc804 \uc2a4\ud399\uc774\ub2e4.\\n\\n| \uc774\ub984  | \ubc84\uc804     |\\n|-----|--------|\\n| Vue | 2.6.14 |\\n| vue-router | 3.2.0  |\\n\\n> \ud544\uc694\ud55c \ubc84\uc804 \uc815\ubcf4\ub9cc \uc801\uc5c8\uc2b5\ub2c8\ub2e4.\\n\\n\uadf8\ub9ac\uace0 \ub0b4\uac00 \uc0dd\uac01\ud574\ub0b8 \ubc29\ubc95 \ub9ac\uc2a4\ud2b8\ub294 \uc544\ub798\uc640 \uac19\ub2e4.\\n\\n1. Vue-router\uc758 `navigation-guards`\ub97c \ud65c\uc6a9\ud55c \ud398\uc774\uc9c0 \uc774\ub3d9\\n2. \uac01 \ucef4\ud3ec\ub10c\ud2b8 \ub9c8\ub2e4 `mounted`\uc5d0\uc11c \uad8c\ud55c \uccb4\ud06c \ud6c4, \ud398\uc774\uc9c0 \uc774\ub3d9 \\n3. \ucc98\uc74c\ubd80\ud130 \uad8c\ud55c(\uc778\uac00)\uc5d0 \ub300\ud55c \uace0\ub824\ub97c \uc548\ud588\uc73c\ub2c8, \ud300\uc7a5\ub2d8\uc774 \uc54c\uc544\uc11c \ud558\ub77c\uace0 \uc5c5\ubb34 \uac70\ubd80\ud558\uae30(?)\\n4. \ub2e4\ub978 FE \uac1c\ubc1c\uc790\ubd84\uc5d0\uac8c \ub5a0\ub118\uae30\uae30(?)\\n5. HOC(\uace0\ucc28 \ucef4\ud3ec\ub10c\ud2b8)\ub97c \ud65c\uc6a9\ud558\uc5ec \uad8c\ud55c \uccb4\ud06c \ud6c4, \ud398\uc774\uc9c0 \uc774\ub3d9\\n\\n\uace0\ubbfc\ud55c \uacb0\uacfc HOC(\uace0\ucc28 \ucef4\ud3ec\ub10c\ud2b8)\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc778\uac00 \ub85c\uc9c1\uc744 \ucd94\uac00\ud558\uae30\ub85c \uacb0\uc815\ud558\uc600\ub2e4.\\n\\n:::warning\\n\ucd5c\uace0\uc774\uc790 \ucd5c\uc120\uc758 \ubc29\ubc95\uc774 \uc544\ub2d0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n:::\\n\\n### Why? HOC & What HOC? \ud83e\udd14\\n\\n#### \uc65c HOC \uc120\ud0dd \ud588\uc744\uae4c?\\n\\n\uc0ac\uc2e4 \uac00\uc7a5 \uba3c\uc800 \uc0dd\uac01\ud55c \ubc29\ubc95\uc740 `vue-router`\uc5d0\uc11c \uad6c\ud604\ub418\uc5b4 \uc788\ub294 `navigation-guards`\ub97c \ud65c\uc6a9\ud558\ub294 \ubc29\ubc95\uc774\uc600\ub2e4.\\n\ubdf0 \ub77c\uc6b0\ud130\uc5d0\ub294 \uc804\uc5ed \ub124\ube44\uac8c\uc774\uc158 \uac00\ub4dc\uc640 \ucef4\ud3ec\ub10c\ud2b8 \ub0b4\ubd80\uc758 \ub124\ube44\uac8c\uc774\uc158\uac00\ub4dc\ub97c \uc81c\uacf5\ud574\uc900\ub2e4.\\n\\n\ud558\uc9c0\ub9cc \uc804\uc5ed\uc801\uc73c\ub85c \uc801\uc6a9\ud558\uae30\uc5d0\ub294 \uc774\ubbf8 \uae30\uc874\uc5d0 \uc0ac\uc6a9\uc911\uc774\ub358 \ub85c\uc9c1\uacfc API \uc124\uacc4\uc0c1 \ub124\ubca0\uac8c\uc774\uc158 \uac00\ub4dc \ub85c\uc9c1\uc774 \ub108\ubb34 \ubcf5\uc7a1\ud574 \uc9c8 \uc6b0\ub824\uac00 \uc788\uc5b4\uc11c\\n\ud3ec\uae30\ud558\uc600\ub2e4. \\n\\n\ub610\ud55c \uac01\uac01\uc758 \ucef4\ud3ec\ub10c\ud2b8 \ub0b4\ubd80\uc5d0 \uc801\uc6a9\ud558\ub294 \ubc29\ubc95\uc73c\ub85c\ub294 \ub108\ubb34 \uadc0\ucc2e(?)\uc744\uac70 \uac19\ub2e4\ub294 \uc0dd\uac01\uc774 \ub4e4\uc5c8\ub2e4.\\n\\n\ub450 \ubc88\uc9f8, \uac01 \ucef4\ud3ec\ub10c\ud2b8 \ub9c8\ub2e4 \uc801\uc6a9\ud558\uae30 \ub610\ud55c \uc720\uc9c0\ubcf4\uc218(\ub77c\uace0 \uc4f0\uace0 \uadc0\ucc2e\ub2e4\ub294) \uce21\uba74\uc5d0\uc11c \ubd88\ub9ac\ud558\ub2e4\uace0 \uc0dd\uac01\ud558\uc600\ub2e4.\\n\\n3\ubc88 4\ubc88 \ubc29\ubc95\uc740 \uc74c..... \\n\\n\uadf8\ub798\uc11c \ucd5c\uc885\uc801\uc73c\ub85c \uc0dd\uac01\ud55c \ubc29\ubc95\uc740 `HOC` \uc0ac\uc6a9\ud558\uc5ec \uad6c\ud604\ud558\ub294 \ubc29\ubc95\uc774 \uc600\ub2e4. \\n\\n#### \uc774\uc720\\n\ub0b4\uac00 `HOC` \uc120\ud0dd\ud55c \uc774\uc720\ub294 router\uc5d0\uc11c path \ub9c8\ub2e4 component\ub97c \uc5f0\uacb0 \ud574 \uc8fc\ub294 \uacf3\uc5d0\uc11c `HOC(\uc2e4\uc81c \ucef4\ud3ec\ub10c\ud2b8, \uad8c\ud55c)` \uc774\ub7f0\uc2dd\uc73c\ub85c \ud558\uac8c \ub418\uba74 \ud55c \uacf3\uc5d0\uc11c\ub9cc \\n\uc791\uc5c5\uc744 \ud558\uba74 \ub418\uace0, `HOC` \ucef4\ud3ec\ub10c\ud2b8 \ub0b4\ubd80\uc5d0\uc11c\ub294 \uad8c\ud55c \uccb4\ud06c \ub85c\uc9c1\uc744 \ucd94\uac00\ud558\uba74 \ub418\uae30 \ub54c\ubb38\uc5d0 \uc720\uc9c0 \ubcf4\uc218 \uce21\uba74\uc5d0\uc11c \uc720\ub9ac\ud558\ub2e4\uace0 \uc0dd\uac01\ub418\uc11c \uc120\ud0dd\uc744 \ud558\uac8c \ub418\uc5c8\ub2e4. \\n\\n\uadf8\ub7fc HOC\uc5d0 \ub300\ud574 \uc54c\uc544\ubcf4\uc790!\\n\\n:::info\\n[navigation-guards(vue-router)](https://router.vuejs.org/guide/advanced/navigation-guards.html)\\n:::\\n\\n#### Higher-Order Component (HOC) \ub780\\n**Higher-Order Component (HOC)**\ub294 \ud568\uc218\ub97c \ubc1b\uc544 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ubc18\ud658\ud558\ub294 \ud328\ud134\uc73c\ub85c \uc8fc\ub85c \ucef4\ud3ec\ub10c\ud2b8 \uac04\uc758 \ub85c\uc9c1\uc744 \uc7ac\uc0ac\uc6a9\ud558\uac70\ub098 \uacf5\ud1b5 \uae30\ub2a5\uc744 \uc8fc\uc785\ud558\uae30 \uc704\ud574 \uc0ac\uc6a9\ub429\ub2c8\ub2e4.\\n\\nHOC\ub294 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc778\uc790\ub85c \ubc1b\uc544 \uadf8 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ud655\uc7a5\ud558\uac70\ub098 \ubcc0\ud615\ud558\uc5ec \uc0c8\ub85c\uc6b4 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ubc18\ud658\ud558\ub294 \ud568\uc218\\n\\n\uc608\ub97c \ub4e4\uc5b4, \ub2e4\uc74c\uc740 \ub85c\uae45\uc744 \ucd94\uac00\ud558\ub294 \uac04\ub2e8\ud55c HOC\uc758 \uc608\uc2dc\uc785\ub2c8\ub2e4:\\n```js\\n// \ub85c\uae45\uc744 \ucd94\uac00\ud558\ub294 HOC\\nfunction withLogging(WrappedComponent) {\\n  return {\\n    mounted() {\\n      console.log(\'Component is mounted\');\\n    },\\n    render(h) {\\n      return h(WrappedComponent, {\\n        on: this.$listeners,\\n        attrs: this.$attrs,\\n      });\\n    },\\n  };\\n}\\n\\n// HOC\ub97c \uc0ac\uc6a9\ud558\uc5ec \ucef4\ud3ec\ub10c\ud2b8 \ud655\uc7a5\\nconst EnhancedComponent = withLogging(BaseComponent);\\n\\n```\\n\\n> \uace0\ub9d9\ub2e4. AI \ubbfc\uc218\uc57c.(ChatGPT)\\n\\n\uc694\uc998 \uac1c\ubc1c \ud560 \ub54c, \ud544\uc218\uc778 ChatGPT\ub2d8\uc758 HOC \uc124\uba85\uc774\ub2e4. \uc704 \uc608\uc2dc\ub97c \ubcf4\uba74 \ud30c\ub77c\ubbf8\ud130\ub85c \uae30\uc874\uc5d0 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ubc1b\uc544\uc11c, \uc5b4\ub5a0\ud55c \ub85c\uc9c1\uc744 \ucd94\uac00\ud558\uac70\ub098 \ubcc0\uacbd\ud574\uc11c \\n\uc0c8\ub85c\uc6b4 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ub418\ub3cc\ub824\uc8fc\ub294 \ubc29\ubc95\uc774\ub2e4.!\\n\\n\\n\\n> \ucc38\uace0\ub85c \uc774 \ube14\ub85c\uadf8\ub97c \ub9cc\ub4e0 docusaurus\ub3c4 \uc774\ub7ec\ud55c \uac1c\ub150\uc744 \uc774\uc6a9\ud574\uc11c \ucee4\uc2a4\ud140\uc774 \uac00\ub2a5\ud558\ub2e4!\\n> (\uae00\uc744 \uc791\uc131\ud558\uba74\uc11c \uc0dd\uac01\ud55c\uac74\ub370 \ub514\uc790\uc778 \ud328\ud134 \uc911\ud558\ub098\uc778 Factory Pattern\uacfc \uc720\uc0ac\ud55c\uac70 \uac19\uae30\ub3c4 \ud558\uace0.?)\\n\\n### \uac1c\ubc1c \uacfc\uc815\\n\\n#### \uace0\ucc28 \ucef4\ud3ec\ub10c\ud2b8 \uad6c\ud604\ud558\uae30\\n\\n\uba3c\uc800, \ub0b4\uac00 \uae30\uc874\uc758 HOC \ucc98\ub7fc, \ucef4\ud3ec\ub10c\ud2b8(`baseComponent`)\ub97c \uc8fc\uc785\ubc1b\uace0, \ud574\ub2f9 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc811\uadfc(\uc774\uc6a9)\ud558\uae30 \uc704\ud574\uc11c \ud544\uc694\ud55c \uad8c\ud55c(`authorities`)\uc744\\n\ud30c\ub77c\ubbf8\ud130\ub85c \uc8fc\uc785 \ubc1b\ub294\ub2e4. \\n\\n\uadf8 \ud6c4, \uc8fc\uc785 \ubc1b\uc740 \uad8c\ud55c\uc744 \uc11c\ubc84\uc5d0 \uc694\uccad\uc744\ud558\uba74, \uc11c\ubc84\ub294 \uc811\uc18d\ud55c \uc720\uc800\uac00 \ud574\ub2f9 \uad8c\ud55c\uc744 \uac16\uace0 \uc788\ub294\uc9c0 \ud655\uc778 \ud6c4, \uc720\uc800\uac00 \uac16\uace0 \uc788\ub294 \\n\uad8c\ud55c\uc744 \uc751\ub2f5\uc744 \ud558\uace0, \uc11c\ubc84\ub85c\ubd80\ud130 \ubc1b\uc740 \uc720\uc800\uac00 \uac16\uace0 \uc788\ub294 \uad8c\ud55c\uacfc, \ud574\ub2f9 \ud398\uc774\uc9c0\uc5d0 \uc811\uadfc\ud558\uae30 \uc704\ud574 \uc8fc\uc785 \ubc1b\uc740 \ud30c\ub77c\ubbf8\ud130\ub97c \ube44\uad50 \ud6c4 \uad8c\ud55c\uc774 \uc5c6\uc73c\uba74 \\n\uad8c\ud55c\uc774 \ud544\uc694 \uc5c6\ub294 **main** \uc73c\ub85c \ub3cc\ub824\uc8fc\ub294 \ucef4\ud3ec\ub10c\ud2b8\uc774\ub2e4.\\n\\n\uc544\ub798\ub294 \ub0b4\uac00 \uad6c\ud604\ud55c HOC \ucef4\ud3ec\ub10c\ud2b8\uc774\ub2e4.\\n\\n#### HOC \uad6c\ud604\ubd80\\n\\n```ts\\nimport { checkAuthorityAPI } from \'@/api\';\\nimport { getInstance } from \'@/composable\';\\nimport { useToast } from \'@/hook/useToast\';\\nimport router from \'@/router\';\\nimport { defineComponent, onBeforeMount } from \'@vue/composition-api\';\\n\\nfunction withPageAccessRightComponent(baseComponent, authorities: string[]) {\\n  return defineComponent({\\n    components: {\\n      baseComponent,\\n    },\\n    setup() {\\n      const { instance } = getInstance();\\n      const { warning } = useToast({});\\n      onBeforeMount(() => {\\n        const params = {\\n          projectId: projectId,\\n          items: [...authorities],\\n        };\\n        checkAuthorityAPI(params).then(({ data }) => {\\n          if (data.httpStatus !== HttpStatusCode.Ok) {\\n            instance.$router.push({ path: \'/main\' });\\n          } else {\\n            const { contents } = data;\\n            const authorityObj = contents.reduce(\\n              (acc, cur) => ({ ...acc, [cur.code]: cur.hasAuthority }),\\n              {}\\n            );\\n            const noPermission = authorities.find((key) => !authorityObj[key]);\\n            if (noPermission) {\\n              warning(\'\ud574\ub2f9\ud398\uc774\uc9c0\uc5d0 \uc811\uadfc \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.\');\\n              router.push({ path: \'/main\' }).catch((e) => {\\n                console.log(e);\\n              });\\n            }\\n          }\\n        });\\n      });\\n    },\\n    template: `<baseComponent/>`,\\n  });\\n}\\nexport default withPageAccessRightComponent;\\n```\\n\\n#### Router\uc5d0\uc11c \ucef4\ud3ec\ub10c\ud2b8\ub97c \ubc14\uc778\ub529 \ud560 \ub54c, HOC\ub97c \uc0ac\uc6a9\ud558\ub294 \uad6c\ud604\ubd80\\n```ts\\n{\\n  path: \'/register\',\\n    name: RoleType.USER + \'AuthorityGroupRegister\',\\n    component: withPageAccessRightComponent(\\n    defineAsyncComponent(\\n      () =>\\n        import(\\n          /* webpackChunkName: \\"AuthorityGroupRegister\\" */ \'@/views/client/issuesettings/authority/group/pages/AuthorityGroup.vue\'\\n          )\\n    ),\\n    [\'PROJECT_ROLE_GROUP_INSERT_UPDATE\']\\n  ),\\n}\\n```\\n:::info\\n[\uace0\ucc28 \ucef4\ud3ec\ub10c\ud2b8(React)](https://ko.legacy.reactjs.org/docs/higher-order-components.html)\\n:::\\n\\n## \uacb0\ub860\\n\\n\uc9c0\uae08\ub3c4 \uc774 \ubc29\ubc95\uc774 \uc81c\ub300\ub85c \ucd5c\uace0\uc774\uc790 \ucd5c\uc120\uc778\uc9c0\ub294 \uc798 \ubaa8\ub974\uaca0\ub2e4. \ub354 \uc88b\uc740 \ubc29\ubc95\uc740 \ubd84\uba85\ud788 \uc788\uaca0\uc9c0\ub9cc, \uac01 \ud68c\uc0ac, \ud504\ub85c\uc81d\ud2b8\ub9c8\ub2e4 \uc8fc\uc5b4\uc9c4 \uc0c1\ud669\uc740 \ub2e4 \ub2e4\ub974\uace0,\\n\uadf8 \uc548\uc5d0\uc11c \ub098\ub984 \ud569\ub9ac\uc801(?)\uc774\uace0, \ucd5c\uc120\uc758 \uc120\ud0dd\uc744 \ud588\ub2e4\uace0 \uc0dd\uac01\ud55c\ub2e4.(\ud300\uc7a5\ub2d8, \ud300\uc6d0\ub4e4\uc740 \ub300\uccb4\ub85c \ud574\ub2f9 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ub9cc\uc871\ud574 \ud558\uc168\ub2e4.) \\n\\n\uc774\uc9c1\uc744 \ud558\uba74\uc11c \ud504\ub860\ud2b8\uc5d4\ub4dc \uacf5\ud1b5 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc8fc\ub85c \ub9cc\ub4e4\uace0 \ub3d9\ub8cc\ub4e4\uc758 \ud53c\ub4dc\ubc31\uc744 \ubc1b\uc73c\uba70 \uc870\uae08\uc529 \uc131\uc7a5\ud558\uace0 \uc788\ub294\uac70 \uac19\ub2e4. \uc804 \uc9c1\uc7a5\uc5d0\uc11c\ub3c4 \ub9ce\uc740 \ub3c4\uc6c0\uc744 \ubc1b\uc73c\uba70 \\n\uc131\uc7a5\ud588\uc9c0\ub9cc \ub0b4\uac00 \uac1c\ubc1c\ud55c\uac78 \uc8fc\ub85c \ub0b4\uac00 \uc0ac\uc6a9\ud558\ub294 \ubc29\uc2dd\uc774 \uc600\ub294\ub370, \ub2e4\ub978 \ub3d9\ub8cc\ub4e4\uc774 \uc0ac\uc6a9 \ud55c\ub2e4\uace0 \uc0dd\uac01\ud558\ub2c8\uae4c \uc880 \ub354 \uae54\ub054\ud558\uace0, \ud6a8\uc728\uc801\uc73c\ub85c \ucf54\ub4dc\ub97c \uc9dc\ub824\uace0 \\n\ub178\ub825\ud558\ub294\uac70 \uac19\ub2e4. \\n\\n\ub354 \uc131\uc7a5\ud574\uc11c \ub354 \uc88b\uc740\uacf3\uc73c\ub85c \uc774\uc9c1\ud574\uc57c\uc9c0....\\n\\n![\ub05d](./img_end.png)"},{"id":"jenkins-build-refactoring","metadata":{"permalink":"/blog/jenkins-build-refactoring","source":"@site/blog/2023-09-18-Jenkins-Build-Refactoring/index.md","title":"\uc820\ud0a8\uc2a4 \ube4c\ub4dc \ub9ac\ud329\ud1a0\ub9c1","description":"\ub3c4\uc785","date":"2023-09-18T00:00:00.000Z","tags":[{"inline":true,"label":"jenkins","permalink":"/blog/tags/jenkins"},{"inline":true,"label":"groovy","permalink":"/blog/tags/groovy"},{"inline":true,"label":"CI/CD","permalink":"/blog/tags/ci-cd"},{"inline":true,"label":"k8s","permalink":"/blog/tags/k-8-s"}],"readingTime":9.555,"hasTruncateMarker":true,"authors":[{"name":"Fenrir","title":"\ubc14\ubcf4\uc5d0\uc11c \ubc97\uc5b4\ub098\uae38 \ud76c\ub9dd\ud558\ub294 \uc790","url":"https://github.com/FenrirD","imageURL":"https://github.com/fenrirD.png","key":"fenrir"}],"frontMatter":{"slug":"jenkins-build-refactoring","title":"\uc820\ud0a8\uc2a4 \ube4c\ub4dc \ub9ac\ud329\ud1a0\ub9c1","authors":["fenrir"],"tags":["jenkins","groovy","CI/CD","k8s"]},"unlisted":false,"prevItem":{"title":"HOC\ub85c \uacf5\ud1b5 \uc778\uac00 \uc801\uc6a9\ud558\uae30","permalink":"/blog/HOC-And-Authorization"},"nextItem":{"title":"js \ud638\uc774\uc2a4\ud305","permalink":"/blog/js-hoisting"}},"content":"import BrowserWindow from \'@site/src/components/BrowserWindow\';\\n\\n## \ub3c4\uc785\\n---\\n\\n\uc774\uc9c1 \ud6c4 \uc810\uc810 \uc801\uc751\uc744 \ud558\uace0, \uac1c\ubc1c\uc744 \ud558\uba74\uc11c \ud604 \ud68c\uc0ac\uc758 \ud658\uacbd\uc5d0 \uc775\uc219\ud574 \uc9c0\ub294 \uacfc\uc815\uc5d0\uc11c \uc0c8\ub85c\uc6b4 \uac1c\ubc1c \ud658\uacbd\uc744 \uad6c\uc131\ud558\ub294 \uc5c5\ubb34\ub97c \\n\ub2f4\ub2f9\ud558\uac8c \ub418\uc5c8\uace0, \uc5c5\ubb34\ub97c \uc218\ud589\ud558\ub294 \uacfc\uc815\uc5d0\uc11c \ub208\uc5d0 \uac70\uc2ac\ub9ac\ub294\uac8c \uc788\uc5c8\ub2e4.\\n\\n![build img](./build-list.png)\\n\\n![jenkins img](./jenkins-list.png)\\n\\n\ubc14\ub85c \uc11c\ubc84 \ubcc4\ub85c\uc788\ub294 Jenkins Job\ub4e4\uacfc Source\uc548\uc5d0 SH \ud30c\uc77c(shell script)\uac00 \uc788\ub2e4\ub294 \uac83\uc774\uc600\ub2e4.\\n\\n\uc804 \ud68c\uc0ac\uc5d0\uc11c \uc2ec\uc2ec\ud560 \ub54c CI/CD\ub97c \uac1c\uc120\ud558\ub294 \uc791\uc5c5\uc744 \ud588\ub358 \ub098\uc5d0\uac8c \ubb54\uac00 \uacb0\uc2ec\uc744 \ud558\uac8c \ub9cc\ub4e4\uc5c8\ub2e4.\\n\\n\x3c!--truncate--\x3e\\n\\n## \ubcf8\ub860\\n\\n\uc0c8\ub85c\uc6b4 \uac1c\ubc1c \ud658\uacbd \uc11c\ubc84\ub97c \ucd94\uac00\ud558\ub294 \uc5c5\ubb34\ub97c \ud558\ub294 \uacfc\uc815\uc5d0\uc11c \uc11c\ubc84\ub97c \uad6c\uc131\ud558\uace0 CI/CD\ub97c \uc124\uc815\ud558\uae30 \uc704\ud574\uc11c\ub294 \uba3c\uc800 \uae30\uc874\uc758 CI/CD \ud504\ub85c\uc138\uc2a4\ub97c \ubd84\uc11d\ud574\uc57c \ud588\ub2e4. \\n\\n### \uae30\uc874 CI/CD \ubc29\uc2dd\\n\\n\uae30\uc874\uc758 \ube4c\ub4dc \ubc29\uc2dd\uc744 \uac04\ub2e8\ud558\uac8c \uae00\ub85c \uc791\uc131\ud558\uba74 \uac1c\ubc1c\uc790\uac00 Gitlab\uc5d0 push\ub97c \ud558\uba74 `webhook`\uc744 \ud1b5\ud574 `jenkins`\uc5d0\uc11c \ube4c\ub4dc\ud558\uace0 k8s\uc5d0 \\n\ubc30\ud3ec\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c CI/CD\uac00 \uad6c\uc131\ub418\uc5b4 \uc788\uc5c8\ub2e4.\\n\\n![img1](./jenkins_img1.png)\\n\\n\uac04\ub2e8\ud558\uac8c \uae30\uc874 CI/CD \ud504\ub85c\uc138\uc2a4\ub97c \uc774\ubbf8\uc9c0\ud654 \ud558\uba74 \uc704\uc640 \uac19\ub2e4.\\n\\n\uc11c\ubc84\ub97c \ucd94\uac00\ud558\uae30 \uc704\ud574 \uac70\uc758 \ub3d9\uc77c\ud55c \ub0b4\uc6a9\uc758 `shell scriprt`, `webhook`, `jenkins job` \ub4f1\uc744 \ucd94\uac00 \ud574\uc57c \ud588\ub2e4.\\n\\n:::info\\n* STG \uc11c\ubc84\ub97c \ucd94\uac00\ud558\uba74\uc11c \ub0b4\uac00 \uc791\uc5c5 \ud588\ub358 \uc5c5\ubb34 \ub9ac\uc2a4\ud2b8\\n  1. `STG Pod` \ubc30\ud3ec\\n  2. \ube4c\ub4dc\ub97c \uc704\ud55c `Shell Script` \uc791\uc131\\n  3. `Webhook` \ucd94\uac00\\n  4. `Jenkins Job` \ucd94\uac00\\n:::\\n\\n`STG` \uc11c\ubc84 \ucd94\uac00 \uc791\uc5c5\uc744 \ud560 \ub54c\ub294 \uc77c\ub2e8 \uae30\uc874\uc758 \ubc29\uc2dd\ub300\ub85c \uc791\uc5c5\uc744 \ud588\ub2e4.\\n\\n\uadf8\ub7ec\ub098 \ud3c9\uc18c `DevOps`\uc5d0 \uad00\uc2ec\uc774 \uc788\ub358 \ub098\ub294 \uc774\uac8c \ucd5c\uc120\uc77c\uae4c? \ub77c\ub294 \uc0dd\uac01\uc744 \ud558\uac8c \ub418\uc5c8\uace0\\n\uc2dc\uac04\uc774 \ub0a8\uc744 \ub54c, \uc870\uae08\uc529 CI/CD \ud504\ub85c\uc138\uc2a4\ub97c \uc218\uc815\uc744 \ud558\uace0\uc790 \ud588\ub2e4.\\n\\n\uba3c\uc800 \uac1c\uc120\uc5d0 \uc55e\uc11c \uae30\uc874 \ubc29\uc2dd\uc758 \ubb38\uc81c\uc810\uc744 \uc0dd\uac01\ud588\ub2e4.\\n\\n#### \uae30\uc874 CI/CD \ubb38\uc81c\uc810\\n\\n\ub0b4\uac00 \uc0dd\uac01\ud55c \uae30\uc874 CI/CD\uc758 \ubb38\uc81c\uc810\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n\\n1. \uc11c\ubc84 \ud658\uacbd\uc774 N\uac1c\ub85c \ub298\uc5b4\ub098\uba74 N\uac1c\uc758 `sh file`, `jenkins job`\uc774 \ud544\uc694\ud558\ub2e4.\\n2. `sh file`\uc774 FE Source\uc640 \ud568\uaed8 \uad00\ub9ac \ub41c\ub2e4.\\n3. Jenkins \uc5d0\uc11c\ub294 `sh`\ub97c \uc2e4\ud589 \uc2dc\ucf1c\uc8fc\ub294 \uc5ed\ud560\ub9cc \ud55c\ub2e4.\\n4. \uc5b4\ub290 \uacfc\uc815\uc5d0\uc11c \uc2e4\ud328 \ud588\ub294\uc9c0 \ud30c\uc545\ud558\uae30 \uc5b4\ub835\ub2e4.\\n\\n\uc774\ub7ec\ud55c \ubb38\uc81c\uc810\uc744 \ud574\uacb0 \ud558\uae30\uc704\ud574 \ub0b4\uac00 \uc0dd\uac01\ud55c \ubc29\ud5a5\uc131\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n\\n#### \uac1c\uc120\ud558\uace0\uc790 \ud558\ub294 \ubc29\ud5a5\\n\\n1. `shell scirpt`\uc744 `FE source`\uc5d0\uc11c \uc81c\uac70\ud558\uace0, \ubcc4\ub3c4\uc758 Repository\uc5d0\uc11c \uad00\ub9ac\ud55c\ub2e4.  \\n2. `Jenkins Job`\uc744 \ud558\ub098\ub85c \uc5ec\ub7ec \ud658\uacbd\uc73c\ub85c \ube4c\ub4dc \ubc0f \ubc30\ud3ec\ub97c \uc9c4\ud589\ud55c\ub2e4.\\n3. \uc5b4\ub290 \uacfc\uc815\uc5d0\uc11c \uc2e4\ud328 \ud588\ub294\uc9c0 \ucd94\uc801\uc774 \uc27d\uac8c\ud55c\ub2e4.\\n\\n### \uc0c8\ub85c\uc6b4 CI/CD \ubc29\uc2dd\\n\\n![img2](./jenkins_img2.png)\\n\\n> \uc0c8\ub86d\uac8c \uac1c\uc120\ud558\uace0\uc790 \ud558\ub294 CI/CD \ud504\ub85c\uc138\uc2a4 \uc774\ubbf8\uc9c0\\n\\n\uc704 \uc774\ubbf8\uc9c0 \ucc98\ub7fc \uc5ec\ub7ec\uac1c\uc758 \ube0c\ub79c\uce58\uc5d0\uc11c Webhook\uc744 \ud1b5\ud574 \uc774\ubca4\ud2b8\uac00 \ubc1c\uc0dd\ud558\uba74 \ud558\ub098\uc758 jenkins Job\uc5d0\uc11c \ube4c\ub4dc\ub97c \ud558\uace0, \\n\uadf8\ub9ac\uace0 \ubc30\ud3ec\ud558\uace0\uc790 \ud558\ub294 \uc11c\ubc84\ub85c \uc790\ub3d9\uc73c\ub85c \ubc30\ud3ec\uac00 \ub418\uac8c \uc218\uc815\uc744 \ud558\uace0\uc790 \ud588\ub2e4.\\n\\n\uadf8\ub7ec\uae30 \uc704\ud574\uc11c\ub294 \uc5ec\ub7ec\uac00\uc9c0 \uc218\uc815\uc744 \ud574\uc57c \ud588\ub294\ub370 \uba3c\uc800 \ube4c\ub4dc \ud30c\uc77c\uc774 FE source\uc640 \ud568\uaed8 \uad00\ub9ac\ub418\uace0, **Jenkins**\uc5d0\uc11c\ub294 \ub2e8\uc21c\ud788 `shell sciprt`\ub9cc \uc2e4\ud589 \uc2dc\ucf1c\uc8fc\ub294 \ube4c\ub4dc \ubc29\uc2dd\uc744 \ubcc0\uacbd\ud558\uace0\uc790 \ud588\uace0, \\n\uadf8 \uacb0\uacfc **groovy script**\ub97c \uc791\uc131\ud588\ub2e4.\\n\\n#### 1. Groovy script \uc791\uc131\\n\ub098\ub294 Groovy \ubb38\ubc95\uc744 \uc798 \ubaa8\ub974\uc9c0\ub9cc \ucd5c\ub300\ud55c **document**\ub97c \ucc38\uace0\ud558\uba74\uc11c \uc791\uc131\uc744 \ud588\ub2e4.\\n\uba3c\uc800 \uae30\uc874\uc5d0\ub294 \ube0c\ub79c\uce58(\ubc30\ud3ec\ud558\ub824\ub294 \uc11c\ubc84)\uc640 `Jenkins Job`\uc758 \uad00\uacc4\uac00 1:1 \uc5ec\uc11c \uc0c8\ub85c\uc6b4 \ud658\uacbd\uc774 \ucd94\uac00 \ub420 \ub54c\ub9c8\ub2e4\\n\ub86d\uac8c \ucd94\uac00\ud574\uc918\uc57c\ud558\ub294 \ubc29\uc2dd\uc774\uc600\ub2e4\uba74 N(\ubc30\ud3ec\ud558\ub824\ub294 \uc11c\ubc84) : 1(Jenkins Job) \uad00\uacc4\ub97c \uac16\uac8c \ud558\ub824\uace0 \uc791\uc5c5\uc744 \ud588\ub2e4.\\n\\n```groovy\\npackage cip\\n\\npipeline {\\n  agent any\\n  tools {\\n    nodejs \'NodeJs-14.13.1\'\\n  }\\n  stages {\\n    stage(\'Initial VARIABLES\') {\\n      steps {\\n        script {\\n          CHOISE_BUILD_TARGET=\\"${params.BUILD_TARGET}\\"\\n          BUILD_TARGET=\'\\"\\"\'\\n          BRANCH_NAME=env.gitlabBranch\\n          echo \\"BRANCH_NAME1: ${BRANCH_NAME} \\"\\n          REPO_URL=\'[GIT_FE_SOURCE_REPOSITORY_URL]\'\\n          // \uc218\ub3d9\uc73c\ub85c \ubc30\ud3ec \ud588\uc744 \ub54c, \ube0c\ub79c\uce58\uc640 \ube4c\ub4dc \ud0c0\uac9f\uc744 \uc815\ud574\uc8fc\uae30 \uc704\ud55c \uc870\uac74\ubb38\\n          if(CHOISE_BUILD_TARGET) {\\n            if(CHOISE_BUILD_TARGET==\'dev\'){\\n              BRANCH_NAME=\\"develop\\"\\n            }else if(CHOISE_BUILD_TARGET ==\'stg\'){\\n              BRANCH_NAME=\\"stage\\"\\n              BUILD_TARGET=\\"-stg\\"\\n            } else if(CHOISE_BUILD_TARGET ==\'prd\') {\\n              BRANCH_NAME=\\"master\\"\\n            }\\n          }\\n          if(BRANCH_NAME == \'stage\') {\\n            BUILD_TARGET= \'-stg\'\\n          } else if(BRANCH_NAME == \'master\'){\\n            BUILD_TARGET= \'-prd\'\\n          }\\n          ADMIN_POD=[DEPLOY_ADMIN_POD_NAME]\\n          CLIENT_POD=[DEPLOY_CLIENT_POD_NAME]\\n          DIRECTORY=\'./dist/js\'\\n          sh \\"echo \'${BUILD_TARGET}\'\\"\\n          echo \\"Build Target: ${BUILD_TARGET}\\"\\n          echo \\"BRANCH_NAME: ${BRANCH_NAME} \\"\\n        }\\n      }\\n    }\\n    stage(\\"Branch Checkout\\") {\\n      steps{\\n        checkout([$class: \'GitSCM\', branches: [[name: BRANCH_NAME]], doGenerateSubmoduleConfigurations: false, extensions: [], submoduleCfg: [], userRemoteConfigs: [[credentialsId: CREDENTIALS_ID, url: REPO_URL]]])\\n      }\\n    }\\n    stage(\\"Npm install\\") {\\n      steps{\\n        sh \'npm install\'\\n      }\\n    }\\n    stage(\'Npm Run Build  for Develop\') {\\n      when {\\n        expression {\\n          return BRANCH_NAME==\'develop\'\\n        }\\n      }\\n      steps {\\n        sh \'npm run build_dev\'\\n      }\\n    }\\n    stage(\'Npm Run Build  for Stage\') {\\n      when {\\n        expression {\\n          return BRANCH_NAME==\'stage\'\\n        }\\n      }\\n      steps {\\n        sh \'npm run build_stg\'\\n      }\\n    }\\n    stage(\'Npm Run Build  for CIP-Product\') {\\n      when {\\n        expression {\\n          return BRANCH_NAME==\'master\'\\n        }\\n      }\\n      steps {\\n        sh \'npm run build_cip_prd\'\\n      }\\n    }\\n    stage(\'K8S Apply\') {\\n      steps {\\n        echo \'===========================\\\\n\'\\n        echo \'Build cp ADMIN\'\\n        echo \'===========================\\\\n\'\\n        sh \\"kubectl exec ${ADMIN_POD} -n [TARGET_POD_NAMESPACE] --kubeconfig=[KUBE_CONFIG_PATH] --context=[CONTEXT] -- sh -c \'rm -rf /usr/share/nginx/html/admin/dist\'\\"\\n        sh \\"kubectl cp ${WORKSPACE}/dist  saas/${ADMIN_POD}:/usr/share/nginx/html/admin --kubeconfig=[KUBE_CONFIG_PATH] --context=[CONTEXT]\\"\\n\\n        echo \'===========================\\\\n\'\\n        echo \'Build cp Client\'\\n        echo \'===========================\\\\n\'\\n\\n        sh \\"kubectl exec ${CLIENT_POD} -n TARGET_POD_NAMESPACE] --kubeconfig=[KUBE_CONFIG_PATH] --context=[CONTEXT] -- sh -c \'rm -rf /usr/share/nginx/html/client/dist\'\\"\\n        sh \\"kubectl cp ${WORKSPACE}/dist  saas/${CLIENT_POD}:/usr/share/nginx/html/client --kubeconfig=[KUBE_CONFIG_PATH] --context=[CONTEXT]\\"\\n      }\\n    }\\n  }\\n}\\n\\n```\\n\\n> \ud574\ub2f9 \uc2a4\ud06c\ub9bd\ud2b8\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \uc124\uba85\uc740 \uc0dd\ub7b5\ud55c\ub2e4. \\n\\n**Jenkins Multibranch Pipeline** \ub97c \ud65c\uc6a9\uc744 \ud588\ub2e4\uba74 \ube0c\ub79c\uce58 \uad00\ub828\ud574\uc11c \ubb38\ubc95\uc774 \ub354 \uac04\ub2e8 \ud588\uaca0\uc9c0\ub9cc \ubc84\uc804 \ubb38\uc81c\ub85c \uc0ac\uc6a9\ud558\uc9c0 \ubabb \ud588\ub2e4.\\n\ub610\ud55c \ud300\uc6d0\ub4e4\uc758 \uc694\uccad\uc73c\ub85c \uc218\ub3d9 \ubc30\ud3ec \ubc29\uc2dd\ub3c4 \uac00\ub2a5\ud558\uac8c \uc791\uc131\ud588\ub2e4.\\n\\n\uadf8\ub9ac\uace0 `groovy script`\ub294 \ubcc4\ub3c4\uc758 Repository\uc5d0\uc11c \uad00\ub9ac\ub97c \ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \ubcc0\uacbd\ud588\ub2e4.\\n\\n:::info\\nGroovy \ubb38\ubc95 \uad00\ub828\ud574\uc11c\ub294 \uacf5\uc2dd \ub3c4\ud050\uba3c\ud2b8\ub97c \ucc38\uace0\ud558\uc790.  \\n[Jenkins Pipeline groovy](https://www.jenkins.io/doc/pipeline/steps/workflow-cps/#pipeline-groovy)\\n:::\\n\\n#### 2. Jenkins \uad6c\uc131 \ubcc0\uacbd\\n\\n\uae30\uc874\uc5d0\ub294 Jenkins\uc5d0\uc11c sh \ud30c\uc77c\uc744 \uc2e4\ud589 \uc2dc\ud0a4\ub294 \ubc29\uc2dd\uc73c\ub85c\ub9cc \uc0ac\uc6a9 \ud588\uc9c0\ub9cc \uc0c8\ub86d\uac8c \uac1c\uc120\ud55c \ubc29\ud5a5\uc73c\ub85c\ub294\\n\ubcc4\ub3c4\uc758 Repository\uc5d0\uc11c groovy script\ub97c \uc77d\uace0 \ube4c\ub4dc \ubc0f \ubc30\ud3ec\ub97c \uc9c4\ud589\ud558\uace0\uc790 \ud574\uc11c jenkins job\uc758 \uad6c\uc131\uc744 \ubcc0\uacbd\ud588\ub2e4.\\n\\n![img3](./jenkins_job_img1.png)\\n\\n> \uae30\uc874\uc5d0\ub294 Jenkins \uad6c\uc131\uc740 \ub2e8\uc9c0 checkout \ubc1b\uc740 \uc18c\uc2a4\uc5d0\uc11c sh \ud30c\uc77c\uc744 \uc2e4\ud589\uc2dc\ucf1c\uc8fc\ub294 \uc5ed\ud560\ub9cc \ud588\ub2e4.\\n\\n![img4](./jenkins_job_img2.png)\\n\\n> \ube4c\ub4dc \ud30c\uc77c \uc2a4\ud06c\ub9bd\ud2b8\ub97c \ubcc4\ub3c4\uc758 Repository\uc5d0\uc11c \uad00\ub9ac, \ud30c\uc774\ud504\ub77c\uc778 \ubc29\uc2dd\uc73c\ub85c \ubcc0\uacbd\\n\\n#### 3. CI/CD \uacfc\uc815 \ud55c\ub208\uc5d0 \ubcf4\uae30\\n\\n![img5](./jenkins_log_img.png)\\n\\n\ud30c\uc774\ud504\ub77c\uc778\uc744 \uc774\uc6a9\ud558\uace0, groovy script\uc5d0\uc11c stage \uae30\uc900\uc73c\ub85c \ub2e8\uacc4\ub97c \uc815\uc758 \ud588\uae30 \ub54c\ubb38\uc5d0 \uc704 \uc774\ubbf8\uc9c0 \ucc98\ub7fc \uc5b4\ub290 \ub2e8\uacc4\uc5d0\uc11c \uc2e4\ud328 \ud588\ub294\uc9c0\\n\ubcf4\ub2e4 \ud655\uc778\ud558\uae30 \uc27d\uac8c \uac1c\uc120\uc744 \ud588\ub2e4.\\n\\n#### 4. \ud300\uc6d0\ub4e4\uc758 \uc694\uad6c\uc0ac\ud56d \uc218\ub3d9 \ubc30\ud3ec \uc124\uc815\\n\\n![img6](./menual_deploy_img.png)\\n\\n\uadf8\ub9ac\uace0 \ud300\uc6d0\ub4e4\uc758 \uc694\uad6c \uc0ac\ud56d\uc778 webhook\uc744 \ud1b5\ud55c \ubc30\ud3ec \uc678\uc5d0\ub3c4 \uc9c1\uc811 \ubc30\ud3ec\ud560 \uc11c\ubc84\ub97c \uc120\ud0dd\ud574\uc11c \uc218\ub3d9\uc73c\ub85c \ubc30\ud3ec\ud560 \uc218 \uc788\ub294 \ubc29\ubc95\uc73c\ub85c\ub294 \\njenkins\uc758 Choice Parameter\ub97c \ud65c\uc6a9\ud574\uc11c \uc801\uc6a9\ud588\ub2e4.\\n\\n\\n## \uacb0\ub860\\n\\n\uc74c.. 2 ~ 3\uc77c\uc774 \uc18c\uc694\ub418\ub294 \uc791\uc5c5\uc774\uc600\uace0, \uadf8 \uacfc\uc815\uc5d0\uc11c Jenkins version \ubb38\uc81c\uc640 groovy \ubb38\ubc95\uc744 \uc815\ud655\ud788 \ubab0\ub77c\uc11c \ub9ce\uc740 \ud2b8\ub7ec\ube14\uc774 \uc788\uc5c8\uace0,\\n\ud574\uacb0\ud574\ub098\uac00\ub294 \uacfc\uc815\uc5d0\uc11c \uc870\uae08 \uc131\uc7a5\ud588\ub2e4\uace0 \uc0dd\uac01\ud55c\ub2e4.\\n\\n\ub610\ud55c, \ub0b4\uac00 \ud55c \ubc29\ubc95\uc774 \uc815\ub2f5\uc774\ub77c\uace0\ub294 \uc0dd\uac01\ud558\uc9c0 \uc54a\ub294\ub2e4. \ubd84\uba85 \ub0b4\uac00 \ud55c \ubc29\ubc95\uc740 \ube44 \ud6a8\uc728\uc801\uc77c\uc218\ub3c4 \uc788\ub2e4. \\n\ud558\uc9c0\ub9cc \uc5b4\ub5bb\uac8c \ud558\uba74 \ub0b4\uac00 \ub354 \uac1c\ubc1c\uc5d0 \uc9d1\uc911\ud558\uace0, \ub354 \ub098\uc544\uac00 \uac19\uc774 \uc77c\ud558\ub294 \ub3d9\ub8cc\ub4e4\uc774 \uac1c\ubc1c\uc5d0 \ub354 \uc9d1\uc911\ud560\uc218 \uc788\ub294 \uc2dc\uac04\uc774 \uc870\uae08\uc774\ub77c\uace0 \ud5a5\uc0c1\ub418\uc5c8\ub2e4\uba74\\n\uadf8\uac78\ub85c \ub9cc\uc871\ud55c\ub2e4.\\n\\n\uadf8\ub9ac\uace0 \ucf54\ub4dc\ub9ac\ubdf0 \uc2dc\uac04\uc5d0 \uc774\ub7ec\ud55c \ub0b4\uc6a9\uc744 \uc815\ub9ac\ud574\uc11c \ub9ac\ubdf0\ub97c \ud558\uc600\uace0, \ud300\uc6d0\ub4e4\uc740 \uae0d\uc815\uc801\uc778 \ubc18\uc751\uc744 \ubcf4\uc5ec\uc92c\ub2e4.\\n\\n\ub610\ud55c \uc774 \uae00\uc744 \uc77d\ub294 \ub3c5\uc790\uac00 \uc870\uae08\uc774\ub77c\ub3c4 DevOps \ucabd\uc5d0 \ud765\ubbf8\ub97c \uac16\uace0, \uae30\uc874 \uc2dc\uc2a4\ud15c\uc744 \uac1c\uc120\ud558\ub294 \uacc4\uae30\uac00 \ub418\uc5c8\uc73c\uba74 \ud55c\ub2e4.\\n\\n\uae30\ud68c\uac00 \ub41c\ub2e4\uba74 \ub2e4\uc591\ud55c \uac1c\uc120 \ubc29\ubc95\uc5d0 \ub300\ud574 \uacf5\ubd80\ud558\uace0 \uc801\uc6a9\ud574\ubcf4\uace0 \uc2f6\ub2e4."},{"id":"js-hoisting","metadata":{"permalink":"/blog/js-hoisting","source":"@site/blog/2023-03-16-JS-Hoisting/index.md","title":"js \ud638\uc774\uc2a4\ud305","description":"\ub3c4\uc785","date":"2023-03-16T00:00:00.000Z","tags":[{"inline":true,"label":"javascript","permalink":"/blog/tags/javascript"},{"inline":true,"label":"hoisting","permalink":"/blog/tags/hoisting"},{"inline":true,"label":"var","permalink":"/blog/tags/var"},{"inline":true,"label":"let","permalink":"/blog/tags/let"},{"inline":true,"label":"const","permalink":"/blog/tags/const"}],"readingTime":3.88,"hasTruncateMarker":true,"authors":[{"name":"Fenrir","title":"\ubc14\ubcf4\uc5d0\uc11c \ubc97\uc5b4\ub098\uae38 \ud76c\ub9dd\ud558\ub294 \uc790","url":"https://github.com/FenrirD","imageURL":"https://github.com/fenrirD.png","key":"fenrir"}],"frontMatter":{"slug":"js-hoisting","title":"js \ud638\uc774\uc2a4\ud305","authors":["fenrir"],"tags":["javascript","hoisting","var","let","const"]},"unlisted":false,"prevItem":{"title":"\uc820\ud0a8\uc2a4 \ube4c\ub4dc \ub9ac\ud329\ud1a0\ub9c1","permalink":"/blog/jenkins-build-refactoring"},"nextItem":{"title":"js \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d","permalink":"/blog/js-asynchronous"}},"content":"import BrowserWindow from \'@site/src/components/BrowserWindow\';\\r\\n\\r\\n## \ub3c4\uc785\\r\\n---\\r\\n![Example banner](./hoisting_img_1.jpg)\\r\\n\\r\\nJS\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uac1c\ub150\uc778 **Hoisting** \uc5d0 \ub300\ud574\uc11c \uc815\ub9ac\ub97c \ud558\uace0\uc790 \ud55c\ub2e4.\\r\\n:::warning\\r\\n\ub458\ub9ac\uc758 \ud638\uc787 \uc544\ub2d9\ub2c8\ub2e4.\\r\\n:::\\r\\n---\\r\\n\\r\\n**MDN**\uc5d0\uc11c \uc544\uc8fc \uce5c\uc808\ud558\uac8c \ub204\uad70\uac00 \ubb3c\uc5b4\ubcf4\uba74  **\\"\ubcc0\uc218\uc758 \uc120\uc5b8\uacfc \ucd08\uae30\ud654\ub97c \ubd84\ub9ac\ud55c \ud6c4, \uc120\uc5b8\ub9cc \ucf54\ub4dc\uc758 \ucd5c\uc0c1\ub2e8\uc73c\ub85c \uc62e\uae30\ub294 \uac83\\"** \uc774\ub807\uac8c \uc124\uba85 \ud558\ub77c\uace0 \uc791\uc131\ub418\uc5b4 \uc788\ub2e4.\\r\\n\\r\\n\x3c!--truncate--\x3e\\r\\n\\r\\n## \ubcf8\ub860\\r\\n\\r\\n### \ud638\uc774\uc2a4\ud305\\r\\n\\r\\n**MDN**\uc5d0\uc11c \uc124\uba85 \ud574\uc900 \ub0b4\uc6a9\uc744 \uc77d\uace0, \uc544\ub798\uc758 \ucf54\ub4dc\uc758 \uc2e4\ud589 \uacb0\uacfc\ub97c \uc608\uc0c1\ud574\ubcf4\uc790.\\r\\n\\r\\n```js\\r\\n\\r\\nconsole.log(\\"hello\\", name);\\r\\n\\r\\nprintAge(17)\\r\\n\\r\\nvar name = \\"Lee\\"\\r\\n\\r\\nfunction printAge(age) {\\r\\n  console.log(\'age:\',age);\\r\\n}\\r\\n\\r\\n```\\r\\n\uc704 \ucf54\ub4dc\ub294 \uc544\ub798\uc640 \uac19\uc774 \ucd9c\ub825\ud55c\ub2e4. \\r\\n\\r\\n<BrowserWindow>\\r\\n\\r\\nhello Lee  \\r\\nage: 17\\r\\n\\r\\n</BrowserWindow>\\r\\n\\r\\n\\r\\n\uc704\uc5d0 \uc791\uc131\ud55c \ucf54\ub4dc\ub294 **Reference Error** \uac00 \uc544\ub2cc `name` \uacfc `printAge` \ud568\uc218\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \uc218\ud589\ub41c\ub2e4. \\r\\n\uc65c? \uadf8\uac8c \ubc14\ub85c \ud638\uc774\uc2a4\ud305\uc774\ub2e4.\\r\\n\\r\\njavascript \uc5d0\uc11c **var**\ub85c \uc120\uc5b8\ud55c \ubcc0\uc218\uc640 \ud568\uc218\uc758 \uc120\uc5b8\uc2dd\uc5d0\uc11c\ub294 \uc778\ud130\ud504\ub9ac\ud130\uac00 \ubcc0\uc218\uc640 \ud568\uc218\uc758 \uba54\ubaa8\ub9ac \uacf5\uac04\uc744 \uc120\uc5b8\uc804\uc5d0 \ubbf8\ub9ac \ud560\ub2f9\ud558\ub294\ub370\\r\\n\uc774\ub7ec\ud55c \uc791\uc5c5\uc744 \ud638\uc774\uc2a4\ud305\uc774\ub77c\uace0 \ud55c\ub2e4.\\r\\n\\r\\n\ub354\uc6b1 \uc27d\uac8c \uc124\uba85\ud558\uba74 **\ud638\uc774\uc2a4\ud305**\uc740 JavaScript\uc5d0\uc11c \ubcc0\uc218 \ubc0f \ud568\uc218 \uc120\uc5b8\uc774 \ud574\ub2f9 \uc2a4\ucf54\ud504\uc758 \ucd5c\uc0c1\ub2e8\uc73c\ub85c \uc62e\uaca8\uc9c0\ub294 \uac83\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4.\\r\\n\\r\\n### \ud638\uc774\uc2a4\ud305 \uc885\ub958\\r\\n\\r\\n\ud638\uc774\uc2a4\ud305 \uc885\ub958\uc5d0\ub294 \ub450 \uac00\uc9c0 \uc694\uc18c\uac00 \uc788\ub2e4.\\r\\n\\r\\n#### \ubcc0\uc218 \ud638\uc774\uc2a4\ud305\\r\\n\ubcc0\uc218 \uc120\uc5b8\uc740 \ud574\ub2f9 \uc2a4\ucf54\ud504\uc758 \ucd5c\uc0c1\ub2e8\uc73c\ub85c \uc62e\uaca8\uc9c0\uc9c0\ub9cc, \ucd08\uae30\ud654(\ud560\ub2f9)\ub294 \uadf8 \uc790\ub9ac\uc5d0 \ub0a8\uc544 \uc788\ub2e4.\\r\\n\\r\\n```js\\r\\nconsole.log(\\"hello\\", name); // undefined\\r\\n\\r\\nvar name = \\"Lee\\"\\r\\n```\\r\\n\\r\\n\uc704 \ucf54\ub4dc\ub294 Javascript \uc5d4\uc9c4\uc5d0 \uc758\ud574 \uc2e4\uc81c\ub85c \ub2e4\uc74c\uacfc \uac19\uc774 \uc2e4\ud589 \ub41c\ub2e4.\\r\\n\\r\\n```js\\r\\nvar name;\\r\\n\\r\\nconsole.log(\\"hello\\", name); // undefined\\r\\n\\r\\nname = \\"Lee\\"\\r\\n```\\r\\n\\r\\n\\r\\n#### \ud568\uc218 \ud638\uc774\uc2a4\ud305\\r\\n\ud568\uc218 \uc120\uc5b8\uc740 \ud574\ub2f9 \uc2a4\ucf54\ud504\uc758 \ucd5c\uc0c1\ub2e8\uc73c\ub85c \uc62e\uaca8\uc9c0\uba70, \uc774\ub54c \ud568\uc218\uc758 \uc804\uccb4 \uc815\uc758\uac00 \uc62e\uaca8 \uc9c4\ub2e4.\\r\\n\\r\\n```js\\r\\nprintFunc(); // \\"Hello!\\"\\r\\n\\r\\nfunction printFunc() {\\r\\n  console.log(\\"Hello!\\");\\r\\n}\\r\\n```\\r\\n\uc704 \ucf54\ub4dc\ub294 Javascript \uc5d4\uc9c4\uc5d0 \uc758\ud574 \uc2e4\uc81c\ub85c \ub2e4\uc74c\uacfc \uac19\uc774 \uc2e4\ud589 \ub41c\ub2e4.\\r\\n\\r\\n```js\\r\\nfunction printFunc() {\\r\\n  console.log(\\"Hello!\\");\\r\\n}\\r\\n\\r\\nprintFunc(); // \\"Hello!\\"\\r\\n```\\r\\n\\r\\n\\r\\n#### \uc8fc\uc758\uc0ac\ud56d\\r\\n* \ubcc0\uc218 \ud638\uc774\uc2a4\ud305 \uc2dc, \uc120\uc5b8\ub9cc \uc62e\uaca8\uc9c0\uace0 \ucd08\uae30\ud654\ub294 \uadf8 \uc790\ub9ac\uc5d0 \ub0a8\uc544 \uc788\uc73c\ubbc0\ub85c \ubcc0\uc218\ub97c \uc0ac\uc6a9\ud558\uae30 \uc804\uc5d0 \uc120\uc5b8\ub418\uc5c8\ub294\uc9c0 \uc8fc\uc758\ud574\uc57c \ud55c\ub2e4.\\r\\n\\r\\n* \ud568\uc218 \ud638\uc774\uc2a4\ud305\uc740 \ud568\uc218 \uc804\uccb4\uac00 \uc62e\uaca8\uc9c0\uae30 \ub54c\ubb38\uc5d0 \ud568\uc218 \uc120\uc5b8\uc2dd\uc744 \uc0ac\uc6a9\ud558\ub354\ub77c\ub3c4 \ud574\ub2f9 \ud568\uc218\ub97c \ud638\ucd9c\ud560 \uc218 \uc788\ub2e4.\\r\\n\\r\\n* \ud568\uc218 \ud45c\ud604\uc2dd(anonymous function expression)\uc758 \uacbd\uc6b0 \ud638\uc774\uc2a4\ud305\uc774 \ub418\uc9c0 \uc54a\ub294\ub2e4.\\r\\n\\r\\n\\r\\n```js\\r\\nprintFunc(); // Error: printFunc is not a function\\r\\n\\r\\nvar printFunc = function() {\\r\\nconsole.log(\\"Hello!\\");\\r\\n};\\r\\n```\\r\\n\\r\\n\uc704 \ucf54\ub4dc\uc5d0\uc11c\ub294 \ubcc0\uc218 printFunc\uc740 \ud638\uc774\uc2a4\ud305\ub418\uc9c0\ub9cc, \ud574\ub2f9 \ubcc0\uc218\uc758 \ucd08\uae30\ud654 \uac12\uc774 \ud568\uc218\uac00 \uc544\ub2c8\uae30 \ub54c\ubb38\uc5d0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud55c\ub2e4.\\r\\n\\r\\n\ud638\uc774\uc2a4\ud305\uc740 \ucf54\ub4dc\uc758 \uac00\ub3c5\uc131\uacfc \uc720\uc9c0\ubcf4\uc218\uc131\uc744 \ub5a8\uc5b4\ub728\ub9b4 \uc218 \uc788\uc73c\ubbc0\ub85c, \ubcc0\uc218\uc640 \ud568\uc218\ub97c \uc120\uc5b8\ud55c \uc704\uce58\uc5d0 \ucd5c\ub300\ud55c \uac00\uae5d\uac8c \uc791\uc131\ud558\ub294 \uac83\uc774 \uc88b\ub2e4.\\r\\n\\r\\n## \uacb0\ub860\\r\\n\ud638\uc774\uc2a4\ud305\uc740 \uc758\ub3c4\uce58 \uc54a\uac8c \uc2e4\uc218\ub97c \uc77c\uc73c\ud0ac \uac00\ub2a5\uc131\uc774 \uc788\uc73c\ub2c8 \ud56d\uc0c1 \uc8fc\uc758\ud574\uc11c \ucf54\ub4dc\ub97c \uc791\uc131\ud558\uc790."},{"id":"js-asynchronous","metadata":{"permalink":"/blog/js-asynchronous","source":"@site/blog/2022-12-02-JS-Async/index.md","title":"js \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d","description":"\ub3c4\uc785","date":"2022-12-02T00:00:00.000Z","tags":[{"inline":true,"label":"\ube44\ub3d9\uae30","permalink":"/blog/tags/\ube44\ub3d9\uae30"},{"inline":true,"label":"javascript","permalink":"/blog/tags/javascript"},{"inline":true,"label":"promise","permalink":"/blog/tags/promise"},{"inline":true,"label":"event loop","permalink":"/blog/tags/event-loop"}],"readingTime":19.1,"hasTruncateMarker":true,"authors":[{"name":"Fenrir","title":"\ubc14\ubcf4\uc5d0\uc11c \ubc97\uc5b4\ub098\uae38 \ud76c\ub9dd\ud558\ub294 \uc790","url":"https://github.com/FenrirD","imageURL":"https://github.com/fenrirD.png","key":"fenrir"}],"frontMatter":{"slug":"js-asynchronous","title":"js \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d","authors":["fenrir"],"tags":["\ube44\ub3d9\uae30","javascript","promise","event loop"]},"unlisted":false,"prevItem":{"title":"js \ud638\uc774\uc2a4\ud305","permalink":"/blog/js-hoisting"},"nextItem":{"title":"React Batch?","permalink":"/blog/react-batch"}},"content":"import BrowserWindow from \'@site/src/components/BrowserWindow\';\\nimport SyncTest from \'@site/src/components/SyncTest\';\\nimport AsyncTest from \'@site/src/components/AsyncTest\';\\n\\n## \ub3c4\uc785\\n\\n---\\n\\nQ. js\uc5d0\uc11c \ube44\ub3d9\uae30 \ub300\ud574 \uc124\uba85\ud574\uc8fc\uc138\uc694\\n\\nA. \ub124? \ube44\ub3d9\uae30\uc694? \ube44\ub3d9\uae30\uac00 \uc5b4\ub5bb\uac8c \uc774\ub8e8\uc5b4\uc9c0\ub294 \uc9c0\ub97c \ub9d0\uc500\ud788\uc2dc\ub294\uac74\uac00\uc694?\\n\\nQ. \ub124 \ubb50\ub4e0\uc694.\\n\\nA. \uc774\ubca4\ud2b8 \ub8e8\ud504 \uc5b4\uca4c\uad6c \uc800\uca4c\uad6c \ud504\ub85c\ubbf8\uc2a4 \uc5b4\uc800\uafb8 \uc800\uca4c\uad6c async, await \uc8fc\uc800\ub9ac\uc8fc\uc800\ub9ac..\\n\\nQ. Ajax \uc544\uc2dc\uc8e0?\\n\\nA. \ub124. Ajax\ub294 \ube44\ub3d9\uae30 \ud1b5\uc2e0\uc744 \uc704\ud55c \uc800\ub294 JQuery \uc5b4\uc800\uafb8 \uc800\uca4c\uad6c (\ub1cc\ub294 \ud558\uc597\uac8c \ubcc0\ud568 \ud83e\udd2f)\\n\\nQ. \ucf5c\ubc31 \uc9c0\uc625\uc774\ub77c\uace0 \ub4e4\uc5b4\ubcf4\uc168\uc8e0?\\n\\nA. \ub124. \ucf5c\ubc31\uc740 \ud638\ucd9c\ud558\ub294 \ud568\uc218\ub97c \ud30c\ub77c\ubbf8\ud130\ub85c \uc804\ub2ec\uc5d0\uc11c \uc5b4\ub5a0\ud55c \ub3d9\uc791\uc774 \ub05d\ub098\uace0 \ud638\ucd9c\\n\\nQ. \uac1c\ubc1c\ud558\uc2dc\uba74\uc11c \ucf5c\ubc31 \uc9c0\uc625\uc744 \uacbd\ud5d8\ud574\ubcf8\uc801\uc740?\\n\\nA. (\uc774\ubbf8 \ub1cc\ub294 \uba48\ucdc4\ub2e4) \uc5b4... \uadf8\ub7ec\ub2c8\uae4c...\\n\\nQ. ...\\n\\nA. ...\\n\\n---\\n\\n\ub300\ub7b5 \uc774\ub7f0 \ub300\ud654\uc600\ub2e4. \uc9c0\uae08 \uc640\uc11c \uc0dd\uac01\ud574\ubcf4\uba74 JS \ud2b9\uc9d5\uacfc JS\uac00 \uc5b4\ub5bb\uac8c \ube44\ub3d9\uae30 \ucc98\ub9ac\ub97c \ud558\ub294\uc9c0 \uc54c\uace0 \uc788\ub294\uc9c0\ub97c \ubb3c\uc5b4\ubcf4\ub824\uace0 \ud558\uc2e0 \uac70 \uac19\ub2e4. \\n\uc544\ub9c8 \uc2e4\uc81c \ub2f5\uc744 \ud560 \ub54c\ub294 \ub098 \uc2a4\uc2a4\ub85c \uc815\ub9ac\ub3c4 \uc548 \ub418\uace0 \ub0b4 \uba38\ub9bf\uc18d\uc5d0\uc11c \ub5a0\ub2e4\ub2c8\ub294 \ub2e8\ud3b8\uc801\uc778 \uc9c0\uc2dd\uc744 \uc870\ud569\ud574\uc11c \ub300\ub2f5\ud588\ub2e4.\\n\\n\x3c!--truncate--\x3e\\n\\n\uc9c0\uae08 \uc0dd\uac01\ud558\uba74 \uc5b4\ub5a4 \uae30\ub2a5\uc744 \uac1c\ubc1c\ud558\uae30\uc5d0\ub9cc \uae09\uae09\ud558\uace0 \uadf8 \uae30\ub2a5\uc744 \uad6c\ud604\ud560 \ub54c \uc0ac\uc6a9\ud558\ub294 \uae30\ubcf8\uc801\uc778 \uc9c0\uc2dd \uc2b5\ub4dd\uc5d0\ub294 \uad00\uc2ec\uc774 \uc5c6\uc5b4\uc11c \ub300\ub2f5\uc744 \uc800\ub807\uac8c \ud55c \uac70 \uac19\ub2e4.\\n\ud56d\uc0c1 \uc5b4\ub5a4 \uac1c\ubc1c\uc744 \ud560 \ub54c, \uc65c \uc0ac\uc6a9\ud558\ub294\uc9c0\ub97c \uc54c\uace0 \ud574\uacb0\ud558\uace0 \ub05d\uc774 \uc544\ub2cc \uc815\ub9ac\ub97c \ud558\uc9c0 \uc54a\uc73c\uba74 \uae30\uc220 \uba74\uc811\uc5d0\uc11c\ub294 \uc601\uc6d0\ud788 \ubd88\ud569\uaca9\ud560 \uac70 \uac19\ub2e4.\\n\\n \\n\\n## \ubcf8\ub860\\n### Javascript \ud2b9\uc9d5\uc774 \ubb50\uc5d0\uc694?\\n\\n\uc5d0? JS\uc5d0 \ud2b9\uc9d5\uc774\uc694? \uc5b4... \uadf8\ub7ec\ub2c8\uae4c JS\ub294 *\uc778\ud130\ud504\ub9ac\ud130 \uc5b8\uc5b4*\uc774\uace0 *\uc2f1\uae00 \uc2a4\ub808\ub4dc* \ubb50 \ube14\ub77c\ube14\ub77c \ub77c\uace0 \ub300\ub2f5\ud558\uaca0\ub2e4.\\nJS \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d\uc5d0\uc11c \uc911\uc694\ud55c \uac74 *\uc2f1\uae00 \uc2a4\ub808\ub4dc*\uc774\ub2e4. JS\uac00 \uc2f1\uae00 \uc2a4\ub808\ub4dc\ub77c\ub294 \uc758\ubbf8\ub294 \uc791\uc5c5\uc774 \uc2dc\uc791\ub418\uba74 \uc774 \uc791\uc5c5\uc774 \uc644\ub8cc\ub418\uae30\uae4c\uc9c0 \ub2e4\ub978 \uc791\uc5c5\uc744 \ud560 \uc218 \uc5c6\ub2e4.\\n\\n\uc65c\uace1\ub41c \uc124\uba85\uc744 \ud558\uc790\uba74 \ud55c \uc2dd\ub2f9\uc774 \uc788\ub2e4. \uc774 \uc2dd\ub2f9\uc758 \uae30\ubcf8\uc801\uc778 \ud504\ub85c\uc138\uc2a4\ub294 \uc8fc\ubb38 -> \uc694\ub9ac -> \uc11c\ube59 \uc21c\uc73c\ub85c \uc9c4\ud589\ub41c\ub2e4. \uc774 \uc2dd\ub2f9\uc5d0 \uadfc\ub85c\uc790\uac00 1\uba85\uc774\ub77c\uba74?\\n\uccab \ubc88\uc9f8 \uc190\ub2d8\uc774 \uc624\uba74 \uadfc\ub85c\uc790\ub294 \uc704\uc5d0 \ud504\ub85c\uc138\uc2a4\ub300\ub85c \uc77c\ud55c\ub2e4. \uc11c\ube59\uc744 \ub9c8\uce58\uace0 \ub450 \ubc88\uc9f8 \uc190\ub2d8\uc774 \uc654\ub2e4\uba74 \ub2e4\uc2dc \uc704 \ud504\ub85c\uc138\uc2a4\ub97c \uc9c4\ud589\ud55c\ub2e4.\\n\ub9cc\uc57d \uc694\ub9ac\ud558\ub294 \uc640\uc911\uc5d0 \uc138 \ubc88\uc9f8 \uc190\ub2d8\uc774 \uc624\uba74 \uc774 \uc190\ub2d8\uc740 \uc8fc\ubb38\uc744 \ud558\ub824 \ud574\ub3c4 \uadfc\ub85c\uc790\uac00 \uc11c\ube59\uae4c\uc9c0 \ub9c8\uce58\uace0 \ub098\uc11c\uc57c \uc8fc\ubb38\uc744 \ud560 \uc218 \uc788\ub2e4\ub294 \uac83\uc774\ub2e4.\\n\\n\uc989 JS\ub294 \ud55c\ubc88\uc5d0 \ud558\ub098\uc758 \uc77c\ubc16\uc5d0 \ucc98\ub9ac \ubabb\ud558\ub294 `single Thread`\ub2e4  \\n\\n:::info\\nThread: \uc2a4\ub808\ub4dc\ub294 \uc5b4\ub5a0\ud55c \ud504\ub85c\uadf8\ub7a8\uc774 \uc2e4\ud589\ub418\ub294 \uc791\uc5c5\uc744 \ub9d0\ud568\\n:::\\n\\n```js\\nfunction sleep (ms) {\\n  const loopTime = Date.now() + ms;\\n  while (Date.now() < loopTime) {\\n  }\\n}\\n\\nfunction order(o) {\\n  cook(o)\\n}\\n\\nfunction cook(o) {\\n  const ms = Math.floor(Math.random() * 10000) ;\\n  sleep(ms)\\n  serve(o, ms)\\n}\\n\\nfunction serve(o, ms) {\\n  console.log(\\"\uba54\ub274: \\" , o, \\"\uc870\ub9ac\uc2dc\uac04: \\", ms/1000, \\"\ucd08\\")\\n}\\n\\norder(\'\ud53c\uc790\')\\norder(\'\uce58\ud0a8\')\\norder(\'\ubb3c\')\\n\\n```\\n\\n<BrowserWindow>\\n\ud53c\uc790\\n\\n\uce58\ud0a8  \\n\ubb3c\\n</BrowserWindow>\\n\\n\uc704\uc5d0 \uc608\uc2dc\ub97c \uc2e4\ud589\ud558\uba74 \ud56d\uc0c1 \uc870\ub9ac\uc2dc\uac04(ms) \uc0c1\uad00\uc5c6\uc774 \ud53c\uc790, \uce58\ud0a8, \ubb3c\ub85c \ucd9c\ub825\uc774 \ub41c\ub2e4. \\n\\n### \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d\\n\ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d\uc774\ub780 \uc5b4\ub5a4 \uc791\uc5c5\uc774 \uc644\ub8cc \ub420 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub9ac\uc9c0 \uc54a\uace0 \ub2e4\ub978 \uc791\uc5c5\uc744 \uc218\ud589 \ud558\ub294\uac83\uc774\ub2e4.  \\n\uc5e5? \uadfc\ub370 js\ub294 \uc2f1\uae00 \uc2a4\ub808\ub4dc\ub2e4. \uc5b4\ub5bb\uac8c\ud560\uae4c? \\n\\njavascript \uc5d4\uc9c4(V8)\uacfc  \ube0c\ub77c\uc6b0\uc800\uc5d0 \ub300\ud574\uc11c \uc5b4\ub290\uc815\ub3c4 \uc774\ud574\uac00 \ud544\uc694\ud558\ub2e4.\\n\\n[\uad6c\uc870 \uc0ac\uc9c4 \ub4e4\uc5b4\uac00\ub294 \uacf3]\\n\\n* Stack\\n  * \uc2a4\ud0dd\uc740 \uc6b0\ub9ac\uac00 \uc798 \uc544\ub294 \uc790\ub8cc\uad6c\uc870\uc758 \ud558\ub098\uc778 \uc2a4\ud0dd\uacfc \ube44\uc2b7\ud55c \uac1c\ub150\uc73c\ub85c \ud568\uc218\ub97c \ud638\ucd9c\ud558\uba74 `stack`\uc5d0 push \ub41c\ub2e4.\\n* Heap\\n  * js\uc5d0 \uac1d\uccb4 \ub4f1 \uba54\ubaa8\ub9ac \ud560\ub2f9\uc774 \ubc1c\uc0dd\ud558\ub294 \uacf3\\n* Web API\\n  * DOM, AJAX, \ub4f1 \ube0c\ub77c\uc6b0\uc800\uac00 \uc81c\uacf5\ud558\ub294 API\\n* callback queue\\n  * DOM, AJAX, \ub4f1\uc758 \uc774\ubca4\ud2b8\uac00 \ub05d\ub09c \ud6c4 `queue`\uc5d0\uc11c \ub300\uae30\ud55c\ub2e4.\\n\\n* Event Loop\\n  * Event Loop\ub294 *Stack*\uc774 \ube44\uc5b4\uc788\uc73c\uba74 queue\uc5d0 \uc788\ub294 \ud568\uc218\ub97c Stack\uc73c\ub85c \uc804\ub2ec\ud55c\ub2e4.\\n\\n:::info\\ncallback queue\ub294 **microtask queue** \uc640 **macrotask queue**\uac00 \uc874\uc7ac\ud558\uace0 \uc6b0\uc120 \uc21c\uc704\ub3c4 \ub2e4\ub974\uc9c0\ub9cc \uc790\uc138\ud55c \uc124\uba85\uc740 \uc0dd\ub7b5\ud55c\ub2e4. \\n:::\\n\uc704 \uad6c\uc870\ub97c \uc774\ud574\ud558\uae30 \uc704\ud574 \uac04\ub2e8\ud55c \uc608\uc81c\uc778 \uc544\ub798 \ucf54\ub4dc\ub97c \ubcf4\uba74\uc11c \uc774\ud574\ub97c \ud574\ubcf4\uc790.\\n\\n#### \ub3d9\uae30 (\uc9c4\ub3d9\uae30 \ubd80\ud68c\uc7a5 \uc544\ub2d8)\\n\\n```mdx-code-block\\n<BrowserWindow>\\n```\\n\\n```jsx\\nconst SyncTest = () => {\\n\\n  const [foods, setFoods] = useState([]);\\n\\n  function sleep(ms) {\\n    const loopTime = Date.now() + ms;\\n    while (Date.now() < loopTime) {\\n    }\\n  }\\n\\n  function order() {\\n    const foods = [\'\ud53c\uc790\', \'\uce58\ud0a8\', \'\ubb3c\'];\\n    foods.forEach(cook);\\n  }\\n\\n  function cook(food) {\\n    const ms = Math.floor(Math.random() * 10000);\\n    console.log(\'\uc870\ub9ac \uc2dc\uac04:\', ms);\\n    sleep(ms);\\n    serve(food, ms);\\n  }\\n\\n  function serve(food, time) {\\n    time = time / 1000;\\n    setFoods((old) => [...old, {food, time}]);\\n    console.log(\\"\uc11c\ube59 : \\", food);\\n  }\\n\\n  return (\\n    <div style={{display: \'flex\', flex: \'1\', flexDirection: \'column\'}}>\\n      <div onClick={order} style={{display: \'flex\', flexDirection: \'column\'}}>\\n        <button> \uc8fc\ubb38</button>\\n      </div>\\n      <hr/>\\n      <div>\\n        {\\n          foods.map(({food, time}, idx) => <div key={\\"food_\\" + idx}>\uc74c\uc2dd:{food}, \uc2dc\uac04: {time} \ucd08</div>)\\n        }\\n      </div>\\n    </div>\\n  )\\n}\\n```\\n<SyncTest >\\n</SyncTest>\\n\\n```mdx-code-block\\n</BrowserWindow>\\n```\\n\uc544\uae4c \ubcf8 \ucf54\ub4dc\ub97c \uc2e4\ud589\ud574\ubcf4\uba74 \uc870\ub9ac \uc2dc\uac04\uacfc \uc0c1\uad00\uc5c6\uc774 \ud53c\uc790, \uce58\ud0a8, \ubb3c\uc774 \ucd9c\ub825\ub418\ub294\ub370 \uc704 \ucf54\ub4dc\uc758 \uc2e4\ud589\uc21c\uc11c\ub97c \uadf8\ub9bc\uc73c\ub85c \ubcf4\uba74 \uc544\ub798\uc640 \uac19\ub2e4.\\n\\n[JS \uad6c\uc870\uc640 \uc2e4\ud589\uc21c\uc11c \uadf8\ub9bc(\ub3d9\uae30)]\\n\\n1. `onClick` Event \uc2e4\ud589 \ub418\uace0, \ud050\uc5d0 \ud560\ub2f9\ub418\uace0, \uc2a4\ud0dd\uc774 \ube44\uc5b4\uc788\uc73c\ubbc0\ub85c \ubc14\ub85c \uc2a4\ud0dd\uc5d0\uc11c \uc2e4\ud589\ub41c\ub2e4.   \\n2. `order` \ud568\uc218\uac00 \uc2a4\ud0dd\uc5d0 \uc313\uc774\uace0, `cook` \ud568\uc218\ub97c \ud638\ucd9c\ud55c\ub2e4.\\n3. `cook` \ud568\uc218\uac00 \uc2a4\ud0dd\uc5d0 \uc313\uc774\uace0, `sleep` \ud568\uc218\ub97c \ud638\ucd9c\ud55c\ub2e4.\\n4. `sleep` \ud568\uc218\uc5d0\uc11c \uc778\uc790\ub85c \ubc1b\uc740 \uac12 \ub9cc\ud07c \ub300\uae30\ud558\uace0, `sleep` \ud568\uc218\uac00 \uc2a4\ud0dd\uc5d0\uc11c \uc81c\uac70\ub41c\ub2e4.\\n5. `serve` \ud568\uc218\ub97c \ud638\ucd9c\ud558\uace0, `log` \ucd9c\ub825 \ud6c4, \uc2a4\ud0dd\uc5d0 \uc313\uc778 \ud568\uc218\ub4e4\uc774 \uc21c\ucc28\uc801\uc73c\ub85c \uc81c\uac70\ub41c\ub2e4.\\n6. \uc704 \uacfc\uc815\uc744 `foods` \uae38\uc774 \ub9cc\ud07c \ubc18\ubcf5\ud55c\ub2e4.\\n\\n#### \ube44\ub3d9\uae30\\n\\n```mdx-code-block\\n<BrowserWindow>\\n```\\n\\n```jsx\\nconst AsyncTest = () => {\\n\\n  const [foods, setFoods] = useState([]);\\n\\n  function order() {\\n    const foods = [\'\ud53c\uc790\', \'\uce58\ud0a8\', \'\ubb3c\'];\\n    foods.forEach(cook);\\n  }\\n\\n  function cook(food) {\\n    const ms = Math.floor(Math.random() * 10000);\\n    console.log(\'\uc870\ub9ac \uc2dc\uac04:\', ms);\\n    setTimeout(()=> {\\n      serve(food, ms)\\n    },ms)\\n  }\\n\\n  function serve(food, time) {\\n    time = time / 1000;\\n    setFoods((old) => [...old, {food, time}]);\\n    console.log(\\"\uc11c\ube59 : \\", food);\\n  }\\n\\n  return (\\n    <div style={{display: \'flex\', flex: \'1\', flexDirection: \'column\'}}>\\n      <div onClick={order} style={{display: \'flex\', flexDirection: \'column\'}}>\\n        <button> \uc8fc\ubb38</button>\\n      </div>\\n      <hr/>\\n      <div>\\n        {\\n          foods.map(({food, time}, idx) => <div key={\\"food_\\" + idx}>\uc74c\uc2dd:{food}, \uc2dc\uac04: {time} \ucd08</div>)\\n        }\\n      </div>\\n    </div>\\n  )\\n}\\n\\n```\\n\\n<AsyncTest />\\n\\n```mdx-code-block\\n</BrowserWindow>\\n```\\n\\n[Timeout\uc744 \uc2e4\ud589 \ubc29\ubc95]\\n\\n1. `onClick` Event \uc2e4\ud589 \ub418\uace0, \ud050\uc5d0 \ud560\ub2f9\ub418\uace0, \uc2a4\ud0dd\uc774 \ube44\uc5b4\uc788\uc73c\ubbc0\ub85c \ubc14\ub85c \uc2a4\ud0dd\uc5d0\uc11c \uc2e4\ud589\ub41c\ub2e4.\\n2. `order` \ud568\uc218\uac00 \uc2a4\ud0dd\uc5d0 \uc313\uc774\uace0, `cook` \ud568\uc218\ub97c \ud638\ucd9c\ud55c\ub2e4.\\n3. `cook` \ud568\uc218\uac00 \uc2a4\ud0dd\uc5d0 \uc313\uc774\uace0, `serve`\ud568\uc218\ub294 `setTimeout`\uc5d0 \uc758\ud574 \ube0c\ub77c\uc6b0\uc800\uc758 `WebAPI` \uc5d0\uc11c `ms` \ud6c4\uc5d0 \uc2e4\ud589 \ub41c\ub2e4.\\n4. `cook` \ud568\uc218\uac00 \uc2a4\ud14d\uc5d0\uc11c \uc81c\uac70\ub41c\ub2e4.\\n5. \uc704 \uacfc\uc815\uc744 `foods` \uae38\uc774 \ub9cc\ud07c \ubc18\ubcf5\ud55c\ud6c4, `order` \ud568\uc218\ub3c4 \uc2a4\ud0dd\uc5d0\uc11c \uc81c\uac70\ub41c\ub2e4.\\n6. `setTimeout`\uc774 `ms` \uac12\uc5d0 \ub530\ub77c \uc2e4\ud589\ub41c \uc21c\uc11c\ub300\ub85c, \ud050\uc5d0 \uc313\uc778\ub2e4.\\n7. \uc2a4\ud0dd\uc774 \ube44\uc5b4 \uc788\uc73c\uba74 \uc774\ubca4\ud2b8 \ub8e8\ud504\uc5d0 \uc758\ud574 \uc2a4\ud0dd\uc5d0 \uc313\uc774\uace0 `serve` \ud568\uc218\ub97c \ud638\ucd9c\ud55c\ub2e4.\\n8. `log` \ucd9c\ub825 \ud6c4, `serve`\uac00 \uc81c\uac70\ub41c\ub2e4.\\n9. 6~8\ubc88\uc758 \uacfc\uc815\uc774 \ud050\uc5d0 \uac12\uc774 \uc5c6\uc744 \ub54c \uc774\ubca4\ud2b8 \ub8e8\ud504\uc5d0 \uc758\ud574 \uae4c\uc9c0 \ubc18\ubcf5 \ub41c\ub2e4.\\n\\n---\\n\\n\uc704\uc5d0 \ub450 \ucf54\ub4dc\uc758 \uac00\uc7a5 \ud070 \ucc28\uc774\uc810\uc740 `sleep` \uacfc `setTimeout`\uc744 \ud1b5\ud55c \uc9c0\uc5f0\uc774\ub2e4. `sleep`\uc758 \uacbd\uc6b0 \uc2a4\ud0dd\uc5d0\uc11c \uc2e4\ud589\ub418\uc5b4 \uc9c0\uc5f0\ub418\uace0 `setTimeout`\uc740 \ube0c\ub77c\uc6b0\uc800\uc758 WebAPI \ud1b5\ud574 \uc2e4\ud589\ub41c\ub2e4.\\n\\n\uc989 JS\uc5d0\uc11c \ube44\ub3d9\uae30 \ucc98\ub9ac\ub294 \ube0c\ub77c\uc6b0\uc800\uc758 WebAPI \uc5d0\uc11c \uc2e4\ud589\ub418\uace0, \uc2e4\ud589\uc774 \ub05d\ub09c\ud6c4 \ud050\uc5d0 \uc313\uc774\uace0, \uc774\ubca4\ud2b8 \ub8e8\ud504\uc5d0 \uc758\ud574\uc11c \uc2a4\ud0dd\uc774 \ube44\uc5b4\uc788\uc73c\uba74 \uc2a4\ud0dd\uc5d0 \uc313\uc778\ub4a4 \uc2e4\ud589\ub41c\ub2e4\ub294 \uac83\uc744 \uc54c\uc218\uc788\ub2e4.\\n\\n> \uc2a4\ud0dd\uc5d0 \uc313\uc778\ub4a4 \uc2e4\ud589\ub418\ub294 \ud568\uc218\ub97c \ucf5c\ubc31 \ud568\uc218\ub77c\uace0 \ud55c\ub2e4. \\n\\n### \ucf5c\ubc31\\n\ucf5c\ubc31\uc774\ub780 \ud2b9\ubcc4\ud55c \uc758\ubbf8\uac00 \uc544\ub2cc \ub2f9\uc7a5 \uc2e4\ud589\ub418\uc9c0 \uc54a\uace0 \ubbf8\ub798\uc5d0 \uc2e4\ud589\ud558\ub294 \ub2e8\uc21c\ud55c \uc758\ubbf8\uc774\ub2e4. \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d\uc740 \uc5b8\uc81c \ud574\ub2f9 \ud568\uc218\uc758 \ucc98\ub9ac\uac00 \uc644\ub8cc \ub420\uc9c0 \ubaa8\ub974\ubbc0\ub85c\\n\ud574\ub2f9 \ud568\uc218\uac00 \uc885\ub8cc \ub41c \ud6c4, \uadf8 \ub2e4\uc74c \ud568\uc218\ub97c \uc2e4\ud589\ud558\uae30 \uc704\ud574 \ud30c\ub77c\ubbf8\ud130\ub97c \ud568\uc218\ub85c \uc778\uc790\ub85c \uc804\ub2ec\ud55c\ub4a4, \ud574\ub2f9 \ub85c\uc9c1\uc774 \ub05d\ub09c \ud6c4 \uc2e4\ud589\ud558\ub294\uac83\uc744 \ubcf4\uc7a5\ud558\uae30 \uc704\ud55c \ubc29\ubc95\uc774\ub2e4.\\n\\n* callback\uc744 \uc0ac\uc6a9\ud558\ub294 \uc608\uc2dc\\n```js\\n// forEach\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 callback\\n[1,2,3].forEach(n=>{\\n  console.log(n)\\n})\\n\\n// setTimeout\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 callback\\nsetTimeout(()=>{\\n  callback()\\n},0)\\n\\nfunction func1(num, callback) {\\n  console.log(\'func1\')\\n  num += 1;\\n  callback(num)\\n}\\n\\nfunction call(){\\n  func1(0, num=>\\n        console.log(num)\\n  )\\n}\\n\\ncall()\\n\\n```\\n\\n> js\uc5d0\uc11c \ud568\uc218\ub3c4 object\uc774\ubbc0\ub85c \ud30c\ub77c\ubbf8\ud130\ub85c \uc804\ub2ec\ud558\ub294\uac8c \uac00\ub2a5\ud558\ub2e4 \\n\\n\uadf8\ub9ac\uace0 \ube44\ub3d9\uae30 \uad00\ub828 \uc9c8\ubb38\uc5d0\uc11c \ube7c\ub193\uc744\uc218 \uc5c6\ub294\uac8c \ucf5c\ubc31 \uc9c0\uc625(\ud83d\udc79)\uc774\ub2e4.\\n\\n#### \ucf5c\ubc31 \uc9c0\uc625\\n\ucf5c\ubc31 \uc9c0\uc625\uc740 \ubb34\uc218\ud788 \ub9ce\uc740 \ucf5c\ubc31\uc73c\ub85c \uc778\ud574 \ucf54\ub4dc\uac00 \uc9c1\uad00\uc801\uc774\uc9c0 \uc54a\uace0 \uac00\ub3c5\uc131\uc774 \ub5a8\uc5b4\uc9c0\ub294 \uc0c1\ud669\uc774\ub2e4.\\n\\n* \uc774\ubbf8\uc9c0\ub97c \ub85c\ub4dc\ud558\uace0 \uadf8\ub9ac\ub294 \uc0c1\ud669\uc5d0 \uc608\uc2dc\\n```js\\ngetImage(\\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8B8c7i0OCqgXJiV7al7cTXiaAjDWEHharTg&usqp=CAU\\",(img,err)=>{\\n  if(err){\\n    throw new Error(err)\\n  } else {\\n    resizeImage(img, (img, err)=>{\\n      console.log(img, img.width, img.height)\\n    })  \\n  }\\n})\\n```\\n\uc704 \ucf54\ub4dc\ub294 \uc774\ubbf8\uc9c0\ub97c \ubd88\ub7ec\uc624\uace0 \uc0ac\uc774\uc988\ub97c \uc7ac\uc870\uc815\ud558\ub294 \ucf54\ub4dc\uc774\ub2e4. \uc74c \uc544\uc9c1\uae4c\uc9c0\ub294 \uc77d\uc744\ub9cc\ud558\ub2e4.\ud83d\ude44\\n\\n\uc544\ub798 \ucf54\ub4dc\ub97c \uc0b4\ud3b4 \ubcf4\uc790\\n```js\\n\\ngetImage(\\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8B8c7i0OCqgXJiV7al7cTXiaAjDWEHharTg&usqp=CAU\\",(img,err)=>{\\n  if(err){\\n    throw new Error(err)\\n  } else {\\n    resizeImage(img, (img, err)=>{\\n      if(err) {\\n        throw new Error(err)\\n      } else {\\n        applyFilter(img, (img, err)=> {\\n          if(err) {\\n            throw new Error(err)\\n          } else {\\n            saveImage(img, (img, err)=> {\\n              if(err) {\\n                throw new Error(err)\\n              } else {\\n                console.log(\'Save Image\')\\n              }\\n            })\\n          }\\n        })\\n      }\\n    })\\n  }\\n})\\n\\n```\\n\\n\uc704 \ucf54\ub4dc\ub294 \uc774\ubbf8\uc9c0\ub97c \ubd88\ub7ec\uc624\uace0, \uc0ac\uc774\uc988\ub97c \uc870\uc815\ud558\uace0, \ud544\ud130\ub97c \uc50c\uc6b0\uace0, \uc774\ubbf8\uc9c0\ub97c \uc800\uc7a5\ud558\uace0, \ucd9c\ub825\ud55c\ub2e4.\\n\\n... \uc810\uc810 \ubcf5\uc7a1\ud574 \uc9c4\ub2e4.\ud83e\udd2f   \\n\ub9cc\uc57d \uc5ec\uae30\uc11c \ub354 \uae30\ub2a5\uc744 \ucd94\uac00\ud558\uba74 \uc218 \ub9ce\uc740 `})`\ub97c \ubcf4\uac8c \ub418\uace0, \ucf54\ub4dc\uc758 \uac00\ub3c5\uc131\uc740 \uc810\uc810 \uc904\uc5b4\ub4e0\ub2e4.\\n\uc704 \ucf54\ub4dc\ucc98\ub7fc *~~\ucf5c\ubc31\uc5d0 \ucf5c\ubc31\uc5d0 \ucf5c\ubc31\uc744 \ub354\ud574\uc11c \uc5b4\uba38 \uae5c\uc9dd\uc774\uc57c~~* \ud558\ub294 \uc0c1\ud669\uc774 \ucf5c\ubc31 \uc9c0\uc625\uc774\ub2e4.\\n\\n\uc5e5? \ucf5c\ubc31 \uc9c0\uc625\uc744 \uc5b4\ub5bb\uac8c \ubc97\uc5b4\ub0a8?\\n:::info\\n\ucf5c\ubc31 \uc9c0\uc625\uc5d0\uc11c \ubc97\uc5b4\ub098\ub294 \ubc29\ubc95:\\n[Callback hell](http://callbackhell.com/) \\n:::\\n\\n### Promise (\ud83e\udd19)\\n\uc704\uc640 \uac19\uc774 **Callback Hell** \uc744 \ubc97\uc5b4\ub098\uae30 \uc704\ud574\uc11c ES6\uc5d0\uc11c \ub098\uc628 \ubb38\ubc95\uc774 `Promise`\ub2e4.\\n\\n> \ud504\ub85c\ubbf8\uc2a4\ub294 \uc5b4\ub290 \uc2dc\uc810\uc5d0 \ube44\ub3d9\uae30 \uc791\uc5c5\uc758 \ucd5c\uc885 \uc644\ub8cc \ud639\uc740 \uc2e4\ud328\uc5d0\ub300\ud55c \uacb0\uacfc\uac12\uc744 \ub098\ud0c0\ub0b8\ub2e4.\\n\\n#### \ud504\ub85c\ubbf8\uc2a4 \ubb38\ubc95\\n\ud504\ub85c\ubbf8\uc2a4 \uac1d\uccb4\ub294 `callback`\uc744 \ubc1b\ub294 \uc0dd\uc131\uc790\ub97c \ud1b5\ud574 \uc0ac\uc6a9\uac00\ub2a5\ud558\uba70 \ud30c\ub77c\ubbf8\ud130\ub85c\ub294 `resolve` \uc640 `reject`\ub97c \uc0ac\uc6a9\ud55c\ub2e4.\\n\\n```js\\nnew Promise((resolve, reject)=>{})\\n```\\n<BrowserWindow>\\n\\nPromise   \\n[[PromiseState]]: \'pending\'  \\n[[PromiseResult]]: undefiend\\n</BrowserWindow>\\n\\n\uc704\ub97c \ucf58\uc194\ucc3d\uc5d0 \uc2e4\ud589\ud558\uba74 `PromiseState`\uc640 `PromiseResult` \uac12\uc744 \ubc18\ud658\ud55c\ub2e4.\\n\\n`PromiseState`\ub294 `pending`\uc774\uace0, `PromiseResult`\ub294 `undefiend` \uac12\uc744 \uac16\uace0 \uc788\ub2e4.\\n`PromiseState`\uc640 `PromiseResult`\ub97c \ud1b5\ud574 \ubb34\uc5b8\uac00\ub97c \ud558\uc9c0 \uc54a\ub294\ub2e4.\\n\ud558\uc9c0\ub9cc `Promise`\uac00 \uc5b4\ub5a4 \uc0c1\ud0dc\ub97c \uac12\uc744 \uac16\uace0 \uadf8 \uc0c1\ud0dc \uac12\uc758 \uc758\ubbf8\ub294 \uc54c\uc544\uc57c \ud55c\ub2e4.\\n\\n#### \ud504\ub85c\ubbf8\uc2a4\uc758 \uc0c1\ud0dc\\n\\n\ud504\ub85c\ubbf8\uc2a4\uc758 \uc0c1\ud0dc\ub294 `pending`, `fulfilled`, `rejected`\ub97c \uac16\uace0 \uc788\ub2e4.\\n\\n* \u23f3`pending`: Promise\ub294 \ud574\uacb0(fulfilled) \ud639\uc740 \uc2e4\ud328(rejected)\ub418\uc9c0\ub3c4 \uc54a\uace0 \ub300\uae30\uc911\uc778 \uc0c1\ud0dc\\n* \u2714`fullfilled`: Promise\uac00 \ud574\uacb0(resolve)\ub41c \uc0c1\ud0dc\\n* \u2716 `rejected`: \uc5b4\ub5a4 \uc774\uc720\ub85c Promise\uac00 \uc2e4\ud328(rejected)\ud55c \uc0c1\ud0dc\\n\\n```js\\nnew Promise((resolve, reject)=>{\\n  if(true) {\\n    resolve(\\"\uc131\uacf5\\")\\n  } else {\\n    reject(\\"\uc2e4\ud328\\")\\n  }\\n})\\n\\n```\\n\\n\uc704 \ucf54\ub4dc\ub97c \uc2e4\ud589\ud574\ubcf4\uba74 \uc544\ub798\uc640 \uac19\uc740 \uac12\uc744 \ubcfc \uc218 \uc788\ub2e4.\\n<BrowserWindow>\\n\\nPromise   \\n[[PromiseState]]: \\"fulfilled\\"  \\n[[PromiseResult]]: \\"\uc131\uacf5\\"\\n</BrowserWindow>\\n\\n\\n\\n#### \ud504\ub85c\ubbf8\uc2a4\ub85c \ucf5c\ubc31\uc9c0\uc625\uc744 \ubc97\uc5b4\ub098\uc790.\\n\\n* \ud504\ub85c\ubbf8\uc2a4\uc758 \uc0c1\ud0dc\ub294 `pending`, `fullfilled`, `rejected`\ub97c \uac16\uc74c\\n* `resolve`, `reject`\\n* `then`, `cacth`, `finally`\\n* \uc0ac\uc2e4 callback queue \uc5d0\ub294 \ub450\uac00\uc9c0 task queue\uac00 \uc874\uc7ac\ud568 \\n  * microtask queue\\n    * promise, process.nextTick, queueMicrotask\\n  * macrotask queue\\n    * setTimeout, setInterval, setImmediate\\n  * \uc6b0\uc120\uc21c\uc704\ub294 \ub9c8\uc774\ud06c\ub85c\ud0dc\uc2a4\ud06c \ud050\uac00 \ub354 \ub192\uc74c\\n* ES6\uc5d0\uc11c \ub450\ub450\ub4f1\uc7a5\\n\\n#### \ud504\ub85c\ubbf8\uc2a4\uc758 \uc6b0\uc120\uc21c\uc704\\n\\n```js\\nconsole.log(\'first log\')\\n\\nsetTimeout(()=>{console.log(\\"timeout log\\")},0)\\n\\nPromise.resolve(\\"Promist log\\").then((res)=>console.log(res))\\n\\nconsole.log(\'final log\')\\n\\n```\\n\uc704\uc5d0 \uc2e4\ud589 \uacb0\uacfc\ub294 \uc5b4\ub5bb\uac8c \ub420\uae4c?\\n<BrowserWindow>\\n\\nfirst log  \\nfinal log  \\nPromist log  \\ntimeout log  \\n\\n</BrowserWindow>\\n\\n\\n### async / await\\n\\n* ES7\uc5d0 \ub450\ub450\ub4f1\uc7a5 ( Promise\ub294 ES6\uc5d0\uc11c \ub4f1\uc7a5\ud568)\\n* \uc0ac\uc6a9\ubc95\uc740 `async`\ub294 function \uc55e\ud398 `await`\uc740 `promise`\ub97c \ub9ac\ud134\ubc1b\uc544\uc57c\ud568!\\n* `async`\ub294 \ud504\ub85c\ubbf8\uc2a4\ub97c \ub9ac\ud134\ud568\\n\\n### \uc81c\ub108\ub808\uc774\ud130 \\n\\n## \uacb0\ub860\\nJavascript\uc5d0\uc11c \ube44\ub3d9\uae30\uc5d0 \uad00\ub828\ud574\uc11c \uae4a\uace0 \ub354 \uae4a\uc774 \uc124\uba85\ud558\uae30 \uc704\ud574\uc11c\ub294 \ub9ce\uc740 \uacf5\ubd80\uac00 \ud544\uc694\ud558\ub2e4. \uc0ac\uc2e4 \uba74\uc811\uad00\ub2d8\ub3c4 \ub098\uc5d0\uac8c \ub3c4\uc6c0\uc744 \uc8fc\uace0\uc790 \ud78c\ud2b8\ub97c\\n\ub9ce\uc774 \ub358\uc838\uc8fc\uc168\uc9c0\ub9cc \ud78c\ud2b8\ub97c \ubc29\uc5b4 \ucf54\ub4dc\ub85c \uac70\ubd80\ud588\ub2e4. \uadf8 \uc774\uc720\ub85c\ub294 \ub0b4\uac00 \uacfc\uc815\ubcf4\ub2e4\ub294 \uacb0\uacfc\uc5d0\ub9cc \uae09\uae09\ud574\uc11c \ucf54\ub529\uc744 \ud558\uae30 \ub584\ubb38\uc778\uac70 \uac19\ub2e4.\\n\\n\uadf8\ub9ac\uace0 \ube44\ub3d9\uae30 \uad00\ub828\ud574\uc11c\ub294 \ubaa8\ub4e0 \ub0b4\uc6a9\uc744 \uc644\uc131\ud558\uace0 \uc2f6\uc9c0\ub9cc `Promise`, `async/ await`, `\uc81c\ub108\ub808\uc774\ud130`\ub294  \uc0ac\uc6a9\ud574 \ubcf4\uace0, \\n\ub300\ucda9 \uc54c\uc9c0\ub9cc \uae00\ub85c \uc815\ub9ac\ud558\uae30 \uc704\ud574\uc11c\ub294 \uc2a4\uc2a4\ub85c \uc544\ub294 \uac1c\ub150\uc744 \ud655\uc778\ub3c4 \ud558\uace0, \ubd80\uc871\ud55c \ub0b4\uc6a9\uc744 \ucc44\uc6b0\uace0, \uc544\ub294 \ub0b4\uc6a9\uc740 \uc11c\ub85c \uc5f0\uacb0\ud558\ub294 \uacfc\uc815\uc774 \ud544\uc694\ud558\ub2e4.\\n\uadf8\ub798\uc11c \ucd94\ud6c4\uc5d0 \uc791\uc131\uc744 \ud558\ub824\uace0 \ud55c\ub2e4.\\n\\n\uadf8\uac74 \uadf8\ub807\uace0 \uba74\uc811 \ub54c \ubc1b\uc740 \uc9c8\ubb38\uc744 \ub2e4\uc2dc \uac01\uc0c9\ud574\ubcf4\uc790.\\n\\n---\\n\\nQ. js\uc5d0\uc11c \ube44\ub3d9\uae30 \ub300\ud574 \uc124\uba85\ud574\uc8fc\uc138\uc694\\n\\nA. \ub124? \ube44\ub3d9\uae30\uc694? \ube44\ub3d9\uae30\uac00 \uc5b4\ub5bb\uac8c \uc774\ub8e8\uc5b4\uc9c0\ub294 \uc9c0\ub97c \ub9d0\uc500\ud788\uc2dc\ub294\uac74\uac00\uc694?\\n\\nQ. \ub124 \ubb50\ub4e0\uc694.\\n\\nA. \ub124. JS\ub294 \uc2f1\uae00 \uc2a4\ub808\ub4dc\ub97c \ud2b9\uc9d5\uc73c\ub85c \uac16\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc2f1\uae00 \uc2a4\ub808\ub4dc\ub294 \ud55c\ubc88\uc5d0 \ud558\ub098\uc758 \ucc98\ub9ac \ubc16\uc5d0 \ubabb\ud558\ubbc0\ub85c JS\uc5d0\uc11c \ube44\ub3d9\uae30\ub97c \uc774\ud574\ud558\uae30 \uc704\ud574\uc11c\ub294 \uba3c\uc800 \\nJS \uc5d4\uc9c4(V8)\uacfc \ube0c\ub77c\uc6b0\uc800\uc758 WebAPI\uc5d0 \ub300\ud574\uc11c \uc774\ud574\uc57c\ud569\ub2c8\ub2e4. JS\uc5d4\uc9c4\uc5d0\ub294 \uba54\ubaa8\ub9ac\uac00 \ud560\ub2f9\ub418\ub294 `heap` \uc601\uc5ed\uacfc `Call Stack`\uc774 \uc874\uc7ac\ud558\uace0 \ud638\ucd9c \ub41c \ud568\uc218\ub294 \\n`Call Stack`\uc601\uc5ed\uc5d0\uc11c \ucc98\ub9ac\ud569\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \ube44\ub3d9\uae30 \ucc98\ub9ac `DOM EVENT`, `AJAX`, `Timer` \ub4f1 \ube0c\ub77c\uc6b0\uc800\uc758 WebAPI\uc5d0\uc11c \uc2e4\ud589\ub429\ub2c8\ub2e4. WebAPI\uc5d0\uc11c \uc2e4\ud589\uc774\\n\ub05d\ub09c \ud6c4 \ube0c\ub77c\uc6b0\uc800\uc758 `callback queue`\uc5d0\uc11c \ub300\uae30 \ud558\uace0, `Event Loop`\ub294 `Call Stack`\uc774 \ube44\uc5b4\uc788\uc73c\uba74 `callback queue`\uc5d0\uc11c \ub300\uae30\uc911\uc778 \ucf5c\ubc31 \ud568\uc218\ub97c\\n`Call Stack`\uc5d0 \ud478\uc26c\ud558\uace0 JS \uc5d4\uc9c4\uc740 \ucf5c\ubc31\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.\ud83d\ude0e\\n\\nQ. \ucf5c\ubc31\uc774\ub098 \ucf5c\ubc31 \uc9c0\uc625\uc740 \uc544\uc2dc\ub098\uc694?(\ud83d\ude12)\\n\\nA. \ub124. \ucf5c\ubc31 \uc790\uccb4\uc758 \uc758\ubbf8\ub294 \ub2e8\uc21c\ud788 \uc989\uc2dc \uc2e4\ud589\ud558\ub294\uac8c \uc544\ub2cc \ubbf8\ub798\uc5d0 \uc2e4\ud589\ub418\ub294 \uc758\ubbf8\ub85c \uc544\uae4c \uc124\uba85\ud55c\ub300\ub85c \ube44\ub3d9\uae30 \ucc98\ub9ac\uac00 \ub05d\ub09c \ud6c4, \uc2e4\ud589\ub418\ub294 \ud568\uc218\ub97c \ucf5c\ubc31\uc774\ub77c\uace0 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\uadf8\ub9ac\uace0 \ucf5c\ubc31 \uc9c0\uc625\uc740 \ucf5c\ubc31\uc5d0 \ucf5c\ubc31\uc774 \uc774\ub8e8\uc5b4\uc838\uc11c \ud53c\ub77c\ubbf8\ub4dc \uad6c\uc870\ub97c \uac16\uac8c\ub418\uc5b4 \ud574\ub2f9 \ucf54\ub4dc\uc5d0 \ub300\ud574 \uc9c1\uad00\uc131\uc774 \ub5a8\uc5b4\uc9c0\uace0, \uc720\uc9c0 \ubcf4\uc218\uac00 \uc5b4\ub835\uac8c \ub418\uc5b4 \uc0dd\uc0b0\uc131\uc744 \ub5a8\uc5b4\ud2b8\ub9bd\ub2c8\ub2e4. \\n\ucf5c\ubc31 \uc9c0\uc625\uc744 \ud68c\ud53c\ud558\uae30 \uc704\ud55c \ubc29\ubc95\uc73c\ub85c \ucf54\ub4dc\ub97c \uc595\uac8c \uc720\uc9c0, \ubaa8\ub4c8\ud654\ub97c \ud1b5\ud55c \ubc29\ubc95\uc774 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c, ES6\uc5d0\uc11c\ub294 `promise`\ub97c \uc0ac\uc6a9\ud574\uc11c Chain \uad6c\uc870\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud68c\ud53c \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\ud83d\ude0e\\n\\nQ. \uac1c\ubc1c\ud558\uc2dc\uba74\uc11c \ucf5c\ubc31 \uc9c0\uc625\uc744 \uacbd\ud5d8\ud574\ubcf8\uc801\uc740?\\n\\nA. \uc81c\uac00 \uacbd\ud5d8\ud55c \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \ud734\ub300\ud3f0\uc73c\ub85c \uc0ac\uc9c4\uc744 \ucc0d\uace0, \ud574\ub2f9 \uc0ac\uc9c4\uc744 `Crop` \ud558\uc5ec \uac24\ub7ec\ub9ac\uc5d0 \uc800\uc7a5\ud558\uace0, \uadf8 \uc800\uc7a5\ud55c \uc774\ubbf8\uc9c0\ub97c \uc11c\ubc84\uc5d0 \uc804\uc1a1\ud558\ub294 \ud504\ub85c\uc138\uc2a4\uac00 \uc788\uc5c8\uc2b5\ub2c8\ub2e4.\\n\ub2f9\uc2dc\uc5d0\ub294 `Promise`\ub97c \uc0ac\uc6a9\ud558\uc5ec \ucc98\ub9ac\ub97c \ud588\ub358 \uae30\uc5b5\uc774 \uc788\uc2b5\ub2c8\ub2e4.\ud83d\ude0e\\n\\nQ. \ud83d\ude32\\n\\n---\\n\\n\uc774\ub77c\ub294 \uc2dc\ub098\ub9ac\uc624\ub97c \uc4f0\uba74\uc11c \uae00\uc744 \ub9c8\ubb34\ub9ac\ud55c\ub2e4.\\n\\n\ucc38\uc870\\n> [Callback Hell](http://callbackhell.com/)  \\n> [Introducing asynchronous JavaScript](https://developer.mozilla.org/ko/docs/Learn/JavaScript/Asynchronous/Introducing#%EC%BD%9C%EB%B0%B1)  \\n> [What the heck is the event loop anyway?](https://www.youtube.com/watch?v=8aGhZQkoFbQ)  \\n> [javascript-visualized-event-loop-3dif](https://dev.to/lydiahallie/javascript-visualized-event-loop-3dif)  \\n>"},{"id":"react-batch","metadata":{"permalink":"/blog/react-batch","source":"@site/blog/2022-11-30-React/index.md","title":"React Batch?","description":"\ub3c4\uc785","date":"2022-11-30T00:00:00.000Z","tags":[{"inline":true,"label":"batch","permalink":"/blog/tags/batch"},{"inline":true,"label":"react","permalink":"/blog/tags/react"},{"inline":true,"label":"\uae30\uc220\uba74\uc811","permalink":"/blog/tags/\uae30\uc220\uba74\uc811"}],"readingTime":6.545,"hasTruncateMarker":true,"authors":[{"name":"Fenrir","title":"\ubc14\ubcf4\uc5d0\uc11c \ubc97\uc5b4\ub098\uae38 \ud76c\ub9dd\ud558\ub294 \uc790","url":"https://github.com/FenrirD","imageURL":"https://github.com/fenrirD.png","key":"fenrir"}],"frontMatter":{"slug":"react-batch","title":"React Batch?","authors":["fenrir"],"tags":["batch","react","\uae30\uc220\uba74\uc811"]},"unlisted":false,"prevItem":{"title":"js \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d","permalink":"/blog/js-asynchronous"}},"content":"## \ub3c4\uc785\\n---\\n\\nQ. React\ub85c \uac1c\ubc1c\uc744 \ud558\uc168\ub294\ub370 \ud55c \ud568\uc218(Event Handler) \ub0b4\uc5d0\uc11c \uac19\uc740 \uc0c1\ud0dc\ub97c 2\ubc88 \ubcc0\uacbd\ud558\uba74 \uc5b4\ub5bb\uac8c \ub418\ub098\uc694? \uadf8\ub9ac\uace0 \ub79c\ub354\ub9c1\uc740 \uba87\ubc88 \uc774\ub8e8\uc5b4 \uc9c0\ub098\uc694?\\n\\nA. \uc74c..? (\uc65c \ub611\uac19\uc740 \uc0c1\ud0dc\ub97c 2\ubc88 \ubc14\uafb8\uc9c0? \uc758\ubbf8\uac00 \uc788\ub098?) \uc5b4.. \uc77c\ub2e8 \ub9c8\uc9c0\ub9c9\uc5d0 \ubcc0\uacbd\ub41c \uac12\uc73c\ub85c \uc0c1\ud0dc\uac00 \ubcc0\ud569\ub2c8\ub2e4. \ub79c\ub354\ub9c1\uc740 1\ubc88 \uc774\ub8e8\uc5b4 \uc9c8\uac70\ub77c\uace0 \uc0dd\uac01\ud569\ub2c8\ub2e4.\\n\\nQ. \uc65c\uc694?  \\n\\nA. \uc5b4... \uadf8\ub7ec\ub2c8\uae4c.. \uc74c \ud55c\ubc88\ub3c4 \uac19\uc740 \uc0c1\ud0dc\ub97c \uc5f0\uc18d\uc73c\ub85c \ubc14\uafbc\uc801\uc774... \uc544\ub9c8 \uc9c0\uc5f0?\\n\\nQ. \uc544.. \ub124\\n\\n---\\n\\n\\n\uc704 Q&A\ub294 \ub0b4\uac00 \uba74\uc811 \ub54c \uc9c8\ubb38\uc744 \ub4e3\uace0 \ub300\ub2f5\ud55c \ub0b4\uc6a9\uc774\ub2e4.  \\n\ub0b4\uac00 FE \uac1c\ubc1c\uc790\ub85c React\ub97c \uacf5\ubd80\ud588\ub2e4\uace0 \ud558\uba74\uc11c \uc774\ub7f0 \uc9c8\ubb38\uc5d0 \ub2e4\uc2dc\ub294 \uc5bc\ubc84\ubb34\ub9ac\uc9c0 \uc54a\uae30 \uc704\ud574 \uc815\ub9ac\ud558\uace0\uc790 \ud55c\ub2e4.\\n\\n\x3c!--truncate--\x3e\\n\\n> State \uc5c5\ub370\uc774\ud2b8\ub294 **\ube44\ub3d9\uae30\uc801**\uc77c \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.  \\nReact\ub294 \uc131\ub2a5\uc744 \uc704\ud574 \uc5ec\ub7ec setState() \ud638\ucd9c\uc744 \ub2e8\uc77c \uc5c5\ub370\uc774\ud2b8\ub85c \ud55c\uaebc\ubc88\uc5d0 \ucc98\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n## Batch?\\n\\nBatch\ub780? React\uac00 \ub354 \ub098\uc740 \uc131\ub2a5\uc744 \uc704\ud574 *\uc5ec\ub7ec \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8\ub97c \ub2e8\uc77c \uc7ac\ub79c\ub354\ub9c1\uc73c\ub85c \uadf8\ub8f9\ud654* \ud558\ub294 \uacbd\uc6b0\uc774\ub2e4.\\n\uc27d\uac8c \uc0dd\uac01\ud574\uc11c \ub2e4\uc774\uc18c\uc5d0\uc11c \ubb3c\uac74 10\uac1c\ub97c \uc0b4 \ub54c, \ubaa8\ub4e0 \ubb3c\uac74\uc758 \uac12\uc744 \uc9c0\ubd88\ud558\ub294\uac8c \uc544\ub2cc \ubb3c\uac74 \uac01\uac01 \uacc4\uc0b0\uc744 \ud574\uc11c \uc601\uc218\uc99d\uc744 10\uac1c\ub97c \ubc1b\uac8c \ub41c\ub2e4\uba74 \uc5bc\ub9c8\ub098 \ube44\ud6a8\uc728\uc801\uc778\uc9c0 \uc0dd\uac01\ud558\uba74 \uc27d\ub2e4.\\n\uadf8\ub798\uc11c React \ub3c4 \uc0c1\ud0dc\uac00 \ubcc0\uacbd \ub420 \ub54c\ub9c8\ub2e4 DOM\uc744 \ub2e4\uc2dc \uadf8\ub9ac\ub294\uac8c \uc544\ub2cc \ubcc0\uacbd\ub41c \uc0c1\ud0dc\ub97c \ud55c\ubc88\uc5d0 DOM\uc5d0 \ubc18\uc601\ud558\ub294 \uac83\uc774\ub2e4.\\n\\n```jsx live\\n\\nfunction Counter() {\\n  const [count, setCount] = useState(0);\\n  const [renderCount, setRenderCount] = useState(0);\\n  \\n  useEffect(()=>setRenderCount(c=>c+1),[count])\\n  \\n  const click =() =>{\\n    setCount(c=>c+1);\\n    setCount(c=>c+1);\\n    setCount(c=>c+1);\\n  }\\n  \\n  return (\\n    <div>\\n      <h2>{count}</h2>\\n      <button onClick={click}>Add</button>\\n      <h2>render Counter: {renderCount}</h2>\\n    </div>\\n  );\\n}\\n\\n```\\n\\n`add` \ubc84\ud2bc\uc744 \ub204\ub974\uba74 `count`\ub294 3\uc774 \uc99d\uac00\ud558\uace0 `renderCount`\ub294 1\uc99d\uac00\ud55c\ub2e4. \uc989 \uc0c1\ud0dc\ub294 3\ubc88\uc758 \ubcc0\uacbd\uc774 \uc788\uc5c8\uc9c0\ub9cc \uc2e4\uc81c DOM\uc5d0 \ubc18\uc601\ub41c \ud69f\uc218\ub294 1\ubc88\uc774\uace0 React\ub294 \uc0c1\ud0dc\ub97c \uc77c\uad04 \uc801\uc73c\ub85c \ucc98\ub9ac\ud55c\ub2e4\ub294\uac78 \uc54c\uc218 \uc788\ub2e4.\\n\uc77c\uad04 \ucc98\ub9ac\ub294 React\uc758 `Transation` \uac1d\uccb4\ub97c \ud1b5\ud574 \uc774\ub8e8\uc5b4 \uc9c4\ub2e4. \ub0b4\uac00 \uc774\ud574\ud55c \ubc14\ub85c\ub294 \uc0c1\ud0dc\ubcc0\uacbd\uc740 \ucef4\ud3ec\ub10c\ud2b8\uc758 \ubaa8\ub4e0 \uc791\uc5c5\uc774 \ub05d\ub09c \ub4a4\uc5d0 \ubc1c\uc0dd\uc744 \ud558\uae30 \uc704\ud574\uc11c \ud050(queue)\uc5d0 \ub4f1\ub85d\ud6c4 \uc77c\uad04 \ucc98\ub9ac \ud55c\ub2e4\ub294 \uac83\uc774\ub2e4.    \\n\\n:::tip\\nTransation \uac1d\uccb4\uc5d0 \ub300\ud574\uc11c\ub294 \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \uc544\ub798 \uae00\uc744 \ucc38\uc870.  \\n[Naver D2- React\uc758 \uc791\ub3d9 \ubc29\ubc95](https://d2.naver.com/helloworld/9297403#ch1-3)\\n:::\\n\\n\uadf8\ub807\ub2e4\uace0 \ubaa8\ub4e0 \uc0c1\ud0dc \ubcc0\uacbd\uc5d0 \ub300\ud55c \ucc98\ub9ac\uac00 \uc77c\uad04\ucc98\ub9ac \ub418\ub294\uac83\uc740 \uc544\ub2c8\ub2e4.  \\n\\n```jsx live\\n\\nfunction Counter() {\\n  const [count, setCount] = useState(0);\\n  const [renderCount, setRenderCount] = useState(0);\\n  \\n  useEffect(()=>setRenderCount(c=>c+1),[count])\\n  \\n  const click = () => {\\n    setTimeout(()=>{\\n      setCount(c=>c+1)\\n      setCount(c=>c+1);\\n      setCount(c=>c+1);\\n    }, 0);\\n    \\n  }\\n  \\n  return (\\n    <div>\\n      <h2>{count}</h2>\\n      <button onClick={click}>Add</button>\\n      <h2>render Counter: {renderCount}</h2>\\n    </div>\\n  );\\n}\\n\\n```\\n\\n\uc704 \ucf54\ub4dc\ub97c \uc2e4\ud589\ud558\uba74 `renderCount`\uac00 `setCount` \ud69f\uc218\ub9cc\ud07c \uc99d\uac00\ud55c\ub2e4.  \\n\uc989 Batch\ub294 `Promise`, `setTimeout`, `native Event Handler` \ub4f1\uc740 \uc77c\uad04 \ucc98\ub9ac \ub418\uc9c0 \uc54a\ub294\ub2e4.\\n\\n### Automatic Batch\\n:::info\\nReact 18 \ubc84\uc804 \ubd80\ud130\ub294 `Automatic Batch` \uc744 \uc9c0\uc6d0\ud55c\ub2e4.  \\n[\uacf5\uc2dd \ubb38\uc11c - Automatizc Batch](https://ko.reactjs.org/blog/2022/03/29/react-v18.html#new-feature-automatic-batching)\\n:::\\n\\n\uc774 \uae00\uc5d0 React 18\ubc84\uc804\uc758 Auto Batch\uac00 \uc5b4\ub5bb\uac8c \uc774\ub8e8\uc5b4\uc9c0\ub294\uc9c0 \ucf54\ub4dc \ube14\ub7ed\uc744 \ud1b5\ud574 \uc791\uc131\ud558\uace0 \uc2f6\uc9c0\ub9cc \ud604\uc7ac Docusaurus\uc758 \ubc84\uc804\uc774 17\ubc84\uc804\uc774\ubbc0\ub85c 18\ubc84\uc804\uc73c\ub85c \uc791\uc131\ub41c [React18 -Automatic Batch \uc608\uc81c](https://codesandbox.io/s/great-babycat-p98g6x)\\n\uc704 \uc0cc\ub4dc\ubc15\uc2a4\uc5d0\uc11c `add` \ubc84\ud2bc\uc744 \ub204\ub974\uba74 17\ubc84\uc804\uacfc \ub2e4\ub974\uac8c `renderCounter`\uac00 1\ubc88\ub9cc \uc99d\uac00 \ud558\ub294\uac70\ub97c \uc54c\uc218 \uc788\ub2e4.\\n\\n### Batch \ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc73c\ub824\uba74?\\n\\nbatch\ub97c \uc6d0\ud558\uc9c0 \uc54a\uc744 \ub54c\uac00 \uc788\ub2e4. \uadf8\ub7f0 \uacbd\uc6b0\uac00 \ubb50\uac00 \uc788\uc744\uae4c? \uc74c.. \uc0dd\uac01\uc774 \uc548\ub09c\ub2e4. \uc544\ubb34\ud2bc \uc608\uc81c \ucf54\ub4dc\ub294 \uc791\uc131\ud574\ubcf8\ub2e4.\\n\\n```jsx\\nimport { flushSync } from \'react-dom\';\\n\\nfunction Counter() {\\n  const [count, setCount] = useState(0);\\n  const [renderCount, setRenderCount] = useState(0);\\n  \\n  useEffect(()=>setRenderCount(c=>c+1),[count])\\n  \\n  const click = () => {\\n    flushSync(()=>setCount(c=>c+1))\\n    flushSync(()=>setCount(c=>c+1))\\n  }\\n  \\n  return (\\n    <div>\\n      <h2>{count}</h2>\\n      <button onClick={click}>Add</button>\\n      <h2>render Counter: {renderCount}</h2>\\n    </div>\\n  );\\n}\\n\\n```\\n[flushSync\ub97c \uc0ac\uc6a9\ud574\uc11c Automatic Batch \ube44\ud65c\uc131\ud654](https://codesandbox.io/s/summer-sun-w1kqsp?file=/src/App.js)\\n:::info\\n`flushSync`\ub294 react 18 \ubd80\ud130\\n:::\\n\\n## \uacb0\ub860\\n\uacf5\ubd80\ud55c \ub0b4\uc6a9\uc744 \ubc14\ud0d5\uc73c\ub85c Q&A\ub97c \ub2e4\uc2dc \ud574\ubcf8\ub2e4\uba74 \uc544\ub9c8 \uc774\ub807\uac8c \ub2f5\uc744 \ud560\uac70\uac19\ub2e4.\\n\\n---\\nQ. React\ub85c \uac1c\ubc1c\uc744 \ud558\uc168\ub294\ub370 \ud55c \ud568\uc218(Event Handler)\ub0b4\uc5d0\uc11c \uac19\uc740 \uc0c1\ud0dc\ub97c 2\ubc88 \ubcc0\uacbd\ud558\uba74 \uc5b4\ub5bb\uac8c \ub418\ub098\uc694? \uadf8\ub9ac\uace0 \ub79c\ub354\ub9c1\uc740 \uba87\ubc88 \uc774\ub8e8\uc5b4 \uc9c0\ub098\uc694?\\n\\nA. (\uc790\uc2e0\uac10 \uc788\uac8c) \ub124. \uac19\uc740 \uc0c1\ud0dc\ub97c 2\ubc88 \ubcc0\uacbd\ud574\ub3c4 React\uc758 `Batch` \ub85c \uc778\ud574 \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8\ub97c \uc77c\uad04 \ucc98\ub9ac\ud558\uae30 \ub54c\ubb38\uc5d0 \uc0c1\ud0dc\ub294 2\ubc88 \ubcc0\uacbd\ub418\uc9c0\ub9cc \ub79c\ub354\ub9c1 \uc790\uccb4\ub294 1\ubc88\ub9cc \ub429\ub2c8\ub2e4.\\n\\nQ. \uc77c\uad04 \ucc98\ub9ac \ub41c\ub2e4\uace0\uc694? \uadf8\ub7ec\uba74 \ube44\ub3d9\uae30\uc694\uccad\uc740\uc694?\\n\\nA. \ub124. \ube44\ub3d9\uae30 \uc694\uccad\uc758 \uacbd\uc6b0\uc5d0\ub294 \ud604\uc7ac \uc0ac\uc6a9\ud558\ub294 *React Version*\uc5d0 \ub530\ub77c\uc11c \ub2ec\ub77c\uc9d1\ub2c8\ub2e4. 18\ubc84\uc804 \uc774\uc804\uc758 \uacbd\uc6b0\uc5d0\ub294 \ube44\ub3d9\uae30 \uc694\uccad\uc758 \ucf5c\ubc31 \ud568\uc218\uc5d0 \uc0c1\ud0dc \ubcc0\uacbd\uc774 \uc788\ub294 \ud69f\uc218\ub9cc\ud07c \ub79c\ub354\ub9c1 \ub429\ub2c8\ub2e4. \ud558\uc9c0\ub9cc 18 \ubc84\uc804\uc5d0\ub294 Automatic Batch\uac00 \ucd94\uac00 \ub418\uba74\uc11c\\n\ube44\ub3d9\uae30 \uc694\uccad\uc758 \ucf5c\ubc31\uc5d0 \uc0c1\ud0dc \ubcc0\ud654\uac00 \uba87\ubc88\uc774 \ubc1c\uc0dd\ud574\ub3c4 \uc77c\uad04 \ucc98\ub9ac \ub300\uae30 \ub54c\ubb38\uc5d0 \ub79c\ub354\ub9c1\uc740 1\ud68c\ub9cc \ubc1c\uc0dd\ud569\ub2c8\ub2e4. \ub610\ud55c 18\ubc84\uc804\uc5d0\uc11c \uc790\ub3d9\uc73c\ub85c \uc77c\uad04\ucc98\ub9ac \ub418\ub294\uac83\uc744 \ub9c9\uae30\uc704\ud574 `flushSync`\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\\n\\nQ. \uc624\ud638. \ud569\uaca9!\\n\\n---\\n\\n\uc774\ub77c\ub294 \uc2dc\ub098\ub9ac\uc624\ub97c \uc4f0\uba74\uc11c \uae00\uc744 \ub9c8\ubb34\ub9ac\ud55c\ub2e4.\\n\\n\ucc38\uc870\\n> [React 18 Automatic Batch](https://github.com/reactwg/react-18/discussions/21)  \\n> [Naver D2 \uae30\uc220 \ube14\ub85c\uadf8](https://d2.naver.com/helloworld/9297403#ch2)"}]}}')}}]);