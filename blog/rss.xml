<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Fenrir  Blog</title>
        <link>https://fenrirD.github.io/blog</link>
        <description>Fenrir  Blog</description>
        <lastBuildDate>Fri, 17 Jan 2025 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>ko</language>
        <item>
            <title><![CDATA[24년을 돌아보며...]]></title>
            <link>https://fenrirD.github.io/blog/24th-Retrospect</link>
            <guid>https://fenrirD.github.io/blog/24th-Retrospect</guid>
            <pubDate>Fri, 17 Jan 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[도입]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="도입">도입<a class="hash-link" aria-label="도입에 대한 직접 링크" title="도입에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#%EB%8F%84%EC%9E%85">​</a></h2>
<p>24년 시작과 동시에 나는 새롭게 시작하는 프로젝트에서 프론트엔드 리드 개발자 역할을 수행하게 되었다.</p>
<p>그리고 늘 그렇듯 프로젝트가 마무리 되어가는 시점에서 24년에 대해 회고를 해보자고 한다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="본론">본론<a class="hash-link" aria-label="본론에 대한 직접 링크" title="본론에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#%EB%B3%B8%EB%A1%A0">​</a></h2>
<p>내가 24년에 한 업무를 나열해보면 아래와 같다.</p>
<ul>
<li>MSP Portal 프론트엔드 리드 개발</li>
<li>MSP Portal 프론트엔드 개발, 운영 서버 구성</li>
<li>MSP Portal CI/CD 구성 및 작성</li>
<li>ChatbotUI 설치 및 스터디</li>
</ul>
<blockquote>
<p>이슈리포터 트러블슈팅을 살짝 곁들인~</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="프론트엔드-리드-개발">프론트엔드 리드 개발<a class="hash-link" aria-label="프론트엔드 리드 개발에 대한 직접 링크" title="프론트엔드 리드 개발에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EB%A6%AC%EB%93%9C-%EA%B0%9C%EB%B0%9C">​</a></h3>
<p>24년에는 나는 <strong>MSP Portal</strong> 프로젝트를 전담으로 수행했다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="프로젝트-배경">프로젝트 배경<a class="hash-link" aria-label="프로젝트 배경에 대한 직접 링크" title="프로젝트 배경에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%B0%B0%EA%B2%BD">​</a></h4>
<p>먼저 프로젝트를 설명 하면 프로젝트명은 <strong>MSP Portal</strong>로 현 회사에서 멀티 CSP 를 관리하고, CSP 비용과 CSP 관리 비용을 고객에게
청구하기 위해 손으로 작업하던 업무를 시스템화 시켜주는 프로젝트로 프로젝트의 목표는 기존에 사용하던 사이트를 이관하고 리뉴얼하며 새로운 기능 추가였다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="프론트엔드-아키텍처-설계">프론트엔드 아키텍처 설계<a class="hash-link" aria-label="프론트엔드 아키텍처 설계에 대한 직접 링크" title="프론트엔드 아키텍처 설계에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EC%84%A4%EA%B3%84">​</a></h4>
<p>처음 현 회사에 왔을 때 동일한 페이지에서 사용하는 동일한 패턴을 분석해서 공통 컴포넌트화 시켜서 팀원들에게 한번 사용해보라고 설득하고, 팀원들의 피드백을 받았을 때도 기분이 엄청 좋았는데
이번에는 내가 모든 기술 스택을 정하다니 ( 물론 팀원들과 상의 해서 정함) 그에 따른 책임도 있으니 적당히 신나고 적당히 부담스러웠다.</p>
<p>내가 프론트엔드 리드 개발자로서 가장 중요하게 생각한 점은 아래와 같다.</p>
<ol>
<li>통일성 있는 UI/UX</li>
<li>오픈소스 활용</li>
<li>코드 재사용성</li>
<li>유지보수를 고려한 개발</li>
</ol>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="일관적인-uiux">일관적인 UI/UX<a class="hash-link" aria-label="일관적인 UI/UX에 대한 직접 링크" title="일관적인 UI/UX에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#%EC%9D%BC%EA%B4%80%EC%A0%81%EC%9D%B8-uiux">​</a></h5>
<p>현 회사에서 UI 작업 방식은 기획자가 컨플루언스(이하 컨플)에 기능을 정의하고, 피그마에 UI 작업을 하면 개발자가 개발을 하는 방식이였고, 작업하는 개발자마다 조금씩 달라서 일관성 있는 UI가 아니였다.
그리고 사정상 디자인보다 개발이 먼저 진행되는 상황이여서 개발자들이 러프하게 개발을하고 기획자들이 후 기획을 해야하는 상황이 였다.
그래서 나는 Material Design 기반의 오픈소스인 MUI 사용하여 개발하자고, 팀원들과 기획자에게 MUI를 사용하여 공통적으로 사용하는
컴포넌트들의 개발의 다지인을 최소화하고, 후에 config 를 통해 커스텀(KB스러운)이 쉽다는 점을 강력하게 어필했고, 모두가 동의해서 사용할 수 있었다.</p>
<p>하지만 선택에는 책임이 따르고 나는 보다 원할한 협업을 위해 각 컴포넌트 샘플페이지를 제작해서 기획자, 팀원들에게 제공하는 방식으로 개발을 진행했다.</p>
<p><img decoding="async" loading="lazy" alt="대화내용" src="https://fenrird.github.io/assets/images/img-0dd4f6fd3c49c9ec3f88b2826520bd28.png" width="1512" height="1591" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="샘플페이지" src="https://fenrird.github.io/assets/images/img_1-10e1ddb69cc6f8da0c93a3936fbb4fd2.png" width="2550" height="1247" class="img_ev3q"></p>
<p>결과적으로는 모든 페이지에서 동일한 컴포넌트를 사용해서 화면 검수 후 수정 시간도 대폭으로 감소했다.</p>
<p><img decoding="async" loading="lazy" alt="샘플페이지" src="https://fenrird.github.io/assets/images/img_2-f8e8ebb7ca5d3391752402d61d379660.png" width="804" height="497" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p>기획자분들에게 동료 친찬 포인트를 받았다.!</p></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="오픈소스-활용">오픈소스 활용<a class="hash-link" aria-label="오픈소스 활용에 대한 직접 링크" title="오픈소스 활용에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#%EC%98%A4%ED%94%88%EC%86%8C%EC%8A%A4-%ED%99%9C%EC%9A%A9">​</a></h5>
<p>나는 기능을 구현하기전에 항상 전 직장 이사님이 하신 말씀을 떠올린다.</p>
<blockquote>
<p><strong>"하나하나 다 만들려고 하지말고, 이미 만들어진걸 가져와서 사용해라"</strong></p>
</blockquote>
<p>초기에는 이게 무슨 말씀이신지 이해를 못했고, 속으로 "아니 다 갖다 쓰면 개발자는 뭐 먹고 사나?" 라고 생각을 했다.
지금의 나는 오픈 소스를 활용해서 일반적인 기능은 오픈소스를 활용하고 커스텀이 필요한 부분을 커스텀하여 개발생산성을 높이라는(물론 돈을 안쓰고) 의미라고 생각한다.</p>
<p>그래서 이번 프로젝트에서도 기능정의를 보고 공통된 특징인 정보성 데이터를 표출하고 사용자와 상호작용하는 데이터, 그리고 게시판 에디터 기능을 구현하기 위해
오픈 소스 <code>x-data-grid</code>, <code>tinymce editor</code> 사용했다. (물론 오픈소스가 내가 원하는 기능을 다 제공하지는 않으니 약간의 커스텀을 곁들인)</p>
<p>결과적으로 우리 서비스에만 필요로 하는 기능을 커스텀하는 과정은 지옥이였지만 모두가 만족하는 오픈소스+커스텀 기능을 구현했다.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p>우리가 필요로하는 기능은 유료다.😂</p></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="코드-재사용성--유지보수를-고려한-개발">코드 재사용성 &amp; 유지보수를 고려한 개발<a class="hash-link" aria-label="코드 재사용성 &amp; 유지보수를 고려한 개발에 대한 직접 링크" title="코드 재사용성 &amp; 유지보수를 고려한 개발에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#%EC%BD%94%EB%93%9C-%EC%9E%AC%EC%82%AC%EC%9A%A9%EC%84%B1--%EC%9C%A0%EC%A7%80%EB%B3%B4%EC%88%98%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%9C-%EA%B0%9C%EB%B0%9C">​</a></h5>
<p>어떤 프로젝트를 하던 고민하는 부분이다. 코드를 재사용해서 유지보수를 더욱 쉽게하는걸 꿈꾼다. 그래서 나는 공통으로 사용하는 기능 및 컴포넌트들은
공통 컴포넌트로 설계를 한다.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├── common</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── AlertDialog</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── AuthButton</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── Board</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── Button</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── Card</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── CurrencyUnitLabel</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── CustomCodeBlock</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── Dialog</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── ErrorBoundary</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── Excel</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── GridDS</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── GridDSWrapper</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── HighlightText</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── Icon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── Invoice</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── MultiSelect</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── Notification</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── ScrollTop</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── SearchArea</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── Tab</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── TableOfContents</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│&nbsp;&nbsp; ├── Title</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">... 생략...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>하지만 공통 컴포넌트를 만들고 공유하는 과정에서 생각보다 특정 페이지에 의존하게되는 컴포넌트들이 나오곤 한다.
어떻게 하면 응집도와 결합도를 낮출까 고민하는 과정이 즐거우면서도 고통스럽다. 그리고 동료들의 피드백은 따갑다.</p>
<p>그래도 내가 만든 공통컴포넌가 긍정적인 피드백이 오면 그 기끔은 말로 할수 없다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="프론트엔드-개발-운영-서버-구성">프론트엔드 개발, 운영 서버 구성<a class="hash-link" aria-label="프론트엔드 개발, 운영 서버 구성에 대한 직접 링크" title="프론트엔드 개발, 운영 서버 구성에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%EA%B0%9C%EB%B0%9C-%EC%9A%B4%EC%98%81-%EC%84%9C%EB%B2%84-%EA%B5%AC%EC%84%B1">​</a></h3>
<p>우리 팀은 기존에는 백엔드 개발자가 개발,운영 서버를 구성 했지만 내가 입사하고 프론트엔드에 대한 환경은 내가 구성을 담당하게 되었다.
처음에는 쿠버네티스의 <code>apply</code>,<code>delete</code>만 할 줄 알던 내가 요즘에는 하나의 <code>pod</code>를 구성하기 위한 k8s manifest 파일들을 작성하고 관리한다.</p>
<p>그리고 특이한게 어느 순간 그 과정 마저 귀찮아서 helm으로 차트를 만들었다. 아직 전반적인 인프라 환경에는 약하지만 더 관심이 생기고 있다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="msp-portal-cicd-구성-및-작성">MSP Portal CI/CD 구성 및 작성<a class="hash-link" aria-label="MSP Portal CI/CD 구성 및 작성에 대한 직접 링크" title="MSP Portal CI/CD 구성 및 작성에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#msp-portal-cicd-%EA%B5%AC%EC%84%B1-%EB%B0%8F-%EC%9E%91%EC%84%B1">​</a></h3>
<p>이 프로젝트에서 CI/CD는 정보보호심의를 받기 전과 받은 후로 나뉜다. 회사 특성상 개발은 외부망에서 하고, 운영은 폐쇄망에서 하는 환경인데 외부-폐쇄에서 파일을 전송할 때는 특정 프로그램을 이용해야 한다.
하지만 이게 상당히 귀찮은 작업이라서 정보보호심의를 받기 전에는 <code>Git Push - Jenkins Build(yarn offline mirro) - AWS S3 Push - Git pull - Jenkins build - k8s apply</code> 하는 방식의 CI/CD를 구성했다.</p>
<p>그리고 정보보호심의를 받은 후에는 AWS S3를 이용 할 수없으니 <code>S3 Push</code> 과정에서 프로그램으로 빌드된 소스를 갖고 들어가는 방식으로 수정했다.</p>
<p><img decoding="async" loading="lazy" alt="CI/CD 아키텍쳐" src="https://fenrird.github.io/assets/images/img_3-942b5ab963def588a1e43fc77ba6e363.png" width="1082" height="660" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chatbotui-설치-및-스터디">ChatbotUI 설치 및 스터디<a class="hash-link" aria-label="ChatbotUI 설치 및 스터디에 대한 직접 링크" title="ChatbotUI 설치 및 스터디에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#chatbotui-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%8A%A4%ED%84%B0%EB%94%94">​</a></h3>
<p>연말에는 팀장님이 ChatbotUI를 우리 서버 환경에 구성해서 커스텀 해보자고 하셨다. 그래서 ChatbotUI를 구성하는 <code>supabase</code>,<code>ollama</code> 등을 공부해서 우리가 갖고 있는 인프라 환경에 실행했다.
그리고 <code>next.js</code>로 구성된 ChatbotUI를 커스텀하여 MSP Portal의 API를 이용해서 질의를 주고 받을 수 있게 개발 했다.</p>
<p>AI에 대한 지식이 없어서 많이 해맸지만 팀장님의 서포트와 공식 도큐먼트 덕분에 어찌어찌 개발은 했다. 기회가 된다면 더 집중해서 개발해보고 싶다.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p><a href="https://www.chatbotui.com/ko" target="_blank" rel="noopener noreferrer">https://www.chatbotui.com/ko</a></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="결론">결론<a class="hash-link" aria-label="결론에 대한 직접 링크" title="결론에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#%EA%B2%B0%EB%A1%A0">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24년-best">24년 Best<a class="hash-link" aria-label="24년 Best에 대한 직접 링크" title="24년 Best에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#24%EB%85%84-best">​</a></h3>
<p>아무래도 처음으로 프론트엔드 리드 개발자 역할을 성공적으로 끝낸게 가장 만족스럽다. 오픈소스를 커스텀, 공통컴포넌트, 등 개발 생산성을 증가시키고, 팀원들이 개발에만
집중할수 있게 CI/CD를 구성하고, k8s도 역량도 좀 더 키울수 있어서 만족한다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24년-worst">24년 Worst<a class="hash-link" aria-label="24년 Worst에 대한 직접 링크" title="24년 Worst에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#24%EB%85%84-worst">​</a></h3>
<p>팀원들의 부상? 등오로 2개월 동안 혼자 개발한 시간이 있었는데 이때 좀 예민했던거 같다. 그러다보니 프로젝트의 퀄리트를 높이기보다는 빠르게 쳐내는거에 집중하던 시기였다.
그 어떤 상황에서도 흔들리지않는 멘탈을 가지고 유연한 사고를 할 수 있도록 노력해야겠다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="회고">회고<a class="hash-link" aria-label="회고에 대한 직접 링크" title="회고에 대한 직접 링크" href="https://fenrird.github.io/blog/24th-Retrospect#%ED%9A%8C%EA%B3%A0">​</a></h3>
<p>나는 지금 생각해보면 24년에는 팀장님의 지지를 받아 내가 해보고 싶은건 다 해본 한 해 인거 같다. 프론트엔드 리드 개발자, CI/CD 구성, AI 관련 오픈소스 모두 팀장님이 믿어주신 덕분 아니였을까? ㅎㅎ</p>
<p>아직도 내가 모르는 분야가 많고, 더 공부를 해야하는데 너무 귀찮고 힘들다. 그래도 팀장님 덕분에 AI에 대해 조금은 이해했다. AI가 내 일자리를 뺏어가기 전에 내가 AI를 다룰수 있도록 더 공부해야겠다.
그리고 FE 뿐만아니라 다시 BE 공부도 해야한다고 생각한다.(요즘은 FE로만 밥 벌어 먹을 수 있을가에 대한 고민이 많다.)</p>
<p><img decoding="async" loading="lazy" alt="img_end.png" src="data:image/png;base64,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" width="996" height="618" class="img_ev3q"></p>]]></content:encoded>
            <category>FrontEnd</category>
            <category>Backend</category>
            <category>DevOps</category>
        </item>
        <item>
            <title><![CDATA[Git Flow 전략 사용기]]></title>
            <link>https://fenrirD.github.io/blog/git-flow</link>
            <guid>https://fenrirD.github.io/blog/git-flow</guid>
            <pubDate>Tue, 31 Dec 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[도입]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="도입">도입<a class="hash-link" aria-label="도입에 대한 직접 링크" title="도입에 대한 직접 링크" href="https://fenrird.github.io/blog/git-flow#%EB%8F%84%EC%9E%85">​</a></h2>
<p>어느 무더운 날, 팀장님이 팀원들을 회의실로 소집했다.</p>
<p><img decoding="async" loading="lazy" alt="어셈블" src="https://fenrird.github.io/assets/images/img-aff76f2077a3f3b0ed15e2a79b88bf42.jpg" width="1024" height="429" class="img_ev3q"></p>
<blockquote>
<p>개발팀 어셈블!</p>
</blockquote>
<p>그 이유는 운영 중인 서비스와 앞으로 개발 할 서비스의 서버를 분리하자고 하셨고,
FE 개발과 DevOps 직무를 병행하고 있는 나는 새로운 환경을 구성했다.</p>
<p>새로운 환경을 구성하고 보니... 새로운 브랜치 전략이 필요하다는 생각이 들었다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="본론">본론<a class="hash-link" aria-label="본론에 대한 직접 링크" title="본론에 대한 직접 링크" href="https://fenrird.github.io/blog/git-flow#%EB%B3%B8%EB%A1%A0">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-브랜치-전략-필요성">GIT 브랜치 전략 필요성<a class="hash-link" aria-label="GIT 브랜치 전략 필요성에 대한 직접 링크" title="GIT 브랜치 전략 필요성에 대한 직접 링크" href="https://fenrird.github.io/blog/git-flow#git-%EB%B8%8C%EB%9E%9C%EC%B9%98-%EC%A0%84%EB%9E%B5-%ED%95%84%EC%9A%94%EC%84%B1">​</a></h3>
<p>프로젝트 초창기에는 운영 중인 환경이 없으니 <code>develop</code>에서 파생된 <code>feature</code> 브랜치에서 각 개발자들이 개발을 하고 <code>develop</code>에 머지 후 검증하고
<code>master</code>에 반영하여 배포 하는 방식으로 개발을 진행했다. (배포 할 때 마다 태그를 생성)</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>팁</div><div class="admonitionContent_BuS1"><p>위 방법을 <code>Github Flow</code> 전략이라고 한다.</p></div></div>
<p>하지만 어느 순간 프로젝트가 오픈을 하게 되고, 운영 중인 버전(v1.x)와 앞으로 개발 할 (v2.x) 를 동시에 관리가 필요하고, 각 기능 마다 배포시기가
달라서 기존의 브랜치 전략을 사용한다면 엄청난 혼란에 빠지고, 배포 할 때 마다 피로도가 누적 될거라고 생각이 들었다.</p>
<blockquote>
<p>운영중인 v1.x.x 와 새로 개발하는 v2.x.x 에서 생겨난 문제</p>
</blockquote>
<p>그리고 이런 피로도는 곧 개발자들의 생산성 저하에 직결된다.</p>
<p><img decoding="async" loading="lazy" alt="혼세마왕" src="https://fenrird.github.io/assets/images/img-0028b91f962d91b6e22706858503d070.png" width="475" height="403" class="img_ev3q"></p>
<blockquote>
<p>혼란하면 혼세마왕이 도래한다...</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-브랜치-전략이란">GIT 브랜치 전략이란?<a class="hash-link" aria-label="GIT 브랜치 전략이란?에 대한 직접 링크" title="GIT 브랜치 전략이란?에 대한 직접 링크" href="https://fenrird.github.io/blog/git-flow#git-%EB%B8%8C%EB%9E%9C%EC%B9%98-%EC%A0%84%EB%9E%B5%EC%9D%B4%EB%9E%80">​</a></h3>
<p>GIT 브랜치 전략은 소프트웨어 개발 과정에서 브랜치를 효과적으로 관리하고 사용하는 방법을 정의한 것으로 브랜치 전략은 코드의 안정성, 협업 효율성, 그리고 배포 프로세스를 향상시키기 위해 매우 중요하다고 한다</p>
<blockquote>
<p>ChatGPT Official</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="유명한-브랜치-전략">유명한 브랜치 전략<a class="hash-link" aria-label="유명한 브랜치 전략에 대한 직접 링크" title="유명한 브랜치 전략에 대한 직접 링크" href="https://fenrird.github.io/blog/git-flow#%EC%9C%A0%EB%AA%85%ED%95%9C-%EB%B8%8C%EB%9E%9C%EC%B9%98-%EC%A0%84%EB%9E%B5">​</a></h4>
<ul>
<li>Git Flow<!-- -->
<ul>
<li>긴 수명의 브랜치('main', 'develop')와 짧은 수명의 브랜치('feature', 'release', 'hotfix')를 사용하여 코드 변경을 관리. 주로 대규모 프로젝트에서 사용되며, 명확한 구조와 프로세스를 제공</li>
</ul>
</li>
<li>GitHub Flow<!-- -->
<ul>
<li>간단하고 효율적이며, 지속적인 배포(CD)를 지원.</li>
<li>main 브랜치에서 파생된 짧은 수명의 feature 브랜치를 중심으로 작업.</li>
</ul>
</li>
<li>GitLab Flow<!-- -->
<ul>
<li>GitHub Flow처럼 단순하지만, 추가적인 브랜치를 활용해 다양한 환경(예: staging, production)을 지원.</li>
</ul>
</li>
<li>Trunk-Based Development<!-- -->
<ul>
<li>main 브랜치가 유일한 장기 브랜치로, 모든 변경이 여기에 병합.</li>
<li>짧은 수명의 브랜치만 생성하며, 빠르게 병합 후 삭제.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="선택">선택<a class="hash-link" aria-label="선택에 대한 직접 링크" title="선택에 대한 직접 링크" href="https://fenrird.github.io/blog/git-flow#%EC%84%A0%ED%83%9D">​</a></h3>
<p>나는 다른 개발자들이 방심 했을 때, <code>Git Flow</code> 전략을 사용하기로 했다.
<code>Git Flow</code> 선택 이유는 기존 서버가 1개에서 2개로 분리되면서 운영 브랜치와 개발 브랜치를 나눠야하고, 다른 브랜치 전략은 모두 하나의
브랜치를 중심으로 피쳐를 파생하고, 그 브랜치가 항상 최신 소소지만 우리는 v1.x.x와 v2.x.x가 동시 개발한다는 점과 그리고 해보고 안되면
말지라는 생각으로 선택하게 되었다.</p>
<blockquote>
<p>개발자 1분은 인병 휴가 상태고, 다른 한 분은 다른 프로젝트 지원 중 이였다.</p>
</blockquote>
<p>그리고 FE 개발자들을 설득하기 위해 그림을 그렸다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="브랜치-정의">브랜치 정의<a class="hash-link" aria-label="브랜치 정의에 대한 직접 링크" title="브랜치 정의에 대한 직접 링크" href="https://fenrird.github.io/blog/git-flow#%EB%B8%8C%EB%9E%9C%EC%B9%98-%EC%A0%95%EC%9D%98">​</a></h3>
<p><code>Git Flow</code> 전략에 맞게 각 브랜치는 사용 목적이 있는데 아래와 같다.</p>
<ul>
<li><code>master</code>
<ul>
<li>안정적인 코드 베이스</li>
<li>내부망 개발, 운영에 반입된 소스</li>
<li>태그는 prd-x.x.x</li>
</ul>
</li>
<li><code>release</code>
<ul>
<li>배포 준비가 완료된 버전의 코드</li>
<li>지라의 릴리스 기준으로 브랜치가 생성됨</li>
<li>개발 서버에 반영 됨</li>
<li>기획자 검수가 끝나고, 정기 배포날에 master 브랜치로 반영</li>
</ul>
</li>
<li><code>develop</code>
<ul>
<li>다음 출시될 버전의 통합 브랜치</li>
<li>항상 최신 소스를 갖고 있음</li>
</ul>
</li>
<li><code>feature</code>
<ul>
<li>새로운 기능을 개발하기 위한 브랜치</li>
<li>feature에서 개발 후, develop과 해당하는 릴리즈 버전에 반영 할 것</li>
<li>feautre 브랜치 생성시에 규칙은 feat/JIRA-TICKET OR feat/기능 으로 한다.</li>
</ul>
</li>
<li><code>hotfix</code>
<ul>
<li>배포 버전에서 발생한 긴급 문제 해결</li>
</ul>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="내가그린기린그림" src="https://fenrird.github.io/assets/images/img_2-46fa67e0288bbf141652104e47247eeb.png" width="1074" height="524" class="img_ev3q"></p>
<p>각 브랜치들의 목적을 설명하고 위 그림을 보면서 팀원들과 논의를 해서 <code>Git Flow</code> 전략을 사용하자고 동의를 얻었다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="논의-중-나온-질문과-답변">논의 중 나온 질문과 답변<a class="hash-link" aria-label="논의 중 나온 질문과 답변에 대한 직접 링크" title="논의 중 나온 질문과 답변에 대한 직접 링크" href="https://fenrird.github.io/blog/git-flow#%EB%85%BC%EC%9D%98-%EC%A4%91-%EB%82%98%EC%98%A8-%EC%A7%88%EB%AC%B8%EA%B3%BC-%EB%8B%B5%EB%B3%80">​</a></h4>
<div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y text--truncate">http://localhost:3000</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><p>Q. 이 전략이 필요한 이유가 뭐에요?</p><p>A. V2.0.1에 반영될 기능 A와 V2.0.2에 반영될 기능 B가 있을 때, 기존 방식대로라면 검수를 받기 위해 이 기능 모두 develop 브랜치에 머지가 될거고
그러면 실제 V2.0.1 배포 때 develop 브랜치에서 이 기능만 가져오기가 복잡할것이다. 애초에 버전별 release 브랜치를 생성하고, develop 에 반영 후 검수 받고,
검수 받은 후, 각 release에 반영하면 배포 날에는 해당 release 브랜치 기준으로 master에 머지하면 배포 날에 혼란이 줄어든다고 생각한다.</p><p>Q. 적응하는데 쉽지 않을거 같다.</p><p>A. 초기에는 귀찮고 힘들거라고 생각한다. 하지만 인간은 적응의 동물이다.</p><p>Q. 맛있는 빵집은?</p><p>A. 베통 소금빵 맛있다. 🤭</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="결론">결론<a class="hash-link" aria-label="결론에 대한 직접 링크" title="결론에 대한 직접 링크" href="https://fenrird.github.io/blog/git-flow#%EA%B2%B0%EB%A1%A0">​</a></h2>
<p>Git Flow 전략을 사용한 지 3개월이 지났다.
초기 2주 정도는 많은 시행착오가 있었지만 지금은 모두 규칙에 따라서 잘 운영되고 있다. 아마 초창기에 고생은 좀 했지만 이렇게 전략을 정하지 않고 개발을 했다면 배포할 때마다 더 고생을 했을 거라고 생각한다.</p>
<p>어떤 브랜치 전략이든 정답은 없고 각 상황에 맞게 브랜치 전략을 사용하면 보다 생산성을 높이고 효율적으로 프로젝트를 운영할 수 있다고 생각한다.</p>
<p>그리고 DevOps 역할을 하면서 늘 생각하는 거지만 어떻게 하면 보다 생산성을 높이고, 팀원들을 편하게 해줄까 고민하면서 내가 느끼는 고통은 크지만 내가 구현한 방식대로 잘 운영되고 좋은 피드백을 받을 때마다 기분이 좋다. 특히 Git Flow 도입 후 배포 과정이 안정화되고 팀 협업이 원활해지는 걸 보면서 DevOps의 매력에 푹 빠졌달까?</p>
<p>이런 경험을 바탕으로 helm, terraform 등 다른 것도 공부하려고 한다. 아마 이것들도 도입하면 처음엔 팀원들이 투덜거리겠지만, 결국엔 "야 이거 좋네?"라고 말할 날을 기대하며...</p>
<p><img decoding="async" loading="lazy" alt="img_end.png" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+QAAAJqCAMAAACVTno/AAADAFBMVEUAAABBcZwAAAAICAhAQEAYGBggICD///9gYGCAgIBoaGhISEgQEBCPj48wMDDv7+/f3984ODj39/dQUFBwcHDHx8fX19efn5+/v7+vr6+Hh4d4eHgoKCiXl5e3t7enp6fn5+dYWFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACCsjbUAAAAAXRSTlMAQObYZgAADFxJREFUeF7t3W2LHNeZgGGNNIlHwuSFBPwhLPv/f1dgk+wmhHiDNnIsz0YafXFxRulOtyr13H1dxggOeMbQuvs5VV1VfXf3Aih7uV0AWu5fvDDLoevRJIc6kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOLutwsc3AVvyw9vP/7x5m+b9dO9/H67wvGJfJj7u+3K6X749MerHy+f4de/265wfBfMBab55kd//CsetwsM8OruxQWjgd29vODlevu02X73r6f6ne36QCb5Dbl8kl/wn/Jvc2eSz3LJMfmrpzNuD+8366f79BMY5NEkvyUm+W0S+Q35w3bhbJf/BPYn8hvyaQ5fUOp32wUGEPkN+VS3PfeNEfkNuXySv9kuMIDIb8jlk/zpulhmEfkNuXySM5HIb8jlk/xhu8AAIr8hl09yZ9cnEvkNuXySM5HIb8jlk5yJRH5DLp/kP90uMIDIb8jlk9xHaBO5C22YNz+7e/yn/7z87+1/9tH7p0fD3P/6Hy/54z/596/L+83+vl3g8B5FnvRmHeOnyE/ys//brnyw/rkcmVtNm555VV2Uepue+evAaM8cOi934OSJvOg/tgtPLj43/nq7wAQivyHPDPil5SE5I4m8aH31qQvPb5TIb4ePUW6UyIvWD1b/yXaB2yDyovX3IK1X19afttnwjyTyovU1K+dM8vVRPSOJ/Hac850KF3/axnGIvGh91cs5J97Wk/ycvQCHIfKi9YfcpvONEvnt+O124TPWt7KsVzk4kQfdbxeerM+YkyfyoGcG7jPLZ7DhH8n95EHr7yZ++N/tymd8/W678sE5N6RzEO4nT/rlduGjs97Mv98ufGTDP5LIg9ZXtZ51udr6YY/rj+Y4OJEHrT/OPuulXj/scT3fObizXnlmWN83ftZ2fb3jZySRB60vVzvr1Phyx3/Whp/DEHnQ+tD5T9uFz1nu+M/aC3AYIu/5ervw5KyPv5afoJnkM4m851fbhSfrI3X6RN6zPiQ/70mryx3/cg/P4Ym8Z/2anrfXXt7HtryQjsNb/4VgsuUUvsYr7cTbTK9cu55zv7xm5bvl6jPeLM/SvTvnR3AYV3h/52DWk3x9pP6M9V+L9bWuHJ270HLWN5C9eDxnDL9cPtnVTWgTuQst6JmYn1leW18d5ya0mUSe84vtwkfnfYK2tj4O4OhEnrN+6PrPtwuftX6jOGszwGGIPGd9hm2d/nOWh+QMJfKa+/Wm+qvtwmct/1pcY8fPv8Hy1WSw32wXnpx1D9r6/hSGEnnNM33+dbvwWcvdwHkXxnIYIq9Zf5Z9jUDP2/FzGCKvWd5a8szp8mctf8j67YPDc8Xb0b155hkQz/nzduGjh5++en/GKfPlD3lYnnn76pxvX2J/jyI/vPuDvz6vv92ucCgua4U8kR/d+jJyOJnIj259ARucTOQQJ3KIE/nROSbnQiI/OsfkXEjkECdyiBP50Tkm50IiPzrH5FxI5BAncogT+dE5JudCIj86x+RcSOQQJ3KI82QYSPNkGMgTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xN1vF5jizd+2K1/Ww9vtCjOIfKwfzvgq4muw6ZvKKzfWN9uFL8wgn+qVu9Cmeve4XfmyHnf+fVyLST7W3pOcqUzysfae5K89iGook3ysvSe5Y/KpRA5xtutj7b1dd+JtKpN8rL2362+2Cwxhko+19yT/buffx7WY5GPtPcmZyiQfa+9J7ph8KpN8rL0nuWPyqUzysfae5I7JpzLJx9p7kjOVST7W3pPcMflUJvlYe09yx+RTmeRj7T3JHZNP5ckwY33zX9uVDx6+/sfG+u7q/z7ePX7rDpWhfHXxWA/vtysfvP52u8Jt89XFg+19TM5UjsnHWh+T/+TddoVbZ5KPZZJzGpN8LJOc05jkY5nknMYkH8sk5zQm+VgmOacxyccyyTmNi2HG+s/lFW8vfrlduIo//rBdYYhHkc+1vuLtC3m181eocjWueBts12PyXX8Z1+WYfKz1MfkX8vb77QpjmORj7Tpcd/1lXJdJPpZJzmlM8rF2Ha67/jKuS+Rj/WG7AEsiH2vX4eodZTCRj7Vrd7u+o3BdIh9Ld5zG2fWxnF3nNCb5WLtO8l1/Gddlko9lknMak3ysXYfrrr+M6xL5WLueXWcwkY+163D1jjKYyMfatbtd31G4Lt+FNtYz34X2ertyFb/dLjCHJ8OMtX4yjO9C48c8GWYwO2hO43Pysdafk3taK1sm+VgmOacxyccyyTmNST6WSc5pTPKxTHJOY5KPZZJzGpN8LJOc07jibaz1FW+PX7/dLl3LS7ebzuSKt7HWV7x9Qb/6/XaFAVzxNtjux+SmwVAiH2vXu9A+WJ4D4PhEPpZJzmlEPpZJzmlEPpZJzmlEPpZJzmlEPpZJzmlEPtbuk5yhRD7W7pPcdn0okY+1+yS3XR9K5GPtPskZSuRj7T7JbdeHEvlYu09y2/WhRD6WSc5pRD6WSc5pRD6WSc5pRD6WSc5pRD7W/7x//9Wu//xl+3/ADB7/BGke/wR5Ioc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncogTOcSJHOJEDnEihziRQ5zIIU7kECdyiBM5xIkc4kQOcSKHOJFDnMghTuQQJ3KIEznEiRziRA5xIoc4kUOcyCFO5BAncoi7u9uuACkmOcT9PwGbcfD4Bh9BAAAAAElFTkSuQmCC" width="996" height="618" class="img_ev3q"></p>]]></content:encoded>
            <category>Git Flow</category>
            <category>FE</category>
            <category>CI/CD</category>
        </item>
        <item>
            <title><![CDATA[NPM 저장소에 내가 만든 컴포넌트 업로드 하기]]></title>
            <link>https://fenrirD.github.io/blog/My-First-Npm-Publish</link>
            <guid>https://fenrirD.github.io/blog/My-First-Npm-Publish</guid>
            <pubDate>Sat, 15 Jun 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[도입]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="도입">도입<a class="hash-link" aria-label="도입에 대한 직접 링크" title="도입에 대한 직접 링크" href="https://fenrird.github.io/blog/My-First-Npm-Publish#%EB%8F%84%EC%9E%85">​</a></h2>
<p><img decoding="async" loading="lazy" alt="고민 중." src="https://fenrird.github.io/assets/images/package-json-f4e81ef35a9c7ffd4a13800d282762a7.png" width="527" height="476" class="img_ev3q"></p>
<p>현 회사에서 FE 개발자로 개발하면서 많은 페이지를 개발하고, 그 과정에서 공통적으로 사용하는 기능을 공통 컴포넌트로 만드는 작업을 했다.</p>
<p>이렇게 공통 컴포넌트들을 만들다 보니 문득 NPM에 내가 만든 컴포넌트를 올려보고 싶어졌고, 이 포스트를 통해 그 과정을 기록하려고 한다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="본론">본론<a class="hash-link" aria-label="본론에 대한 직접 링크" title="본론에 대한 직접 링크" href="https://fenrird.github.io/blog/My-First-Npm-Publish#%EB%B3%B8%EB%A1%A0">​</a></h2>
<p>먼저, 내가 <code>이슈리포터</code>라는 프로젝트를 진행하면서, 많든 공통 컴포넌트 목록은 아래와 같다.</p>
<ul>
<li>그리드</li>
<li>클립보드</li>
<li>인증/인가</li>
<li>스피너</li>
<li>트리 구조</li>
</ul>
<p>이 컴포넌트 중에서 다른 패키지들과 의존성이 제일 낮은 클립보드를 <code>NPM 저장소</code>에 올려보려고 한다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="so-what-is-npm">So, What is npm?<a class="hash-link" aria-label="So, What is npm?에 대한 직접 링크" title="So, What is npm?에 대한 직접 링크" href="https://fenrird.github.io/blog/My-First-Npm-Publish#so-what-is-npm">​</a></h3>
<p>평소 개발하면서 프로젝트에 패키지, 라이브러리, 이미지 등을 사용하는데 이 때, 이러한 패키지를 가져오는 저장소가 있는데
javascript 사용하는 패키지 저장소가 <strong>NPM</strong>이다.</p>
<p><img decoding="async" loading="lazy" alt="패키지 저장소의 3대장" src="https://fenrird.github.io/assets/images/img-42200756d4b2eadf5e5f94cce51a8cfb.png" width="936" height="858" class="img_ev3q"></p>
<p><strong>NPM(Node Package Manager)</strong> 은 JavaScript 언어를 위한 패키지 관리 도구로 Node.js 환경에서 서버 사이드 애플리케이션을 개발할 때
주로 사용하지만, 프론트엔드 웹개발에서도 많이 사용된다.</p>
<p><strong>NPM</strong>은 아래와 같은 주요 기능을 제공한다.</p>
<ul>
<li>패키지 설치: 필요한 패키지를 쉽게 설치할 수 있습니다. 예를 들어, npm install lodash 명령을 실행하면 lodash라는 라이브러리를 프로젝트에 추가할 수 있습니다.</li>
<li>패키지 관리: 프로젝트에서 사용하는 모든 패키지를 한 곳에서 관리할 수 있습니다. package.json 파일은 프로젝트가 어떤 패키지에 의존하는지, 그리고 어떤 버전의 패키지를 사용하고 있는지에 대한 정보를 담고 있습니다.</li>
<li>패키지 게시: 자신이 작성한 코드를 패키지 형태로 만들고, NPM 공개 저장소에 게시하여 다른 개발자가 쉽게 사용할 수 있게 하는 기능도 제공합니다.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p><a href="https://docs.npmjs.com/" target="_blank" rel="noopener noreferrer">NPM(Node Package Manager)</a></p></div></div>
<p>평소에 설치, 관리 등은 이용하지만 한번도 <strong>NPM</strong>에 내가 만든 패키지를 업로드 해본적이 없어서 시도해 보려고 한다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-기존-프로젝트에서-클립보드-소스-분리하기">1. 기존 프로젝트에서 클립보드 소스 분리하기<a class="hash-link" aria-label="1. 기존 프로젝트에서 클립보드 소스 분리하기에 대한 직접 링크" title="1. 기존 프로젝트에서 클립보드 소스 분리하기에 대한 직접 링크" href="https://fenrird.github.io/blog/My-First-Npm-Publish#1-%EA%B8%B0%EC%A1%B4-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90%EC%84%9C-%ED%81%B4%EB%A6%BD%EB%B3%B4%EB%93%9C-%EC%86%8C%EC%8A%A4-%EB%B6%84%EB%A6%AC%ED%95%98%EA%B8%B0">​</a></h3>
<p>먼저, vue cli로 프로젝트를 생성한다.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ npm init vue@latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>생성된 프로젝트에 내가 개발한 컴포넌트를 붙어넣기 했다.
그리고 <code>npm run dev</code> 명령어를 실행하자마자 내가 마주한 것은 수 많은 에러였다.
<img decoding="async" loading="lazy" alt="CP 후 에러" src="https://fenrird.github.io/assets/images/error-5f869833ba02d8de7ad67a8c828f83d2.png" width="802" height="768" class="img_ev3q"></p>
<p>에러 내용으로는 내가 개발한 컴포넌트에서 다른 컴포넌트를 사용중인데 없고, 기존 프로젝트 개발 환경은 <code>vue:2.6.14</code>에
<code>composition-api</code>를 추가해서 사용중이였으나, <code>vue cli</code>로 생성한 프로젝트는 <code>vue:3.x</code>를 사용한다.</p>
<p>내가 개발한 컴포넌트는 처음부터 해당 프로젝트에서 사용한다고 생각하고 개발 했기 때문에 기 프로젝트에 엄청난 커플링이 되어있었다.</p>
<p>내 목표는 유연하고 범용성 높은 오픈소스를 만드는게 아닌 <code>NPM</code>에 업로드하고 인스톨 해서 사용해보자였기 때문에
에러 나는 부분만 수정하는 작업을 진행 했다.</p>
<blockquote>
<p><a href="https://github.com/fenrirD/vue-clipboard/tree/master" target="_blank" rel="noopener noreferrer">수정한 소스 레파지토리</a></p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-npm에-패키지-업로드-하기">2. NPM에 패키지 업로드 하기<a class="hash-link" aria-label="2. NPM에 패키지 업로드 하기에 대한 직접 링크" title="2. NPM에 패키지 업로드 하기에 대한 직접 링크" href="https://fenrird.github.io/blog/My-First-Npm-Publish#2-npm%EC%97%90-%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%97%85%EB%A1%9C%EB%93%9C-%ED%95%98%EA%B8%B0">​</a></h3>
<p><strong>NPM</strong>에서 패키지를 다운로드만 받아보고, 패키지를 올려본적이 없던 나는 어떻게 업로드 해야하는지 부터 찾아봤고, 그 순서는 아래와 같다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-npm-가입하기">1. NPM 가입하기<a class="hash-link" aria-label="1. NPM 가입하기에 대한 직접 링크" title="1. NPM 가입하기에 대한 직접 링크" href="https://fenrird.github.io/blog/My-First-Npm-Publish#1-npm-%EA%B0%80%EC%9E%85%ED%95%98%EA%B8%B0">​</a></h4>
<p>내가 관리하느 패키지를 업로드를 하려면 당연히 내 계정이 필요하다.
회원가입은 <a href="https://www.npmjs.com/signup" target="_blank" rel="noopener noreferrer">NPM SignUp</a>에서 진행하면 된다.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p><a href="https://docs.npmjs.com/creating-a-new-npm-user-account" target="_blank" rel="noopener noreferrer">https://docs.npmjs.com/creating-a-new-npm-user-account</a></p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-터미널에서-로그인하기">2. 터미널에서 로그인하기<a class="hash-link" aria-label="2. 터미널에서 로그인하기에 대한 직접 링크" title="2. 터미널에서 로그인하기에 대한 직접 링크" href="https://fenrird.github.io/blog/My-First-Npm-Publish#2-%ED%84%B0%EB%AF%B8%EB%84%90%EC%97%90%EC%84%9C-%EB%A1%9C%EA%B7%B8%EC%9D%B8%ED%95%98%EA%B8%B0">​</a></h4>
<p>먼저 로컬에 있는 소스를 <strong>NPM</strong> 저장소에 올려야 하므로 로컬 로컬 터미널 환경에서 로그인이 잘 되는지 확인을 해주는 과정이다.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ npm login</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm WARN adduser `adduser` will be split into `login` and `register` in a future version. `adduser` will become an alias of `register`. `login` (currently an alias) will become its own command.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm notice Log in on https://registry.npmjs.org/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Username: fenrir93</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Password:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Email: (this IS public) fenrir4504@gmail.com</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm notice Please check your email for a one-time password (OTP)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Enter one-time password: </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Logged in as fenrir93 on https://registry.npmjs.org/.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>로그인 명령어를 치게 되면 가입한 계정으로 로그인 할 수 있다.</p>
<blockquote>
<p>만약 로그인을 안하고 진행하게 되면 403에러가 발생한다.
<img decoding="async" loading="lazy" alt="403에러" src="https://fenrird.github.io/assets/images/img_1-492b5cd850a21bc21fa667e2a2667615.png" width="946" height="169" class="img_ev3q"></p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-packagejson-작성하기">3. package.json 작성하기<a class="hash-link" aria-label="3. package.json 작성하기에 대한 직접 링크" title="3. package.json 작성하기에 대한 직접 링크" href="https://fenrird.github.io/blog/My-First-Npm-Publish#3-packagejson-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0">​</a></h4>
<p>나는 앞에서 <code>vue cli</code>로 프로젝트를 생성해서 <code>npm init</code> 명령어를 통해 <code>package.json</code>을 별로로 생성할 필요는 없었지만 파일이 없다면
<code>npm init</code>으로 <code>package.json</code>을 생성해줘야 한다.</p>
<p><strong>npm</strong>에 패키지를 배포하기 위해서는 필수적으로 들어가야하는 값들이 존재하는데 다음과 같다.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "name": "your-package-name", // 패키지의 이름. npm 레지스트리에 고유해야 합니다.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "version": "1.0.0", // 패키지의 현재 버전. SemVer(유의적 버전) 형식을 따릅니다.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "description": "Description of your package", // 패키지에 대한 간략한 설명.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "main": "index.js", // 패키지가 호출될 때 기본으로 로드되는 모듈의 진입점.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "scripts": { }, // 패키지 스크립트. 공백일 수 있지만 주로 "start", "test" 등의 스크립트를 포함합니다.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "keywords": [], // 패키지에 관련된 키워드의 배열. 검색 엔진 최적화와 패키지 검색을 도와줍니다.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "author": "Your Name &lt;your.email@example.com&gt; (Your website)", // 패키지 작성자의 정보.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "license": "ISC" // 패키지에 적용된 라이선스. 일반적으로 "MIT"나 "ISC" 등의 공개 소프트웨어 라이선스를 사용합니다.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "repository": {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    "type": "git",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    "url": "git+https://github.com/${UserName}/${RepoName}.git"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  } // 소스가 관리되는 저장소</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>그리고 위 정보를 바탕으로 <code>package.json</code>에 적용했다.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "name": "vue-clipboard",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "version": "1.0.1",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "description": "vue clipboard, thumbnail",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "private": false,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "type": "module",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "scripts": {},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "dependencies": {},</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "repository": {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    "type": "git",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    "url": "git+https://github.com/fenrirD/vue-clipboard.git"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "keywords": [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    "Vue.js"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "author": "fenrir93",</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  "devDependencies": {}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-배포하기">3. 배포하기<a class="hash-link" aria-label="3. 배포하기에 대한 직접 링크" title="3. 배포하기에 대한 직접 링크" href="https://fenrird.github.io/blog/My-First-Npm-Publish#3-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0">​</a></h4>
<p><code>package.json</code>을 다 작성 했다면 이제 <strong>NPM</strong>에 배포만 남았다. 배포는 배포할 프로젝트 경로에서 <code>npm publish</code>만 해주면 된다.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ npm publish</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>༼ つ ◕_◕ ༽つ(두근두근두근)</p>
<p><img decoding="async" loading="lazy" alt="403에러" src="https://fenrird.github.io/assets/images/img_3-078674290c75c658d3b4af34edd3e113.png" width="942" height="175" class="img_ev3q"></p>
<p>.... 왜 또 403에러 일까 하고 봤더니 현재 터미널에 로그인한 유저가 <strong>"vue-clipboard"</strong> 에 대한 권한이 없다는 것이다.
<strong>(╯°□°）╯︵ ┻━┻</strong></p>
<p><img decoding="async" loading="lazy" alt="이미 존재하는 클립보드" src="https://fenrird.github.io/assets/images/img_2-9b63896c1b70b17a1099e45365f410cf.png" width="1365" height="425" class="img_ev3q"></p>
<p>그래서 찾아 봤더니 이미 **"vue-clipboard"**라는 이름의 패키지가 존재했다. 그래서 **"fenrir-vue-clipboard"**로 냅다 변경했다.</p>
<p>다시 <code>npm publish</code> 를 입력한 결과 아래와 같이 성공 했다.</p>
<p><img decoding="async" loading="lazy" alt="첫번째 배포" src="https://fenrird.github.io/assets/images/img_4-ba3d5300d8298b8a8296f5aaaabf437b.png" width="853" height="951" class="img_ev3q"></p>
<blockquote>
<p>NPM 패키지에 당당히 올라간 내 패키지
<img decoding="async" loading="lazy" alt="img_5.png" src="https://fenrird.github.io/assets/images/img_5-566ac88debee244b789505c6b4bdc03b.png" width="1314" height="826" class="img_ev3q"></p>
</blockquote>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p><a href="https://www.npmjs.com/package/fenrir-vue-clipboard" target="_blank" rel="noopener noreferrer">내가 만든 Package</a></p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-설치-및-사용">4. 설치 및 사용<a class="hash-link" aria-label="4. 설치 및 사용에 대한 직접 링크" title="4. 설치 및 사용에 대한 직접 링크" href="https://fenrird.github.io/blog/My-First-Npm-Publish#4-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%82%AC%EC%9A%A9">​</a></h3>
<p><strong>NPN</strong> 저장소에도 당당히 올라간 내 패키지를 설치하고, 사용해보기 위해서 새로운 프로젝트를 만들고 인스톨을 해봤다.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ npm install fenrir-vue-clipboard</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>정상적으로 설치된 내 패키지!
<img decoding="async" loading="lazy" alt="img_6.png" src="https://fenrird.github.io/assets/images/img_6-c753708c201107c03bd12c7bfe42b372.png" width="805" height="404" class="img_ev3q"></p>
</blockquote>
<p>패키지도 정상적으로 설치되고, 기분이 좋아진 나는 힘차게 프로젝트를 실행했다.</p>
<p>하지만....</p>
<p><img decoding="async" loading="lazy" alt="img_7.png" src="https://fenrird.github.io/assets/images/img_7-f4288768f4f177026ff8ffd5456d7d57.png" width="1165" height="634" class="img_ev3q"></p>
<p>경로를 못찾는 에러가 발생했다. 흐음. 그래서 찾아보니 <strong>NPM</strong>에 배포한 패키지는 <code>alias</code> 설정을 해주려면 별도 패키지를 다운로드 해서
따로 설정이 필요한거 같다. 그래서 나는 일단 상대 경로로 변경을 해주는 작업을 했다.</p>
<p>그리고 다른 오류가 발생하면 안되니까 배포하기전에 테스트를 먼저 진행했다. 테스트 방법은 아래와 같다</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ npm install 패키지 경로</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 명령어를 테스트할 프로젝트에서 실행하면 <code>packae.json</code>이 아래와 같이 변경된다.</p>
<p><img decoding="async" loading="lazy" alt="변경된 Package.json" src="data:image/png;base64,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" width="728" height="94" class="img_ev3q"></p>
<p>이제 다시 실행 프로젝트를 실행하면 정상적으로 실행이 되고, 내 컴포넌트의 기능이 정상적으로 동작하는지 테스트 할 수 있다.
실행한 프로젝트에서 테스트 결과 정상적으로 동작을 하였고, 버전을 올려서 배포를 다시 진행했다.</p>
<p>그리고 다시 설치를 하고, 동작 결과 <strong>(*/ω＼*)</strong></p>
<p><img decoding="async" loading="lazy" alt="img_9.png" src="https://fenrird.github.io/assets/images/img_9-2a02036837550c11f7eb28b0820d23af.png" width="869" height="527" class="img_ev3q"></p>
<p>내가 구현한 기능들이 정상적으로 동작이 됐다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="결론">결론<a class="hash-link" aria-label="결론에 대한 직접 링크" title="결론에 대한 직접 링크" href="https://fenrird.github.io/blog/My-First-Npm-Publish#%EA%B2%B0%EB%A1%A0">​</a></h2>
<p>내가 만든 패키지는 <code>vue 3.x.x</code>에서만 동작하고, <code>props</code>도 다양하지 못해서 범용성, 확정성, 유연성 등의 모든 점에서 이걸 과연 누가 쓸까?
라고 생각이 든다.</p>
<p>하지만 처음 패키지를 올릴 때, 내 목표는 일단 올리고, 사용해보자가 목표 였으므로 내 목표는 달성 했다.</p>
<p><img decoding="async" loading="lazy" alt="img_10.png" src="https://fenrird.github.io/assets/images/img_10-e8ec5b681e8c680997301cfbf735f4d3.png" width="460" height="582" class="img_ev3q"></p>
<p>앞으로는 내가 회사에서 만든 공통 컴포넌트를 좀 더 유연하고 확정성 높게 설계해서 <strong>NPM</strong>에 올리는걸 목표로 개발을 해야겠다.</p>
<p><img decoding="async" loading="lazy" alt="img_end.png" src="data:image/png;base64,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" width="996" height="618" class="img_ev3q"></p>]]></content:encoded>
            <category>VueJS</category>
            <category>NPM</category>
            <category>공통 컴포넌트</category>
        </item>
        <item>
            <title><![CDATA[HOC로 공통 인가 적용하기]]></title>
            <link>https://fenrirD.github.io/blog/HOC-And-Authorization</link>
            <guid>https://fenrirD.github.io/blog/HOC-And-Authorization</guid>
            <pubDate>Fri, 12 Jan 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[도입]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="도입">도입<a class="hash-link" aria-label="도입에 대한 직접 링크" title="도입에 대한 직접 링크" href="https://fenrird.github.io/blog/HOC-And-Authorization#%EB%8F%84%EC%9E%85">​</a></h2>
<p><img decoding="async" loading="lazy" alt="대화내용" src="https://fenrird.github.io/assets/images/img_1-7c51344d2a715834001e1bcfc9e0b490.png" width="742" height="746" class="img_ev3q"></p>
<blockquote>
<p>제가 유리하게 편집한 내용입니다. 😉</p>
</blockquote>
<p>이직 후 n개월 차. 누군가 나에게 보낸 경고장이다.</p>
<p>원래 기존의 이슈리포터에는 일반 사용자, 운영자로 만 나뉘고 url도 분리가 되어 있었지만, 스프린트를 진행하면서 일반 사용자 별로 볼 수 있는
메뉴와 사용할 수 있는 기능이 다른 권한이라는 기능이 추가 되면서, 해당 페이지에 대한 권한(인가)가 없으면 접근이 불가능하게 개발을 해야하는 상황
이 발생하였다.</p>
<p>이슈리포터에는 이미 수 많은 페이지와 컴포넌트가 존재 했는데 이 작업을 모든 컴포넌트 각각 API를 호출하고, 핸들링 해주기에는 상당히 귀찮은 작업이
예상 되었다.</p>
<p>팀장님에게 도전장을 받은 나는 이러한 상황에서 어떻게 하면 가장 효율적일지 고민을 했다.</p>
<p><img decoding="async" loading="lazy" alt="고민 중." src="https://fenrird.github.io/assets/images/img_2-a1e4b9f04830e9a82fd18bacf4a3f8f1.png" width="756" height="504" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="본론">본론<a class="hash-link" aria-label="본론에 대한 직접 링크" title="본론에 대한 직접 링크" href="https://fenrird.github.io/blog/HOC-And-Authorization#%EB%B3%B8%EB%A1%A0">​</a></h2>
<p>먼저, 이슈리포터에 어떤 인가방법을 적용할지에 대한 고민을하기 위해 필요한 이슈리포터의 버전 스펙이다.</p>
<table><thead><tr><th>이름</th><th>버전</th></tr></thead><tbody><tr><td>Vue</td><td>2.6.14</td></tr><tr><td>vue-router</td><td>3.2.0</td></tr></tbody></table>
<blockquote>
<p>필요한 버전 정보만 적었습니다.</p>
</blockquote>
<p>그리고 내가 생각해낸 방법 리스트는 아래와 같다.</p>
<ol>
<li>Vue-router의 <code>navigation-guards</code>를 활용한 페이지 이동</li>
<li>각 컴포넌트 마다 <code>mounted</code>에서 권한 체크 후, 페이지 이동</li>
<li>처음부터 권한(인가)에 대한 고려를 안했으니, 팀장님이 알아서 하라고 업무 거부하기(?)</li>
<li>다른 FE 개발자분에게 떠넘기기(?)</li>
<li>HOC(고차 컴포넌트)를 활용하여 권한 체크 후, 페이지 이동</li>
</ol>
<p>고민한 결과 HOC(고차 컴포넌트)를 사용하여 인가 로직을 추가하기로 결정하였다.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>경고</div><div class="admonitionContent_BuS1"><p>최고이자 최선의 방법이 아닐 수 있습니다.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-hoc--what-hoc-">Why? HOC &amp; What HOC? 🤔<a class="hash-link" aria-label="Why? HOC &amp; What HOC? 🤔에 �대한 직접 링크" title="Why? HOC &amp; What HOC? 🤔에 대한 직접 링크" href="https://fenrird.github.io/blog/HOC-And-Authorization#why-hoc--what-hoc-">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="왜-hoc-선택-했을까">왜 HOC 선택 했을까?<a class="hash-link" aria-label="왜 HOC 선택 했을까?에 대한 직접 링크" title="왜 HOC 선택 했을까?에 대한 직접 링크" href="https://fenrird.github.io/blog/HOC-And-Authorization#%EC%99%9C-hoc-%EC%84%A0%ED%83%9D-%ED%96%88%EC%9D%84%EA%B9%8C">​</a></h4>
<p>사실 가장 먼저 생각한 방법은 <code>vue-router</code>에서 구현되어 있는 <code>navigation-guards</code>를 활용하는 방법이였다.
뷰 라우터에는 전역 네비게이션 가드와 컴포넌트 내부의 네비게이션가드를 제공해준다.</p>
<p>하지만 전역적으로 적용하기에는 이미 기존에 사용중이던 로직과 API 설계상 네베게이션 가드 로직이 너무 복잡해 질 우려가 있어서
포기하였다.</p>
<p>또한 각각의 컴포넌트 내부에 적용하는 방법으로는 너무 귀찮(?)을거 같다는 생각이 들었다.</p>
<p>두 번째, 각 컴포넌트 마다 적용하기 또한 유지보수(라고 쓰고 귀찮다는) 측면에서 불리하다고 생각하였다.</p>
<p>3번 4번 방법은 음.....</p>
<p>그래서 최종적으로 생각한 방법은 <code>HOC</code> 사용하여 구현하는 방법이 였다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="이유">이유<a class="hash-link" aria-label="이유에 대한 직접 링크" title="이유에 대한 직접 링크" href="https://fenrird.github.io/blog/HOC-And-Authorization#%EC%9D%B4%EC%9C%A0">​</a></h4>
<p>내가 <code>HOC</code> 선택한 이유는 router에서 path 마다 component를 연결 해 주는 곳에서 <code>HOC(실제 컴포넌트, 권한)</code> 이런식으로 하게 되면 한 곳에서만
작업을 하면 되고, <code>HOC</code> 컴포넌트 내부에서는 권한 체크 로직을 추가하면 되기 때문에 유지 보수 측면에서 유리하다고 생각되서 선택을 하게 되었다.</p>
<p>그럼 HOC에 대해 알아보자!</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p><a href="https://router.vuejs.org/guide/advanced/navigation-guards.html" target="_blank" rel="noopener noreferrer">navigation-guards(vue-router)</a></p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="higher-order-component-hoc-란">Higher-Order Component (HOC) 란<a class="hash-link" aria-label="Higher-Order Component (HOC) 란에 대한 직접 링크" title="Higher-Order Component (HOC) 란에 대한 직접 링크" href="https://fenrird.github.io/blog/HOC-And-Authorization#higher-order-component-hoc-%EB%9E%80">​</a></h4>
<p>**Higher-Order Component (HOC)**는 함수를 받아 컴포넌트를 반환하는 패턴으로 주로 컴포넌트 간의 로직을 재사용하거나 공통 기능을 주입하기 위해 사용됩니다.</p>
<p>HOC는 컴포넌트를 인자로 받아 그 컴포넌트를 확장하거나 변형하여 새로운 컴포넌트를 반환하는 함수</p>
<p>예를 들어, 다음은 로깅을 추가하는 간단한 HOC의 예시입니다:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// 로깅을 추가하는 HOC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">withLogging</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter maybe-class-name">WrappedComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">mounted</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Component is mounted'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">render</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">h</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">h</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token maybe-class-name">WrappedComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">on</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">$listeners</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token literal-property property">attrs</span><span class="token operator">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">$attrs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// HOC를 사용하여 컴포넌트 확장</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name">EnhancedComponent</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">withLogging</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token maybe-class-name">BaseComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>고맙다. AI 민수야.(ChatGPT)</p>
</blockquote>
<p>요즘 개발 할 때, 필수인 ChatGPT님의 HOC 설명이다. 위 예시를 보면 파라미터로 기존에 컴포넌트를 받아서, 어떠한 로직을 추가하거나 변경해서
새로운 컴포넌트를 되돌려주는 방법이다.!</p>
<blockquote>
<p>참고로 이 블로그를 만든 docusaurus도 이러한 개념을 이용해서 커스텀이 가능하다!
(글을 작성하면서 생각한건데 디자인 패턴 중하나인 Factory Pattern과 유사한거 같기도 하고.?)</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="개발-과정">개발 과정<a class="hash-link" aria-label="개발 과�정에 대한 직접 링크" title="개발 과정에 대한 직접 링크" href="https://fenrird.github.io/blog/HOC-And-Authorization#%EA%B0%9C%EB%B0%9C-%EA%B3%BC%EC%A0%95">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="고차-컴포넌트-구현하기">고차 컴포넌트 구현하기<a class="hash-link" aria-label="고차 컴포넌트 구현하기에 대한 직접 링크" title="고차 컴포넌트 구현하기에 대한 직접 링크" href="https://fenrird.github.io/blog/HOC-And-Authorization#%EA%B3%A0%EC%B0%A8-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0">​</a></h4>
<p>먼저, 내가 기존의 HOC 처럼, 컴포넌트(<code>baseComponent</code>)를 주입받고, 해당 컴포넌트를 접근(이용)하기 위해서 필요한 권한(<code>authorities</code>)을
파라미터로 주입 받는다.</p>
<p>그 후, 주입 받은 권한을 서버에 요청을하면, 서버는 접속한 유저가 해당 권한을 갖고 있는지 확인 후, 유저가 갖고 있는
권한을 응답을 하고, 서버로부터 받은 유저가 갖고 있는 권한과, 해당 페이지에 접근하기 위해 주입 받은 파라미터를 비교 후 권한이 없으면
권한이 필요 없는 <strong>main</strong> 으로 돌려주는 컴포넌트이다.</p>
<p>아래는 내가 구현한 HOC 컴포넌트이다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hoc-구현부">HOC 구현부<a class="hash-link" aria-label="HOC 구현부에 대한 직접 링크" title="HOC 구현부에 대한 직접 링크" href="https://fenrird.github.io/blog/HOC-And-Authorization#hoc-%EA%B5%AC%ED%98%84%EB%B6%80">​</a></h4>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> checkAuthorityAPI </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@/api'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> getInstance </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@/composable'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> useToast </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@/hook/useToast'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> router </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@/router'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> defineComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> onBeforeMount </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@vue/composition-api'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">withPageAccessRightComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">baseComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> authorities</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">string</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">defineComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    components</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      baseComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setup</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> instance </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getInstance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> warning </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useToast</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">onBeforeMount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> params </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          projectId</span><span class="token operator">:</span><span class="token plain"> projectId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          items</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token operator">...</span><span class="token plain">authorities</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">checkAuthorityAPI</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">params</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">then</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> data </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">httpStatus </span><span class="token operator">!==</span><span class="token plain"> HttpStatusCode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Ok</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            instance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">$router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/main'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> contents </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> authorityObj </span><span class="token operator">=</span><span class="token plain"> contents</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">reduce</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">acc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token operator">...</span><span class="token plain">acc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">code</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token operator">:</span><span class="token plain"> cur</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">hasAuthority </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> noPermission </span><span class="token operator">=</span><span class="token plain"> authorities</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">find</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token operator">!</span><span class="token plain">authorityObj</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">noPermission</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token function" style="color:rgb(80, 250, 123)">warning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'해당페이지에 접근 권한이 없습니다.'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              router</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">push</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/main'</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">catch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token builtin" style="color:rgb(189, 147, 249)">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    template</span><span class="token operator">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token template-string string" style="color:rgb(255, 121, 198)">&lt;baseComponent/&gt;</span><span class="token template-string template-punctuation string" style="color:rgb(255, 121, 198)">`</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">default</span><span class="token plain"> withPageAccessRightComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="router에서-컴포넌트를-바인딩-할-때-hoc를-사용하는-구현부">Router에서 컴포넌트를 바인딩 할 때, HOC를 사용하는 구현부<a class="hash-link" aria-label="Router에서 컴포넌트를 바인딩 할 때, HOC를 사용하는 구현부에 대한 직접 링크" title="Router에서 컴포넌트를 바인딩 할 때, HOC를 사용하는 구현부에 대한 직접 링크" href="https://fenrird.github.io/blog/HOC-And-Authorization#router%EC%97%90%EC%84%9C-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-%EB%B0%94%EC%9D%B8%EB%94%A9-%ED%95%A0-%EB%95%8C-hoc%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EA%B5%AC%ED%98%84%EB%B6%80">​</a></h4>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  path</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'/register'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    name</span><span class="token operator">:</span><span class="token plain"> RoleType</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">USER</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'AuthorityGroupRegister'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    component</span><span class="token operator">:</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">withPageAccessRightComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">defineAsyncComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token comment" style="color:rgb(98, 114, 164)">/* webpackChunkName: "AuthorityGroupRegister" */</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'@/views/client/issuesettings/authority/group/pages/AuthorityGroup.vue'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'PROJECT_ROLE_GROUP_INSERT_UPDATE'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p><a href="https://ko.legacy.reactjs.org/docs/higher-order-components.html" target="_blank" rel="noopener noreferrer">고차 컴포넌트(React)</a></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="결론">결론<a class="hash-link" aria-label="결론에 대한 직접 링크" title="결론에 대한 직접 링크" href="https://fenrird.github.io/blog/HOC-And-Authorization#%EA%B2%B0%EB%A1%A0">​</a></h2>
<p>지금도 이 방법이 제대로 최고이자 최선인지는 잘 모르겠다. 더 좋은 방법은 분명히 있겠지만, 각 회사, 프로젝트마다 주어진 상황은 다 다르고,
그 안에서 나름 합리적(?)이고, 최선의 선택을 했다고 생각한다.(팀장님, 팀원들은 대체로 해당 컴포넌트를 만족해 하셨다.)</p>
<p>이직을 하면서 프론트엔드 공통 컴포넌트를 주로 만들고 동료들의 피드백을 받으며 조금씩 성장하고 있는거 같다. 전 직장에서도 많은 도움을 받으며
성장했지만 내가 개발한걸 주로 내가 사용하는 방식이 였는데, 다른 동료들이 사용 한다고 생각하니까 좀 더 깔끔하고, 효율적으로 코드를 짜려고
노력하는거 같다.</p>
<p>더 성장해서 더 좋은곳으로 이직해야지....</p>
<p><img decoding="async" loading="lazy" alt="끝" src="data:image/png;base64,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" width="996" height="618" class="img_ev3q"></p>]]></content:encoded>
            <category>Vue.js</category>
            <category>Authorization</category>
            <category>HOC</category>
            <category>js</category>
        </item>
        <item>
            <title><![CDATA[젠킨스 빌드 리팩토링]]></title>
            <link>https://fenrirD.github.io/blog/jenkins-build-refactoring</link>
            <guid>https://fenrirD.github.io/blog/jenkins-build-refactoring</guid>
            <pubDate>Mon, 18 Sep 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[도입]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="도입">도입<a class="hash-link" aria-label="도입에 대한 직접 링크" title="도입에 대한 직접 링크" href="https://fenrird.github.io/blog/jenkins-build-refactoring#%EB%8F%84%EC%9E%85">​</a></h2>
<hr>
<p>이직 후 점점 적응을 하고, 개발을 하면서 현 회사의 환경에 익숙해 지는 과정에서 새로운 개발 환경을 구성하는 업무를
담당하게 되었고, 업무를 수행하는 과정에서 눈에 거슬리는게 있었다.</p>
<p><img decoding="async" loading="lazy" alt="build img" src="data:image/png;base64,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" width="235" height="105" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="jenkins img" src="data:image/png;base64,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" width="226" height="61" class="img_ev3q"></p>
<p>바로 서버 별로있는 Jenkins Job들과 Source안에 SH 파일(shell script)가 있다는 것이였다.</p>
<p>전 회사에서 심심할 때 CI/CD를 개선하는 작업을 했던 나에게 뭔가 결심을 하게 만들었다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="본론">본론<a class="hash-link" aria-label="본론에 대한 직접 링크" title="본론에 대한 직접 링크" href="https://fenrird.github.io/blog/jenkins-build-refactoring#%EB%B3%B8%EB%A1%A0">​</a></h2>
<p>새로운 개발 환경 서버를 추가하는 업무를 하는 과정에서 서버를 구성하고 CI/CD를 설정하기 위해서는 먼저 기존의 CI/CD 프로세스를 분석해야 했다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="기존-cicd-방식">기존 CI/CD 방식<a class="hash-link" aria-label="기존 CI/CD 방식에 대한 직접 링크" title="기존 CI/CD 방식에 대한 직접 링크" href="https://fenrird.github.io/blog/jenkins-build-refactoring#%EA%B8%B0%EC%A1%B4-cicd-%EB%B0%A9%EC%8B%9D">​</a></h3>
<p>기존의 빌드 방식을 간단하게 글로 작성하면 개발자가 Gitlab에 push를 하면 <code>webhook</code>을 통해 <code>jenkins</code>에서 빌드하고 k8s에
배포하는 방식으로 CI/CD가 구성되어 있었다.</p>
<p><img decoding="async" loading="lazy" alt="img1" src="https://fenrird.github.io/assets/images/jenkins_img1-69350262e1b161ea7ffe33c2a2171f4c.png" width="1796" height="738" class="img_ev3q"></p>
<p>간단하게 기존 CI/CD 프로세스를 이미지화 하면 위와 같다.</p>
<p>서버를 추가하기 위해 거의 동일한 내용의 <code>shell scriprt</code>, <code>webhook</code>, <code>jenkins job</code> 등을 추가 해야 했다.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><ul>
<li>STG 서버를 추가하면서 내가 작업 했던 업무 리스트<!-- -->
<ol>
<li><code>STG Pod</code> 배포</li>
<li>빌드를 위한 <code>Shell Script</code> 작성</li>
<li><code>Webhook</code> 추가</li>
<li><code>Jenkins Job</code> 추가</li>
</ol>
</li>
</ul></div></div>
<p><code>STG</code> 서버 추가 작업을 할 때는 일단 기존의 방식대로 작업을 했다.</p>
<p>그러나 평소 <code>DevOps</code>에 관심이 있던 나는 이게 최선일까? 라는 생각을 하게 되었고
시간이 남을 때, 조금씩 CI/CD 프로세스를 수정을 하고자 했다.</p>
<p>먼저 개선에 앞서 기존 방식의 문제점을 생각했다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="기존-cicd-문제점">기존 CI/CD 문제점<a class="hash-link" aria-label="기존 CI/CD 문제점에 대한 직접 링크" title="기존 CI/CD 문제점에 대한 직접 링크" href="https://fenrird.github.io/blog/jenkins-build-refactoring#%EA%B8%B0%EC%A1%B4-cicd-%EB%AC%B8%EC%A0%9C%EC%A0%90">​</a></h4>
<p>내가 생각한 기존 CI/CD의 문제점은 다음과 같다.</p>
<ol>
<li>서버 환경이 N개로 늘어나면 N개의 <code>sh file</code>, <code>jenkins job</code>이 필요하다.</li>
<li><code>sh file</code>이 FE Source와 함께 관리 된다.</li>
<li>Jenkins 에서는 <code>sh</code>를 실행 시켜주는 역할만 한다.</li>
<li>어느 과정에서 실패 했는지 파악하기 어렵다.</li>
</ol>
<p>이러한 문제점을 해결 하기위해 내가 생각한 방향성은 다음과 같다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="개선하고자-하는-방향">개선하고자 하는 방향<a class="hash-link" aria-label="개선하고자 하는 방향에 대한 직접 링크" title="개선하고자 하는 방향에 대한 직접 링크" href="https://fenrird.github.io/blog/jenkins-build-refactoring#%EA%B0%9C%EC%84%A0%ED%95%98%EA%B3%A0%EC%9E%90-%ED%95%98%EB%8A%94-%EB%B0%A9%ED%96%A5">​</a></h4>
<ol>
<li><code>shell scirpt</code>을 <code>FE source</code>에서 제거하고, 별도의 Repository에서 관리한다.</li>
<li><code>Jenkins Job</code>을 하나로 여러 환경으로 빌드 및 배포를 진행한다.</li>
<li>어느 과정에서 실패 했는지 추적이 쉽게한다.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="새로운-cicd-방식">새로운 CI/CD 방식<a class="hash-link" aria-label="새로운 CI/CD 방식에 대한 직접 링크" title="새로운 CI/CD 방식에 대한 직접 링크" href="https://fenrird.github.io/blog/jenkins-build-refactoring#%EC%83%88%EB%A1%9C%EC%9A%B4-cicd-%EB%B0%A9%EC%8B%9D">​</a></h3>
<p><img decoding="async" loading="lazy" alt="img2" src="https://fenrird.github.io/assets/images/jenkins_img2-0857efce2662f62ea484d67f9bab6efe.png" width="1796" height="738" class="img_ev3q"></p>
<blockquote>
<p>새롭게 개선하고자 하는 CI/CD 프로세스 이미지</p>
</blockquote>
<p>위 이미지 처럼 여러개의 브랜치에서 Webhook을 통해 이벤트가 발생하면 하나의 jenkins Job에서 빌드를 하고,
그리고 배포하고자 하는 서버로 자동으로 배포가 되게 수정을 하고자 했다.</p>
<p>그러기 위해서는 여러가지 수정을 해야 했는데 먼저 빌드 파일이 FE source와 함께 관리되고, <strong>Jenkins</strong>에서는 단순히 <code>shell sciprt</code>만 실행 시켜주는 빌드 방식을 변경하고자 했고,
그 결과 <strong>groovy script</strong>를 작성했다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-groovy-script-작성">1. Groovy script 작성<a class="hash-link" aria-label="1. Groovy script 작성에 대한 직접 링크" title="1. Groovy script 작성에 대한 직접 링크" href="https://fenrird.github.io/blog/jenkins-build-refactoring#1-groovy-script-%EC%9E%91%EC%84%B1">​</a></h4>
<p>나는 Groovy 문법을 잘 모르지만 최대한 <strong>document</strong>를 참고하면서 작성을 했다.
먼저 기존에는 브랜치(배포하려는 서버)와 <code>Jenkins Job</code>의 관계가 1:1 여서 새로운 환경이 추가 될 때마다
롭게 추가해줘야하는 방식이였다면 N(배포하려는 서버) : 1(Jenkins Job) 관계를 갖게 하려고 작업을 했다.</p>
<div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">package cip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">pipeline {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  agent any</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  tools {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    nodejs 'NodeJs-14.13.1'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  stages {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    stage('Initial VARIABLES') {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      steps {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        script {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          CHOISE_BUILD_TARGET="${params.BUILD_TARGET}"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          BUILD_TARGET='""'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          BRANCH_NAME=env.gitlabBranch</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          echo "BRANCH_NAME1: ${BRANCH_NAME} "</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          REPO_URL='[GIT_FE_SOURCE_REPOSITORY_URL]'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          // 수동으로 배포 했을 때, 브랜치와 빌드 타겟을 정해주기 위한 조건문</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          if(CHOISE_BUILD_TARGET) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if(CHOISE_BUILD_TARGET=='dev'){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              BRANCH_NAME="develop"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }else if(CHOISE_BUILD_TARGET =='stg'){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              BRANCH_NAME="stage"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              BUILD_TARGET="-stg"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            } else if(CHOISE_BUILD_TARGET =='prd') {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              BRANCH_NAME="master"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          if(BRANCH_NAME == 'stage') {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            BUILD_TARGET= '-stg'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          } else if(BRANCH_NAME == 'master'){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            BUILD_TARGET= '-prd'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          ADMIN_POD=[DEPLOY_ADMIN_POD_NAME]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          CLIENT_POD=[DEPLOY_CLIENT_POD_NAME]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          DIRECTORY='./dist/js'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          sh "echo '${BUILD_TARGET}'"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          echo "Build Target: ${BUILD_TARGET}"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          echo "BRANCH_NAME: ${BRANCH_NAME} "</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    stage("Branch Checkout") {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      steps{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        checkout([$class: 'GitSCM', branches: [[name: BRANCH_NAME]], doGenerateSubmoduleConfigurations: false, extensions: [], submoduleCfg: [], userRemoteConfigs: [[credentialsId: CREDENTIALS_ID, url: REPO_URL]]])</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    stage("Npm install") {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      steps{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sh 'npm install'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    stage('Npm Run Build  for Develop') {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      when {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        expression {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          return BRANCH_NAME=='develop'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      steps {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sh 'npm run build_dev'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    stage('Npm Run Build  for Stage') {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      when {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        expression {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          return BRANCH_NAME=='stage'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      steps {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sh 'npm run build_stg'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    stage('Npm Run Build  for CIP-Product') {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      when {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        expression {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          return BRANCH_NAME=='master'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      steps {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sh 'npm run build_cip_prd'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    stage('K8S Apply') {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      steps {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        echo '===========================\n'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        echo 'Build cp ADMIN'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        echo '===========================\n'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sh "kubectl exec ${ADMIN_POD} -n [TARGET_POD_NAMESPACE] --kubeconfig=[KUBE_CONFIG_PATH] --context=[CONTEXT] -- sh -c 'rm -rf /usr/share/nginx/html/admin/dist'"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sh "kubectl cp ${WORKSPACE}/dist  saas/${ADMIN_POD}:/usr/share/nginx/html/admin --kubeconfig=[KUBE_CONFIG_PATH] --context=[CONTEXT]"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        echo '===========================\n'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        echo 'Build cp Client'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        echo '===========================\n'</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sh "kubectl exec ${CLIENT_POD} -n TARGET_POD_NAMESPACE] --kubeconfig=[KUBE_CONFIG_PATH] --context=[CONTEXT] -- sh -c 'rm -rf /usr/share/nginx/html/client/dist'"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sh "kubectl cp ${WORKSPACE}/dist  saas/${CLIENT_POD}:/usr/share/nginx/html/client --kubeconfig=[KUBE_CONFIG_PATH] --context=[CONTEXT]"</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>해당 스크립트에 대한 자세한 설명은 생략한다.</p>
</blockquote>
<p><strong>Jenkins Multibranch Pipeline</strong> 를 활용을 했다면 브랜치 관련해서 문법이 더 간단 했겠지만 버전 문제로 사용하지 못 했다.
또한 팀원들의 요청으로 수동 배포 방식도 가능하게 작성했다.</p>
<p>그리고 <code>groovy script</code>는 별도의 Repository에서 관리를 하는 방식으로 변경했다.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p>Groovy 문법 관련해서는 공식 도큐먼트를 참고하자.<br>
<a href="https://www.jenkins.io/doc/pipeline/steps/workflow-cps/#pipeline-groovy" target="_blank" rel="noopener noreferrer">Jenkins Pipeline groovy</a></p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-jenkins-구성-변경">2. Jenkins 구성 변경<a class="hash-link" aria-label="2. Jenkins 구성 변경에 대한 직접 링크" title="2. Jenkins 구성 변경에 대한 직접 링크" href="https://fenrird.github.io/blog/jenkins-build-refactoring#2-jenkins-%EA%B5%AC%EC%84%B1-%EB%B3%80%EA%B2%BD">​</a></h4>
<p>기존에는 Jenkins에서 sh 파일을 실행 시키는 방식으로만 사용 했지만 새롭게 개선한 방향으로는
별도의 Repository에서 groovy script를 읽고 빌드 및 배포를 진행하고자 해서 jenkins job의 구성을 변경했다.</p>
<p><img decoding="async" loading="lazy" alt="img3" src="https://fenrird.github.io/assets/images/jenkins_job_img1-da86f77f5609b26b3375684523a3da49.png" width="819" height="393" class="img_ev3q"></p>
<blockquote>
<p>기존에는 Jenkins 구성은 단지 checkout 받은 소스에서 sh 파일을 실행시켜주는 역할만 했다.</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="img4" src="https://fenrird.github.io/assets/images/jenkins_job_img2-cb0e99bf009f95db7ace6dc9d6e09413.png" width="717" height="393" class="img_ev3q"></p>
<blockquote>
<p>빌드 파일 스크립트를 별도의 Repository에서 관리, 파이프라인 방식으로 변경</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-cicd-과정-한눈에-보기">3. CI/CD 과정 한눈에 보기<a class="hash-link" aria-label="3. CI/CD 과정 한눈에 보기에 대한 직접 링크" title="3. CI/CD 과정 한눈에 보기에 대한 직접 링크" href="https://fenrird.github.io/blog/jenkins-build-refactoring#3-cicd-%EA%B3%BC%EC%A0%95-%ED%95%9C%EB%88%88%EC%97%90-%EB%B3%B4%EA%B8%B0">​</a></h4>
<p><img decoding="async" loading="lazy" alt="img5" src="https://fenrird.github.io/assets/images/jenkins_log_img-033c6bb3f074f9de806e4b8745b7ecd7.png" width="1196" height="596" class="img_ev3q"></p>
<p>파이프라인을 이용하고, groovy script에서 stage 기준으로 단계를 정의 했기 때문에 위 이미지 처럼 어느 단계에서 실패 했는지
보다 확인하기 쉽게 개선을 했다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-팀원들의-요구사항-수동-배포-설정">4. 팀원들의 요구사항 수동 배포 설정<a class="hash-link" aria-label="4. 팀원들의 요구사항 수동 배포 설정에 대한 직접 링크" title="4. 팀원들의 요구사항 수동 배포 설정에 대한 직접 링크" href="https://fenrird.github.io/blog/jenkins-build-refactoring#4-%ED%8C%80%EC%9B%90%EB%93%A4%EC%9D%98-%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD-%EC%88%98%EB%8F%99-%EB%B0%B0%ED%8F%AC-%EC%84%A4%EC%A0%95">​</a></h4>
<p><img decoding="async" loading="lazy" alt="img6" src="data:image/png;base64,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" width="364" height="178" class="img_ev3q"></p>
<p>그리고 팀원들의 요구 사항인 webhook을 통한 배포 외에도 직접 배포할 서버를 선택해서 수동으로 배포할 수 있는 방법으로는
jenkins의 Choice Parameter를 활용해서 적용했다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="결론">결론<a class="hash-link" aria-label="결론에 대한 직접 링크" title="결론에 대한 직접 링크" href="https://fenrird.github.io/blog/jenkins-build-refactoring#%EA%B2%B0%EB%A1%A0">​</a></h2>
<p>음.. 2 ~ 3일이 소요되는 작업이였고, 그 과정에서 Jenkins version 문제와 groovy 문법을 정확히 몰라서 많은 트러블이 있었고,
해결해나가는 과정에서 조금 성장했다고 생각한다.</p>
<p>또한, 내가 한 방법이 정답이라고는 생각하지 않는다. 분명 내가 한 방법은 비 효율적일수도 있다.
하지만 어떻게 하면 내가 더 개발에 집중하고, 더 나아가 같이 일하는 동료들이 개발에 더 집중할수 있는 시간이 조금이라고 향상되었다면
그걸로 만족한다.</p>
<p>그리고 코드리뷰 시간에 이러한 내용을 정리해서 리뷰를 하였고, 팀원들은 긍정적인 반응을 보여줬다.</p>
<p>또한 이 글을 읽는 독자가 조금이라도 DevOps 쪽에 흥미를 갖고, 기존 시스템을 개선하는 계기가 되었으면 한다.</p>
<p>기회가 된다면 다양한 개선 방법에 대해 공부하고 적용해보고 싶다.</p>]]></content:encoded>
            <category>jenkins</category>
            <category>groovy</category>
            <category>CI/CD</category>
            <category>k8s</category>
        </item>
        <item>
            <title><![CDATA[js 호이스팅]]></title>
            <link>https://fenrirD.github.io/blog/js-hoisting</link>
            <guid>https://fenrirD.github.io/blog/js-hoisting</guid>
            <pubDate>Thu, 16 Mar 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[도입]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="도입">도입<a class="hash-link" aria-label="도입에 대한 직접 링크" title="도입에 대한 직접 링크" href="https://fenrird.github.io/blog/js-hoisting#%EB%8F%84%EC%9E%85">​</a></h2>
<hr>
<p><img decoding="async" loading="lazy" alt="Example banner" src="data:image/jpeg;base64,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" width="275" height="183" class="img_ev3q"></p>
<p>JS에서 사용되는 개념인 <strong>Hoisting</strong> 에 대해서 정리를 하고자 한다.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>경고</div><div class="admonitionContent_BuS1"><p>둘리의 호잇 아닙니다.</p></div></div>
<hr>
<p><strong>MDN</strong>에서 아주 친절하게 누군가 물어보면  <strong>"변수의 선언과 초기화를 분리한 후, 선언만 코드의 최상단으로 옮기는 것"</strong> 이렇게 설명 하라고 작성되어 있다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="본론">본론<a class="hash-link" aria-label="본론에 대한 직접 링크" title="본론에 대한 직접 링크" href="https://fenrird.github.io/blog/js-hoisting#%EB%B3%B8%EB%A1%A0">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="호이스팅">호이스팅<a class="hash-link" aria-label="호이스팅에 대한 직접 링크" title="호이스팅에 대한 직접 링크" href="https://fenrird.github.io/blog/js-hoisting#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85">​</a></h3>
<p><strong>MDN</strong>에서 설명 해준 내용을 읽고, 아래의 코드의 실행 결과를 예상해보자.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"hello"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">printAge</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">17</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"Lee"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">printAge</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">age</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'age:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">age</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 코드는 아래와 같이 출력한다.</p>
<div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y text--truncate">http://localhost:3000</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><p>hello Lee<br>
<!-- -->age: 17</p></div></div>
<p>위에 작성한 코드는 <strong>Reference Error</strong> 가 아닌 <code>name</code> 과 <code>printAge</code> 함수가 정상적으로 수행된다.
왜? 그게 바로 호이스팅이다.</p>
<p>javascript 에서 <strong>var</strong>로 선언한 변수와 함수의 선언식에서는 인터프리터가 변수와 함수의 메모리 공간을 선언전에 미리 할당하는데
이러한 작업을 호이스팅이라고 한다.</p>
<p>더욱 쉽게 설명하면 <strong>호이스팅</strong>은 JavaScript에서 변수 및 함수 선언이 해당 스코프의 최상단으로 옮겨지는 것을 의미합니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="호이스팅-종류">호이스팅 종류<a class="hash-link" aria-label="호이스팅 종류에 대한 직접 링크" title="호이스팅 종류에 대한 직접 링크" href="https://fenrird.github.io/blog/js-hoisting#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-%EC%A2%85%EB%A5%98">​</a></h3>
<p>호이스팅 종류에는 두 가지 요소가 있다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="변수-호이스팅">변수 호이스팅<a class="hash-link" aria-label="변수 호이스팅에 대한 직접 링크" title="변수 호이스팅에 대한 직접 링크" href="https://fenrird.github.io/blog/js-hoisting#%EB%B3%80%EC%88%98-%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85">​</a></h4>
<p>변수 선언은 해당 스코프의 최상단으로 옮겨지지만, 초기화(할당)는 그 자리에 남아 있다.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"hello"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"Lee"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 코드는 Javascript 엔진에 의해 실제로 다음과 같이 실행 된다.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"hello"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">name </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"Lee"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="함수-호이스팅">함수 호이스팅<a class="hash-link" aria-label="함수 호이스팅에 대한 직접 링크" title="함수 호이스팅에 대한 직접 링크" href="https://fenrird.github.io/blog/js-hoisting#%ED%95%A8%EC%88%98-%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85">​</a></h4>
<p>함수 선언은 해당 스코프의 최상단으로 옮겨지며, 이때 함수의 전체 정의가 옮겨 진다.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">printFunc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// "Hello!"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">printFunc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Hello!"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 코드는 Javascript 엔진에 의해 실제로 다음과 같이 실행 된다.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">printFunc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Hello!"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">printFunc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// "Hello!"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="주의사항">주의사항<a class="hash-link" aria-label="주의사항에 대한 직접 링크" title="주의사항에 대한 직접 링크" href="https://fenrird.github.io/blog/js-hoisting#%EC%A3%BC%EC%9D%98%EC%82%AC%ED%95%AD">​</a></h4>
<ul>
<li>
<p>변수 호이스팅 시, 선언만 옮겨지고 초기화는 그 자리에 남아 있으므로 변수를 사용하기 전에 선언되었는지 주의해야 한다.</p>
</li>
<li>
<p>함수 호이스팅은 함수 전체가 옮겨지기 때문에 함수 선언식을 사용하더라도 해당 함수를 호출할 수 있다.</p>
</li>
<li>
<p>함수 표현식(anonymous function expression)의 경우 호이스팅이 되지 않는다.</p>
</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">printFunc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// Error: printFunc is not a function</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">printFunc</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Hello!"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 코드에서는 변수 printFunc은 호이스팅되지만, 해당 변수의 초기화 값이 함수가 아니기 때문에 오류가 발생한다.</p>
<p>호이스팅은 코드의 가독성과 유지보수성을 떨어뜨릴 수 있으므로, 변수와 함수를 선언한 위치에 최대한 가깝게 작성하는 것이 좋다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="결론">결론<a class="hash-link" aria-label="결론에 대한 직접 링크" title="결론에 대한 직접 링크" href="https://fenrird.github.io/blog/js-hoisting#%EA%B2%B0%EB%A1%A0">​</a></h2>
<p>호이스팅은 의도치 않게 실수를 일으킬 가능성이 있으니 항상 주의해서 코드를 작성하자.</p>]]></content:encoded>
            <category>javascript</category>
            <category>hoisting</category>
            <category>var</category>
            <category>let</category>
            <category>const</category>
        </item>
        <item>
            <title><![CDATA[js 비동기 프로그래밍]]></title>
            <link>https://fenrirD.github.io/blog/js-asynchronous</link>
            <guid>https://fenrirD.github.io/blog/js-asynchronous</guid>
            <pubDate>Fri, 02 Dec 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[도입]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="도입">도입<a class="hash-link" aria-label="도입에 대한 직접 링크" title="도입에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%EB%8F%84%EC%9E%85">​</a></h2>
<hr>
<p>Q. js에서 비동기 대해 설명해주세요</p>
<p>A. 네? 비동기요? 비동기가 어떻게 이루어지는 지를 말씀히시는건가요?</p>
<p>Q. 네 뭐든요.</p>
<p>A. 이벤트 루프 어쩌구 저쩌구 프로미스 어저꾸 저쩌구 async, await 주저리주저리..</p>
<p>Q. Ajax 아시죠?</p>
<p>A. 네. Ajax는 비동기 통신을 위한 저는 JQuery 어저꾸 저쩌구 (뇌는 하얗게 변함 🤯)</p>
<p>Q. 콜백 지옥이라고 들어보셨죠?</p>
<p>A. 네. 콜백은 호출하는 함수를 파라미터로 전달에서 어떠한 동작이 끝나고 호출</p>
<p>Q. 개발하시면서 콜백 지옥을 경험해본적은?</p>
<p>A. (이미 뇌는 멈췄다) 어... 그러니까...</p>
<p>Q. ...</p>
<p>A. ...</p>
<hr>
<p>대략 이런 대화였다. 지금 와서 생각해보면 JS 특징과 JS가 어떻게 비동기 처리를 하는지 알고 있는지를 물어보려고 하신 거 같다.
아마 실제 답을 할 때는 나 스스로 정리도 안 되고 내 머릿속에서 떠다니는 단편적인 지식을 조합해서 대답했다.</p>
<p>지금 생각하면 어떤 기능을 개발하기에만 급급하고 그 기능을 구현할 때 사용하는 기본적인 지식 습득에는 관심이 없어서 대답을 저렇게 한 거 같다.
항상 어떤 개발을 할 때, 왜 사용하는지를 알고 해결하고 끝이 아닌 정리를 하지 않으면 기술 면접에서는 영원히 불합격할 거 같다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="본론">본론<a class="hash-link" aria-label="본론에 대한 직접 링크" title="본론에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%EB%B3%B8%EB%A1%A0">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="javascript-특징이-뭐에요">Javascript 특징이 뭐에요?<a class="hash-link" aria-label="Javascript 특징이 뭐에요?에 대한 직접 링크" title="Javascript 특징이 뭐에요?에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#javascript-%ED%8A%B9%EC%A7%95%EC%9D%B4-%EB%AD%90%EC%97%90%EC%9A%94">​</a></h3>
<p>에? JS에 특징이요? 어... 그러니까 JS는 <em>인터프리터 언어</em>이고 <em>싱글 스레드</em> 뭐 블라블라 라고 대답하겠다.
JS 비동기 프로그래밍에서 중요한 건 <em>싱글 스레드</em>이다. JS가 싱글 스레드라는 의미는 작업이 시작되면 이 작업이 완료되기까지 다른 작업을 할 수 없다.</p>
<p>왜곡된 설명을 하자면 한 식당이 있다. 이 식당의 기본적인 프로세스는 주문 -&gt; 요리 -&gt; 서빙 순으로 진행된다. 이 식당에 근로자가 1명이라면?
첫 번째 손님이 오면 근로자는 위에 프로세스대로 일한다. 서빙을 마치고 두 번째 손님이 왔다면 다시 위 프로세스를 진행한다.
만약 요리하는 와중에 세 번째 손님이 오면 이 손님은 주문을 하려 해도 근로자가 서빙까지 마치고 나서야 주문을 할 수 있다는 것이다.</p>
<p>즉 JS는 한번에 하나의 일밖에 처리 못하는 <code>single Thread</code>다</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p>Thread: 스레드는 어떠한 프로그램이 실행되는 작업을 말함</p></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sleep</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> loopTime </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">now</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">now</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> loopTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">order</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">o</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">cook</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">o</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">cook</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">o</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> ms </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">floor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">random</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">10000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">sleep</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">serve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">o</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">serve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">o</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"메뉴: "</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> o</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"조리시간: "</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ms</span><span class="token operator">/</span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">"초"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">order</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'피자'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">order</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'치킨'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">order</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'물'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y text--truncate">http://localhost:3000</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><p>피자</p><p>치킨<br>
<!-- -->물</p></div></div>
<p>위에 예시를 실행하면 항상 조리시간(ms) 상관없이 피자, 치킨, 물로 출력이 된다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="비동기-프로그래밍">비동기 프로그래밍<a class="hash-link" aria-label="비동기 프로그래밍에 대한 직접 링크" title="비동기 프로그래밍에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%EB%B9%84%EB%8F%99%EA%B8%B0-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D">​</a></h3>
<p>비동기 프로그래밍이란 어떤 작업이 완료 될 때까지 기다리지 않고 다른 작업을 수행 하는것이다.<br>
<!-- -->엥? 근데 js는 싱글 스레드다. 어떻게할까?</p>
<p>javascript 엔진(V8)과  브라우저에 대해서 어느정도 이해가 필요하다.</p>
<p>[구조 사진 들어가는 곳]</p>
<ul>
<li>
<p>Stack</p>
<ul>
<li>스택은 우리가 잘 아는 자료구조의 하나인 스택과 비슷한 개념으로 함수를 호출하면 <code>stack</code>에 push 된다.</li>
</ul>
</li>
<li>
<p>Heap</p>
<ul>
<li>js에 객체 등 메모리 할당이 발생하는 곳</li>
</ul>
</li>
<li>
<p>Web API</p>
<ul>
<li>DOM, AJAX, 등 브라우저가 제공하는 API</li>
</ul>
</li>
<li>
<p>callback queue</p>
<ul>
<li>DOM, AJAX, 등의 이벤트가 끝난 후 <code>queue</code>에서 대기한다.</li>
</ul>
</li>
<li>
<p>Event Loop</p>
<ul>
<li>Event Loop는 <em>Stack</em>이 비어있으면 queue에 있는 함수를 Stack으로 전달한다.</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p>callback queue는 <strong>microtask queue</strong> 와 <strong>macrotask queue</strong>가 존재하고 우선 순위도 다르지만 자세한 설명은 생략한다.</p></div></div>
<p>위 구조를 이해하기 위해 간단한 예제인 아래 코드를 보면서 이해를 해보자.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="동기-진동기-부회장-아님">동기 (진동기 부회장 아님)<a class="hash-link" aria-label="동기 (진동기 부회장 아님)에 대한 직접 링크" title="동기 (진동기 부회장 아님)에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%EB%8F%99%EA%B8%B0-%EC%A7%84%EB%8F%99%EA%B8%B0-%EB%B6%80%ED%9A%8C%EC%9E%A5-%EC%95%84%EB%8B%98">​</a></h4>
<div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y text--truncate">http://localhost:3000</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(80, 250, 123)">SyncTest</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">foods</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setFoods</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sleep</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> loopTime </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">now</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">now</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> loopTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">order</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> foods </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'피자'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'치킨'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'물'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    foods</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cook</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">cook</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">food</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> ms </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">floor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">random</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">10000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'조리 시간:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">sleep</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">serve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">food</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">serve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">food</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    time </span><span class="token operator">=</span><span class="token plain"> time </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setFoods</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">old</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token spread operator">...</span><span class="token plain">old</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">food</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"서빙 : "</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> food</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">display</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript string" style="color:rgb(255, 121, 198)">'flex'</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">flex</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript string" style="color:rgb(255, 121, 198)">'1'</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">flexDirection</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript string" style="color:rgb(255, 121, 198)">'column'</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">order</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">display</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript string" style="color:rgb(255, 121, 198)">'flex'</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">flexDirection</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript string" style="color:rgb(255, 121, 198)">'column'</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"> 주문</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">hr</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          foods</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token parameter">food</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> time</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> idx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">key</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript string" style="color:rgb(255, 121, 198)">"food_"</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">+</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> idx</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text">음식:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">food</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain-text">, 시간: </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain-text"> 초</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="display:flex;flex:1;flex-direction:column"><div style="display:flex;flex-direction:column"><button> 주문</button></div><hr><div></div><div></div></div></div></div>
<p>아까 본 코드를 실행해보면 조리 시간과 상관없이 피자, 치킨, 물이 출력되는데 위 코드의 실행순서를 그림으로 보면 아래와 같다.</p>
<p>[JS 구조와 실행순서 그림(동기)]</p>
<ol>
<li><code>onClick</code> Event 실행 되고, 큐에 할당되고, 스택이 비어있으므로 바로 스택에서 실행된다.</li>
<li><code>order</code> 함수가 스택에 쌓이고, <code>cook</code> 함수를 호출한다.</li>
<li><code>cook</code> 함수가 스택에 쌓이고, <code>sleep</code> 함수를 호출한다.</li>
<li><code>sleep</code> 함수에서 인자로 받은 값 만큼 대기하고, <code>sleep</code> 함수가 스택에서 제거된다.</li>
<li><code>serve</code> 함수를 호출하고, <code>log</code> 출력 후, 스택에 쌓인 함수들이 순차적으로 제거된다.</li>
<li>위 과정을 <code>foods</code> 길이 만큼 반복한다.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="비동기">비동기<a class="hash-link" aria-label="비동기에 대한 직접 링크" title="비동기에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%EB%B9%84%EB%8F%99%EA%B8%B0">​</a></h4>
<div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y text--truncate">http://localhost:3000</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(80, 250, 123)">AsyncTest</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">foods</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setFoods</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">order</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> foods </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">'피자'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'치킨'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'물'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    foods</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">cook</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">cook</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">food</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> ms </span><span class="token operator">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">floor</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">random</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">10000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'조리 시간:'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">serve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">food</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">ms</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">serve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">food</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    time </span><span class="token operator">=</span><span class="token plain"> time </span><span class="token operator">/</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setFoods</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">old</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token spread operator">...</span><span class="token plain">old</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">food</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"서빙 : "</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> food</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">display</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript string" style="color:rgb(255, 121, 198)">'flex'</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">flex</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript string" style="color:rgb(255, 121, 198)">'1'</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">flexDirection</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript string" style="color:rgb(255, 121, 198)">'column'</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">order</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">style</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">display</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript string" style="color:rgb(255, 121, 198)">'flex'</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript literal-property property" style="color:rgb(255, 121, 198)">flexDirection</span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript string" style="color:rgb(255, 121, 198)">'column'</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"> 주문</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">hr</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          foods</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token parameter">food</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> time</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> idx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">key</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript string" style="color:rgb(255, 121, 198)">"food_"</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> </span><span class="token tag script language-javascript operator" style="color:rgb(255, 121, 198)">+</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)"> idx</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text">음식:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">food</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain-text">, 시간: </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">time</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain-text"> 초</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="display:flex;flex:1;flex-direction:column"><div style="display:flex;flex-direction:column"><button> 주문</button></div><hr><div></div></div></div></div>
<p>[Timeout을 실행 방법]</p>
<ol>
<li><code>onClick</code> Event 실행 되고, 큐에 할당되고, 스택이 비어있으므로 바로 스택에서 실행된다.</li>
<li><code>order</code> 함수가 스택에 쌓이고, <code>cook</code> 함수를 호출한다.</li>
<li><code>cook</code> 함수가 스택에 쌓이고, <code>serve</code>함수는 <code>setTimeout</code>에 의해 브라우저의 <code>WebAPI</code> 에서 <code>ms</code> 후에 실행 된다.</li>
<li><code>cook</code> 함수가 스텍에서 제거된다.</li>
<li>위 과정을 <code>foods</code> 길이 만큼 반복한후, <code>order</code> 함수도 스택에서 제거된다.</li>
<li><code>setTimeout</code>이 <code>ms</code> 값에 따라 실행된 순서대로, 큐에 쌓인다.</li>
<li>스택이 비어 있으면 이벤트 루프에 의해 스택에 쌓이고 <code>serve</code> 함수를 호출한다.</li>
<li><code>log</code> 출력 후, <code>serve</code>가 제거된다.</li>
<li>6~8번의 과정이 큐에 값이 없을 때 이벤트 루프에 의해 까지 반복 된다.</li>
</ol>
<hr>
<p>위에 두 코드의 가장 큰 차이점은 <code>sleep</code> 과 <code>setTimeout</code>을 통한 지연이다. <code>sleep</code>의 경우 스택에서 실행되어 지연되고 <code>setTimeout</code>은 브라우저의 WebAPI 통해 실행된다.</p>
<p>즉 JS에서 비동기 처리는 브라우저의 WebAPI 에서 실행되고, 실행이 끝난후 큐에 쌓이고, 이벤트 루프에 의해서 스택이 비어있으면 스택에 쌓인뒤 실행된다는 것을 알수있다.</p>
<blockquote>
<p>스택에 쌓인뒤 실행되는 함수를 콜백 함수라고 한다.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="콜백">콜백<a class="hash-link" aria-label="콜백에 대한 직접 링크" title="콜백에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%EC%BD%9C%EB%B0%B1">​</a></h3>
<p>콜백이란 특별한 의미가 아닌 당장 실행되지 않고 미래에 실행하는 단순한 의미이다. 비동기 프로그래밍은 언제 해당 함수의 처리가 완료 될지 모르므로
해당 함수가 종료 된 후, 그 다음 함수를 실행하기 위해 파라미터를 함수로 인자로 전달한뒤, 해당 로직이 끝난 후 실행하는것을 보장하기 위한 방법이다.</p>
<ul>
<li>callback을 사용하는 예시</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// forEach에서 사용하는 callback</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">forEach</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">n</span><span class="token arrow operator">=&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// setTimeout에서 사용하는 callback</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">setTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">callback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">func1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">num</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> callback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'func1'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  num </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">callback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">num</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">call</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">func1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token parameter">num</span><span class="token arrow operator">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">num</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">call</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>js에서 함수도 object이므로 파라미터로 전달하는게 가능하다</p>
</blockquote>
<p>그리고 비동기 관련 질문에서 빼놓을수 없는게 콜백 지옥(👹)이다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="콜백-지옥">콜백 지옥<a class="hash-link" aria-label="콜백 지옥에 대한 직접 링크" title="콜백 지옥에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%EC%BD%9C%EB%B0%B1-%EC%A7%80%EC%98%A5">​</a></h4>
<p>콜백 지옥은 무수히 많은 콜백으로 인해 코드가 직관적이지 않고 가독성이 떨어지는 상황이다.</p>
<ul>
<li>이미지를 로드하고 그리는 상황에 예시</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">getImage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8B8c7i0OCqgXJiV7al7cTXiaAjDWEHharTg&amp;usqp=CAU"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">img</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">resizeImage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">img</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">img</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">img</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> img</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">width</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> img</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token property-access">height</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 ��복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 코드는 이미지를 불러오고 사이즈를 재조정하는 코드이다. 음 아직까지는 읽을만하다.🙄</p>
<p>아래 코드를 살펴 보자</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">getImage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8B8c7i0OCqgXJiV7al7cTXiaAjDWEHharTg&amp;usqp=CAU"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">img</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">resizeImage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">img</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">img</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token function" style="color:rgb(80, 250, 123)">applyFilter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">img</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">img</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token function" style="color:rgb(80, 250, 123)">saveImage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">img</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">img</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'Save Image'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 코드는 이미지를 불러오고, 사이즈를 조정하고, 필터를 씌우고, 이미지를 저장하고, 출력한다.</p>
<p>... 점점 복잡해 진다.🤯<br>
<!-- -->만약 여기서 더 기능을 추가하면 수 많은 <code>})</code>를 보게 되고, 코드의 가독성은 점점 줄어든다.
위 코드처럼 <em><del>콜백에 콜백에 콜백을 더해서 어머 깜짝이야</del></em> 하는 상황이 콜백 지옥이다.</p>
<p>엥? 콜백 지옥을 어떻게 벗어남?</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p>콜백 지옥에서 벗어나는 방법:
<a href="http://callbackhell.com/" target="_blank" rel="noopener noreferrer">Callback hell</a></p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="promise-">Promise (🤙)<a class="hash-link" aria-label="Promise (🤙)에 대한 직접 링크" title="Promise (🤙)에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#promise-">​</a></h3>
<p>위와 같이 <strong>Callback Hell</strong> 을 벗어나기 위해서 ES6에서 나온 문법이 <code>Promise</code>다.</p>
<blockquote>
<p>프로미스는 어느 시점에 비동기 작업의 최종 완료 혹은 실패에대한 결과값을 나타낸다.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="프로미스-문법">프로미스 문법<a class="hash-link" aria-label="프로미스 문법에 대한 직접 링크" title="프로미스 문법에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%ED%94%84%EB%A1%9C%EB%AF%B8%EC%8A%A4-%EB%AC%B8%EB%B2%95">​</a></h4>
<p>프로미스 객체는 <code>callback</code>을 받는 생성자를 통해 사용가능하며 파라미터로는 <code>resolve</code> 와 <code>reject</code>를 사용한다.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">resolve</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> reject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y text--truncate">http://localhost:3000</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><p>Promise<br>
<!-- -->[[PromiseState]]: 'pending'<br>
<!-- -->[[PromiseResult]]: undefiend</p></div></div>
<p>위를 콘솔창에 실행하면 <code>PromiseState</code>와 <code>PromiseResult</code> 값을 반환한다.</p>
<p><code>PromiseState</code>는 <code>pending</code>이고, <code>PromiseResult</code>는 <code>undefiend</code> 값을 갖고 있다.
<code>PromiseState</code>와 <code>PromiseResult</code>를 통해 무언가를 하지 않는다.
하지만 <code>Promise</code>가 어떤 상태를 값을 갖고 그 상태 값의 의미는 알아야 한다.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="프로미스의-상태">프로미스의 상태<a class="hash-link" aria-label="프로미스의 상태에 대한 직접 링크" title="프로미스의 상태에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%ED%94%84%EB%A1%9C%EB%AF%B8%EC%8A%A4%EC%9D%98-%EC%83%81%ED%83%9C">​</a></h4>
<p>프로미스의 상태는 <code>pending</code>, <code>fulfilled</code>, <code>rejected</code>를 갖고 있다.</p>
<ul>
<li>⏳<code>pending</code>: Promise는 해결(fulfilled) 혹은 실패(rejected)되지도 않고 대기중인 상태</li>
<li>✔<code>fullfilled</code>: Promise가 해결(resolve)된 상태</li>
<li>✖ <code>rejected</code>: 어떤 이유로 Promise가 실패(rejected)한 상태</li>
</ul>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">Promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">resolve</span><span class="token parameter punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token parameter"> reject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"성공"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">reject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"실패"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 코드를 실행해보면 아래와 같은 값을 볼 수 있다.</p>
<div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y text--truncate">http://localhost:3000</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><p>Promise<br>
<!-- -->[[PromiseState]]: "fulfilled"<br>
<!-- -->[[PromiseResult]]: "성공"</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="프로미스로-콜백지옥을-벗어나자">프로미스로 콜백지옥을 벗어나자.<a class="hash-link" aria-label="프로미스로 콜백지옥을 벗어나자.에 대한 직접 링크" title="프로미스로 콜백지옥을 벗어나자.에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%ED%94%84%EB%A1%9C%EB%AF%B8%EC%8A%A4%EB%A1%9C-%EC%BD%9C%EB%B0%B1%EC%A7%80%EC%98%A5%EC%9D%84-%EB%B2%97%EC%96%B4%EB%82%98%EC%9E%90">​</a></h4>
<ul>
<li>프로미스의 상태는 <code>pending</code>, <code>fullfilled</code>, <code>rejected</code>를 갖음</li>
<li><code>resolve</code>, <code>reject</code></li>
<li><code>then</code>, <code>cacth</code>, <code>finally</code></li>
<li>사실 callback queue 에는 두가지 task queue가 존재함<!-- -->
<ul>
<li>microtask queue<!-- -->
<ul>
<li>promise, process.nextTick, queueMicrotask</li>
</ul>
</li>
<li>macrotask queue<!-- -->
<ul>
<li>setTimeout, setInterval, setImmediate</li>
</ul>
</li>
<li>우선순위는 마이크로태스크 큐가 더 높음</li>
</ul>
</li>
<li>ES6에서 두두등장</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="프로미스의-우선순위">프로미스의 우선순위<a class="hash-link" aria-label="프로미스의 우선순위에 대한 직접 링크" title="프로미스의 우선순위에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%ED%94%84%EB%A1%9C%EB%AF%B8%EC%8A%A4%EC%9D%98-%EC%9A%B0%EC%84%A0%EC%88%9C%EC%9C%84">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'first log'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">setTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"timeout log"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">resolve</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">"Promist log"</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">then</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token method function property-access" style="color:rgb(80, 250, 123)">log</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">'final log'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위에 실행 결과는 어떻게 될까?</p>
<div class="browserWindow_my1Q"><div class="browserWindowHeader_jXSR"><div class="buttons_uHc7"><span class="dot_giz1" style="background:#f25f58"></span><span class="dot_giz1" style="background:#fbbe3c"></span><span class="dot_giz1" style="background:#58cb42"></span></div><div class="browserWindowAddressBar_Pd8y text--truncate">http://localhost:3000</div><div class="browserWindowMenuIcon_Vhuh"><div><span class="bar_rrRL"></span><span class="bar_rrRL"></span><span class="bar_rrRL"></span></div></div></div><div class="browserWindowBody_Idgs"><p>first log<br>
<!-- -->final log<br>
<!-- -->Promist log<br>
<!-- -->timeout log</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="async--await">async / await<a class="hash-link" aria-label="async / await에 대한 직접 링크" title="async / await에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#async--await">​</a></h3>
<ul>
<li>ES7에 두두등장 ( Promise는 ES6에서 등장함)</li>
<li>사용법은 <code>async</code>는 function 앞페 <code>await</code>은 <code>promise</code>를 리턴받아야함!</li>
<li><code>async</code>는 프로미스를 리턴함</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="제너레이터">제너레이터<a class="hash-link" aria-label="제너레이터에 대한 직접 링크" title="제너레이터에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%EC%A0%9C%EB%84%88%EB%A0%88%EC%9D%B4%ED%84%B0">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="결론">결론<a class="hash-link" aria-label="결론에 대한 직접 링크" title="결론에 대한 직접 링크" href="https://fenrird.github.io/blog/js-asynchronous#%EA%B2%B0%EB%A1%A0">​</a></h2>
<p>Javascript에서 비동기에 관련해서 깊고 더 깊이 설명하기 위해서는 많은 공부가 필요하다. 사실 면접관님도 나에게 도움을 주고자 힌트를
많이 던져주셨지만 힌트를 방어 코드로 거부했다. 그 이유로는 내가 과정보다는 결과에만 급급해서 코딩을 하기 떄문인거 같다.</p>
<p>그리고 비동기 관련해서는 모든 내용을 완성하고 싶지만 <code>Promise</code>, <code>async/ await</code>, <code>제너레이터</code>는  사용해 보고,
대충 알지만 글로 정리하기 위해서는 스스로 아는 개념을 확인도 하고, 부족한 내용을 채우고, 아는 내용은 서로 연결하는 과정이 필요하다.
그래서 추후에 작성을 하려고 한다.</p>
<p>그건 그렇고 면접 때 받은 질문을 다시 각색해보자.</p>
<hr>
<p>Q. js에서 비동기 대해 설명해주세요</p>
<p>A. 네? 비동기요? 비동기가 어떻게 이루어지는 지를 말씀히시는건가요?</p>
<p>Q. 네 뭐든요.</p>
<p>A. 네. JS는 싱글 스레드를 특징으로 갖고 있습니다. 싱글 스레드는 한번에 하나의 처리 밖에 못하므로 JS에서 비동기를 이해하기 위해서는 먼저
JS 엔진(V8)과 브라우저의 WebAPI에 대해서 이해야합니다. JS엔진에는 메모리가 할당되는 <code>heap</code> 영역과 <code>Call Stack</code>이 존재하고 호출 된 함수는
<code>Call Stack</code>영역에서 처리합니다. 하지만 비동기 처리 <code>DOM EVENT</code>, <code>AJAX</code>, <code>Timer</code> 등 브라우저의 WebAPI에서 실행됩니다. WebAPI에서 실행이
끝난 후 브라우저의 <code>callback queue</code>에서 대기 하고, <code>Event Loop</code>는 <code>Call Stack</code>이 비어있으면 <code>callback queue</code>에서 대기중인 콜백 함수를
<code>Call Stack</code>에 푸쉬하고 JS 엔진은 콜백을 실행합니다.😎</p>
<p>Q. 콜백이나 콜백 지옥은 아시나요?(😒)</p>
<p>A. 네. 콜백 자체의 의미는 단순히 즉시 실행하는게 아닌 미래에 실행되는 의미로 아까 설명한대로 비동기 처리가 끝난 후, 실행되는 함수를 콜백이라고 할 수 있습니다.
그리고 콜백 지옥은 콜백에 콜백이 이루어져서 피라미드 구조를 갖게되어 해당 코드에 대해 직관성이 떨어지고, 유지 보수가 어렵게 되어 생산성을 떨어트립니다.
콜백 지옥을 회피하기 위한 방법으로 코드를 얕게 유지, 모듈화를 통한 방법이 있습니다. 또한, ES6에서는 <code>promise</code>를 사용해서 Chain 구조를 사용하여 회피 할 수 있습니다.😎</p>
<p>Q. 개발하시면서 콜백 지옥을 경험해본적은?</p>
<p>A. 제가 경험한 프로젝트에서 휴대폰으로 사진을 찍고, 해당 사진을 <code>Crop</code> 하여 갤러리에 저장하고, 그 저장한 이미지를 서버에 전송하는 프로세스가 있었습니다.
당시에는 <code>Promise</code>를 사용하여 처리를 했던 기억이 있습니다.😎</p>
<p>Q. 😲</p>
<hr>
<p>이라는 시나리오를 쓰면서 글을 마무리한다.</p>
<p>참조</p>
<blockquote>
<p><a href="http://callbackhell.com/" target="_blank" rel="noopener noreferrer">Callback Hell</a><br>
<a href="https://developer.mozilla.org/ko/docs/Learn/JavaScript/Asynchronous/Introducing#%EC%BD%9C%EB%B0%B1" target="_blank" rel="noopener noreferrer">Introducing asynchronous JavaScript</a><br>
<a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ" target="_blank" rel="noopener noreferrer">What the heck is the event loop anyway?</a><br>
<a href="https://dev.to/lydiahallie/javascript-visualized-event-loop-3dif" target="_blank" rel="noopener noreferrer">javascript-visualized-event-loop-3dif</a></p>
</blockquote>]]></content:encoded>
            <category>비동기</category>
            <category>javascript</category>
            <category>promise</category>
            <category>event loop</category>
        </item>
        <item>
            <title><![CDATA[React Batch?]]></title>
            <link>https://fenrirD.github.io/blog/react-batch</link>
            <guid>https://fenrirD.github.io/blog/react-batch</guid>
            <pubDate>Wed, 30 Nov 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[도입]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="도입">도입<a class="hash-link" aria-label="도입에 대한 직접 링크" title="도입에 대한 직접 링크" href="https://fenrird.github.io/blog/react-batch#%EB%8F%84%EC%9E%85">​</a></h2>
<hr>
<p>Q. React로 개발을 하셨는데 한 함수(Event Handler) 내에서 같은 상태를 2번 변경하면 어떻게 되나요? 그리고 랜더링은 몇번 이루어 지나요?</p>
<p>A. 음..? (왜 똑같은 상태를 2번 바꾸지? 의미가 있나?) 어.. 일단 마지막에 변경된 값으로 상태가 변합니다. 랜더링은 1번 이루어 질거라고 생각합니다.</p>
<p>Q. 왜요?</p>
<p>A. 어... 그러니까.. 음 한번도 같은 상태를 연속으로 바꾼적이... 아마 지연?</p>
<p>Q. 아.. 네</p>
<hr>
<p>위 Q&amp;A는 내가 면접 때 질문을 듣고 대답한 내용이다.<br>
<!-- -->내가 FE 개발자로 React를 공부했다고 하면서 이런 질문에 다시는 얼버무리지 않기 위해 정리하고자 한다.</p>
<blockquote>
<p>State 업데이트는 <strong>비동기적</strong>일 수도 있습니다.<br>
<!-- -->React는 성능을 위해 여러 setState() 호출을 단일 업데이트로 한꺼번에 처리할 수 있습니다.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="batch">Batch?<a class="hash-link" aria-label="Batch?에 대한 직접 링크" title="Batch?에 대한 직접 링크" href="https://fenrird.github.io/blog/react-batch#batch">​</a></h2>
<p>Batch란? React가 더 나은 성능을 위해 <em>여러 상태 업데이트를 단일 재랜더링으로 그룹화</em> 하는 경우이다.
쉽게 생각해서 다이소에서 물건 10개를 살 때, 모든 물건의 값을 지불하는게 아닌 물건 각각 계산을 해서 영수증을 10개를 받게 된다면 얼마나 비효율적인지 생각하면 쉽다.
그래서 React 도 상태가 변경 될 때마다 DOM을 다시 그리는게 아닌 변경된 상태를 한번에 DOM에 반영하는 것이다.</p>
<div class="playgroundContainer_X_Ta"><div class="playgroundHeader_dyrN">라이브 에디터</div><div class="playgroundEditor_Q6Y7"><pre class="prism-code language-tsx" style="margin:0;outline:none;padding:10px;font-family:inherit;color:#F8F8F2;background-color:#282A36" spellcheck="false"><span class="token-line" style="color:#F8F8F2">
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">renderCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setRenderCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">useEffect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token function" style="color:rgb(80, 250, 123)">setRenderCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token arrow operator">=&gt;</span><span class="token plain">c</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">click</span><span class="token plain"> </span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token arrow operator">=&gt;</span><span class="token plain">c</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token arrow operator">=&gt;</span><span class="token plain">c</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token arrow operator">=&gt;</span><span class="token plain">c</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">h2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">h2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">click</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text">Add</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">h2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text">render Counter: </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">renderCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">h2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2">
</span></pre></div><div class="playgroundHeader_dyrN">결과</div><div class="playgroundPreview_DzOI"><div>Loading...</div></div></div>
<p><code>add</code> 버튼을 누르면 <code>count</code>는 3이 증가하고 <code>renderCount</code>는 1증가한다. 즉 상태는 3번의 변경이 있었지만 실제 DOM에 반영된 횟수는 1번이고 React는 상태를 일괄 적으로 처리한다는걸 알수 있다.
일괄 처리는 React의 <code>Transation</code> 객체를 통해 이루어 진다. 내가 이해한 바로는 상태변경은 컴포넌트의 모든 작업이 끝난 뒤에 발생을 하기 위해서 큐(queue)에 등록후 일괄 처리 한다는 것이다.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>팁</div><div class="admonitionContent_BuS1"><p>Transation 객체에 대해서는 자세한 내용은 아래 글을 참조.<br>
<a href="https://d2.naver.com/helloworld/9297403#ch1-3" target="_blank" rel="noopener noreferrer">Naver D2- React의 작동 방법</a></p></div></div>
<p>그렇다고 모든 상태 변경에 대한 처리가 일괄처리 되는것은 아니다.</p>
<div class="playgroundContainer_X_Ta"><div class="playgroundHeader_dyrN">라이브 에디터</div><div class="playgroundEditor_Q6Y7"><pre class="prism-code language-tsx" style="margin:0;outline:none;padding:10px;font-family:inherit;color:#F8F8F2;background-color:#282A36" spellcheck="false"><span class="token-line" style="color:#F8F8F2">
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">renderCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setRenderCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">useEffect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token function" style="color:rgb(80, 250, 123)">setRenderCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token arrow operator">=&gt;</span><span class="token plain">c</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">click</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">setTimeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">setCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token arrow operator">=&gt;</span><span class="token plain">c</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">setCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token arrow operator">=&gt;</span><span class="token plain">c</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token function" style="color:rgb(80, 250, 123)">setCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">c</span><span class="token arrow operator">=&gt;</span><span class="token plain">c</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">h2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">h2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">click</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text">Add</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">h2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text">render Counter: </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">renderCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">h2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span>
</span><span class="token-line" style="color:#F8F8F2">
</span></pre></div><div class="playgroundHeader_dyrN">결과</div><div class="playgroundPreview_DzOI"><div>Loading...</div></div></div>
<p>위 코드를 실행하면 <code>renderCount</code>가 <code>setCount</code> 횟수만큼 증가한다.<br>
<!-- -->즉 Batch는 <code>Promise</code>, <code>setTimeout</code>, <code>native Event Handler</code> 등은 일괄 처리 되지 않는다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="automatic-batch">Automatic Batch<a class="hash-link" aria-label="Automatic Batch에 대한 직접 링크" title="Automatic Batch에 대한 직접 링크" href="https://fenrird.github.io/blog/react-batch#automatic-batch">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p>React 18 버전 부터는 <code>Automatic Batch</code> 을 지원한다.<br>
<a href="https://ko.reactjs.org/blog/2022/03/29/react-v18.html#new-feature-automatic-batching" target="_blank" rel="noopener noreferrer">공식 문서 - Automatizc Batch</a></p></div></div>
<p>이 글에 React 18버전의 Auto Batch가 어떻게 이루어지는지 코드 블럭을 통해 작성하고 싶지만 현재 Docusaurus의 버전이 17버전이므로 18버전으로 작성된 <a href="https://codesandbox.io/s/great-babycat-p98g6x" target="_blank" rel="noopener noreferrer">React18 -Automatic Batch 예제</a>
위 샌드박스에서 <code>add</code> 버튼을 누르면 17버전과 다르게 <code>renderCounter</code>가 1번만 증가 하는거를 알수 있다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="batch-를-사용하지-않으려면">Batch 를 사용하지 않으려면?<a class="hash-link" aria-label="Batch 를 사용하지 않으려면?에 대한 직접 링크" title="Batch 를 사용하지 않으려면?에 대한 직접 링크" href="https://fenrird.github.io/blog/react-batch#batch-%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EC%9C%BC%EB%A0%A4%EB%A9%B4">​</a></h3>
<p>batch를 원하지 않을 때가 있다. 그런 경우가 뭐가 있을까? 음.. 생각이 안난다. 아무튼 예제 코드는 작성해본다.</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token imports"> flushSync </span><span class="token imports punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">'react-dom'</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(80, 250, 123)">Counter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">renderCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> setRenderCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">useState</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">useEffect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token function" style="color:rgb(80, 250, 123)">setRenderCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">c</span><span class="token arrow operator">=&gt;</span><span class="token plain">c</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(80, 250, 123)">click</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">flushSync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token function" style="color:rgb(80, 250, 123)">setCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">c</span><span class="token arrow operator">=&gt;</span><span class="token plain">c</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">flushSync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token arrow operator">=&gt;</span><span class="token function" style="color:rgb(80, 250, 123)">setCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token parameter">c</span><span class="token arrow operator">=&gt;</span><span class="token plain">c</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">h2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">h2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(248, 248, 242)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 121, 198)">click</span><span class="token tag script language-javascript punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text">Add</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">h2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text">render Counter: </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">renderCount</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">h2</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><a href="https://codesandbox.io/s/summer-sun-w1kqsp?file=/src/App.js" target="_blank" rel="noopener noreferrer">flushSync를 사용해서 Automatic Batch 비활성화</a></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>정보</div><div class="admonitionContent_BuS1"><p><code>flushSync</code>는 react 18 부터</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="결론">결론<a class="hash-link" aria-label="결론에 대한 직접 링크" title="결론에 대한 직접 링크" href="https://fenrird.github.io/blog/react-batch#%EA%B2%B0%EB%A1%A0">​</a></h2>
<p>공부한 내용을 바탕으로 Q&amp;A를 다시 해본다면 아마 이렇게 답을 할거같다.</p>
<hr>
<p>Q. React로 개발을 하셨는데 한 함수(Event Handler)내에서 같은 상태를 2번 변경하면 어떻게 되나요? 그리고 랜더링은 몇번 이루어 지나요?</p>
<p>A. (자신감 있게) 네. 같은 상태를 2번 변경해도 React의 <code>Batch</code> 로 인해 상태 업데이트를 일괄 처리하기 때문에 상태는 2번 변경되지만 랜더링 자체는 1번만 됩니다.</p>
<p>Q. 일괄 처리 된다고요? 그러면 비동기요청은요?</p>
<p>A. 네. 비동기 요청의 경우에는 현재 사용하는 <em>React Version</em>에 따라서 달라집니다. 18버전 이전의 경우에는 비동기 요청의 콜백 함수에 상태 변경이 있는 횟수만큼 랜더링 됩니다. 하지만 18 버전에는 Automatic Batch가 추가 되면서
비동기 요청의 콜백에 상태 변화가 몇번이 발생해도 일괄 처리 대기 때문에 랜더링은 1회만 발생합니다. 또한 18버전에서 자동으로 일괄처리 되는것을 막기위해 <code>flushSync</code>를 사용합니다.</p>
<p>Q. 오호. 합격!</p>
<hr>
<p>이라는 시나리오를 쓰면서 글을 마무리한다.</p>
<p>참조</p>
<blockquote>
<p><a href="https://github.com/reactwg/react-18/discussions/21" target="_blank" rel="noopener noreferrer">React 18 Automatic Batch</a><br>
<a href="https://d2.naver.com/helloworld/9297403#ch2" target="_blank" rel="noopener noreferrer">Naver D2 기술 블로그</a></p>
</blockquote>]]></content:encoded>
            <category>batch</category>
            <category>react</category>
            <category>기술면접</category>
        </item>
    </channel>
</rss>